{"version":3,"sources":["util/url.js","util/auth.js","components/common/Redirect.jsx","components/login/index.jsx","components/common/navbar/Navbar.js","components/sidebar/Sidebar.js","components/home/Home.js","components/logout/Logout.js","components/graphs/GenreMappings.js","components/graphs/GenreGraphs.js","components/artist/ArtistPage.js","components/dashboard/FetchDashTracks.js","components/dashboard/FetchUserWelcome.js","components/dashboard/FetchDashArtists.js","components/dashboard/GenreChart.js","components/dashboard/Dash.js","components/top_artists/FetchArtists.js","components/top_artists/ArtistPage.js","components/top_artists/TopArtists.js","components/top_albums/FetchAlbums.js","components/top_albums/AlbumGraph.js","components/top_albums/RelatedAlbums.js","components/top_albums/TopAlbums.js","components/top_albums/PopularityChart.js","components/top_tracks/FetchTracks.js","components/top_tracks/RelatedTracks.js","components/top_tracks/TrackGraph.js","components/top_tracks/TopTracks.js","App.js","serviceWorker.js","index.js"],"names":["getUrlParams","vars","window","location","href","replace","m","key","value","config","headers","registerSpotify","code","Promise","resolve","reject","axios","post","split","then","res","data","err","logout","get","Redirect","props","url","Login","redirectToSpotify","a","redirect","setState","redirectUrl","state","params","this","setUserInfo","history","userInfo","console","log","id","push","user","class","className","Button","variant","onClick","Component","React","useStyles","makeStyles","theme","root","display","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","paper","background","hide","flexShrink","whiteSpace","drawerOpen","color","drawerClose","overflowX","spacing","breakpoints","up","toolbar","alignItems","justifyContent","padding","position","right","mixins","customizeToolbar","minHeight","content","flexGrow","userLinks","action","type","guestLinks","MiniDrawer","classes","useTheme","useState","open","setOpen","icons","text","image","style","link","CssBaseline","Drawer","clsx","Toolbar","backgroundColor","IconButton","aria-label","edge","direction","Divider","List","map","icon","index","ListItem","button","component","ListItemIcon","ListItemText","primary","status","Logout","useEffect","marginTop","fontFamily","Mappings","username","chartReference","createRef","token","cookie","scores","genreLabels","dataset","length","labels","label","colors","datasets","catch","Grid","container","item","xs","sm","border","ref","GenreGraphs","ArtistPage","onClose","artist_uri","uri","responsive","desktop","breakpoint","max","min","items","paritialVisibilityGutter","tablet","mobile","artist_data","artist_info","album_info","albums","external_urls","spotify","followers","total","genres","images","name","popularity","genre_data","settings","autoplay","dots","infinite","slidesToShow","slidesToScroll","speed","autoplaySpeed","height","left","Card","src","handleClose","Icon","Typography","gutterBottom","options","rotation","Math","PI","circumference","title","scale","ticks","yAxis","pointLabels","fontSize","fontColor","legend","radius","justify","Paper","elevation","album","tracks_page","e","preventDefault","FetchDashTracks","tracks","setTracks","top_tracks","size","track","ListItemAvatar","Avatar","alt","track_name","secondary","artist","FetchUserWelcome","user_info","CardMedia","objectFit","image_url","CardContent","slice","toUpperCase","artists_page","FetchDashArtists","artists","setArtists","top_artists","artist_name","GenreChart","range","chart","angleLines","suggestedMin","suggestedMax","Dash","overflow","Grommet","full","Distribution","margin","gap","fill","values","CircularProgress","FetchArtists","isCardFunction","handleChange","spacer","clicked","nextProps","componentDidMount","fetch","oldState","info","borderRadius","boxShadow","join","TopArtists","artist_side","handleSubmit","event","new_value","bind","onSubmit","Tabs","indicatorColor","textColor","onChange","Tab","show","Box","pad","FetchAlbums","setAlbums","scroll","isMounted","md","lg","AlbumGraph","mounted","feature","names","borderColor","scales","yAxes","gridLines","drawBorder","plugins","filler","propagate","Alert","RelatedAlbums","playTrack","play","player","pause","album_name","popularities","track_names","previews","disabled","saveTrack","disabled_keys","current","reason","tracks_in_album","audio","CardHeader","subheader","Snackbar","autoHideDuration","severity","TopAlbums","sidePane","render","changeTab","maxHeight","FetchTracks","handleHover","bool","temp","k","hovering","Array","prev","onMouseEnter","onMouseLeave","RelatedTracks","track_ids","added","notif","song_names","ids","fontWeight","marginBottom","TrackGraph","TopTracks","showGraph","graphTrack","App","rel","exact","path","match","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.8846def8.chunk.js","sourcesContent":["//returns access token\r\nexport function getUrlParams() {\r\n    const vars = {};\r\n    const parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, (m, key, value) => {\r\n      vars[key] = value;\r\n    });\r\n    return vars;\r\n  }\r\n  \r\n  export function removeHashParams(value) {\r\n    if (typeof value !== 'string') return '';\r\n    const split = value.split('#');\r\n    return split[0];\r\n  }\r\n  \r\n  export function getHashParams() {\r\n    const hashParams = {};\r\n    let e;\r\n    const r = /([^&;=]+)=?([^&;]*)/g;\r\n    const q = window.location.hash.substring(1);\r\n  \r\n    while (e = r.exec(q)) {\r\n      hashParams[e[1]] = decodeURIComponent(e[2]);\r\n    }\r\n    return hashParams;\r\n  }","import axios from 'axios';\r\nimport { removeHashParams } from './url';\r\nimport { getRequestOptions } from './general';\r\n\r\nconst config = { \r\n  headers: {  \r\n    'Content-Type': 'application/json',\r\n    'Access-Control-Allow-Origin': '*'\r\n  }\r\n}\r\n\r\nexport function getLoginRedirect() {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .get('/auth/redirect-spotify')\r\n      .then(res => resolve(res.data), err => reject(err));\r\n  });\r\n}\r\n\r\nexport function registerSpotify(code) {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .post('/auth/user', { code: removeHashParams(code) }, config)\r\n      .then(\r\n        res => resolve(res.data),\r\n        err => reject(err)\r\n      );\r\n  });\r\n}\r\n\r\nexport function getSpotifyUser() {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .get('/auth/user')\r\n      .then(\r\n        res => resolve(res.data),\r\n        err => reject(err),\r\n      );\r\n  });\r\n}\r\n\r\nexport function logout() {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .get('/auth/logout')\r\n      .then(\r\n        res => resolve(res),\r\n        err => reject(err)\r\n      );\r\n  });\r\n}","import React from 'react';\r\n\r\nconst Redirect = (props) => window.location = props.url;\r\n \r\nexport default Redirect;","import React, { Component } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Redirect from '../common/Redirect';\r\nimport { getUrlParams } from '../../util/url';\r\nimport { getLoginRedirect, registerSpotify } from '../../util/auth';\r\nimport './login.css';\r\n\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { redirectUrl: '' }\r\n  }\r\n\r\n  redirectToSpotify = async () => {\r\n    const redirect = await getLoginRedirect();\r\n    this.setState({ redirectUrl: redirect });\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const params = getUrlParams();\r\n    const code = params.code || null;\r\n    const { setUserInfo, history, userInfo } = this.props;\r\n    console.log(code);\r\n    if (userInfo && userInfo.id) {\r\n      history.push('/');\r\n      return;\r\n    };\r\n    if (!code) return;\r\n\r\n    const user = await registerSpotify(code);\r\n    setUserInfo(user);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.redirectUrl) {\r\n      return <Redirect url={this.state.redirectUrl} />\r\n    }\r\n\r\n    return (\r\n        <div class=\"landing-page-body\">\r\n\r\n            <h1 className=\"welcome-title\">Welcome</h1>\r\n            <h1 className=\"welcome-subtitle\">Spotify Dashboard</h1>\r\n\r\n\r\n            <Button className=\"login-btn\" variant=\"contained\" onClick={this.redirectToSpotify}>Login with Spotify</Button>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n \r\nexport default Login;","import React from \"react\";\r\nimport './Navbar.css';\r\nimport {Button, Navbar, Nav, NavDropdown, Form, FormControl} from 'react-bootstrap';\r\nimport {logout} from '../../../util/auth.js';\r\n\r\nclass NavBar extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n      }\r\n    render(){\r\n        const userLinks = (\r\n            <Nav.Link href= \"/logout\" onClick={logout}>Logout</Nav.Link>\r\n        );\r\n        const guestLinks = (\r\n            <Nav.Link href=\"/login\">Login</Nav.Link>\r\n        );\r\n        return(\r\n            <Navbar className=\"top-navbar\" bg=\"light\" expand=\"lg\">\r\n                <Navbar.Brand href=\"/\">Spotify-Viz</Navbar.Brand>\r\n                <Navbar.Toggle className=\"navBar-font\" aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse className=\"navBar-font\" id=\"basic-navbar-nav\">\r\n                {this.props.userInfo === `Not logged in` ? guestLinks : userLinks}\r\n                    <Nav className=\"mr-auto\">\r\n                    <NavDropdown title=\"Listening History\" className=\"navBar-font\" id=\"basic-nav-dropdown\">\r\n                        <NavDropdown.Item href=\"/top_tracks\">Top Tracks</NavDropdown.Item>\r\n                        <NavDropdown.Item href=\"/top_albums\">Top Albums</NavDropdown.Item>\r\n                        <NavDropdown.Item href=\"/top_artists\">Top Artists</NavDropdown.Item>\r\n                        <NavDropdown.Divider />\r\n                        {/*<NavDropdown.Item href=\"#action/3.4\">Separated link</NavDropdown.Item>*/}\r\n                    </NavDropdown>\r\n                    <NavDropdown title=\"Graphs\" className=\"navBar-font\" id=\"basic-nav-dropdown\">\r\n                        <NavDropdown.Item href=\"/graphs\">Artists</NavDropdown.Item>\r\n                        <NavDropdown.Item href=\"#action/3.2\">Albums</NavDropdown.Item>\r\n                        <NavDropdown.Item href=\"#action/3.3\">Playlists</NavDropdown.Item>\r\n                        <NavDropdown.Divider />\r\n                        <NavDropdown.Item href=\"#action/3.4\">My Listening</NavDropdown.Item>\r\n                    </NavDropdown>\r\n                    </Nav>\r\n                    <Form inline>\r\n                    <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" />\r\n                    <Button variant=\"outline-success\">Search</Button>\r\n                    </Form>\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport HomeIcon from'@material-ui/icons/Home';\r\nimport LibraryMusicIcon from '@material-ui/icons/LibraryMusic';\r\nimport AlbumIcon from '@material-ui/icons/Album';\r\nimport PersonOutlineIcon from '@material-ui/icons/PersonOutline';\r\nimport BarChartIcon from '@material-ui/icons/BarChart';\r\nimport Link from '@material-ui/core/Link';\r\nimport {logout} from '../../util/auth.js';\r\nimport './sidebar.css'\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  paper: {\r\n   background: 'red',   \r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n    whiteSpace: 'nowrap',\r\n  },\r\n  drawerOpen: {\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    background: 'rgba(21,21,21,1)',\r\n    color: '#DFE0E3'\r\n  },\r\n  drawerClose: {\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    overflowX: 'hidden',\r\n    width: theme.spacing(7) + 1,\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9) + 1,\r\n    },\r\n    background: 'rgba(21,21,21,1)',\r\n    color: '#DFE0E3'\r\n  },\r\n  toolbar: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: theme.spacing(0, 1),\r\n    position: 'absolute',\r\n    right: '0px',\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  customizeToolbar: {\r\n    minHeight: 64,\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nconst userLinks = (\r\n  <form action=\"/logout\">\r\n    <input variant=\"outlined\" type=\"submit\" class=\"logs-user\" value=\"Logout\" />\r\n</form>\r\n\r\n);\r\nconst guestLinks = (\r\n\r\n        <form action=\"/login\">\r\n    <input variant=\"outlined\" type=\"submit\" class=\"logs-user\" value=\"Login\" />\r\n        </form>\r\n\r\n);\r\n\r\n\r\nexport default function MiniDrawer(userInfo) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [open, setOpen] = React.useState(false);\r\n  const icons = [{\r\n      text: \"Home\",\r\n      image: <HomeIcon style={{color: '#DFE0E3'}} />,\r\n      link: \"/dashboard\",\r\n  }, {\r\n      text: \"My Tracks\",\r\n      image: <LibraryMusicIcon style={{color: '#DFE0E3'}}/>,\r\n      link: \"/top_tracks\"\r\n  },{\r\n      text: \"My Albums\",\r\n      image: <AlbumIcon style={{color: '#DFE0E3'}}/>,\r\n      link: \"/top_albums\",\r\n  }, {\r\n      text: \"My Artists\",\r\n      image: <PersonOutlineIcon style={{color: '#DFE0E3'}}/>,\r\n      link: \"/top_artists\"\r\n  }\r\n    ]\r\n  \r\n  const graph_icons = [<BarChartIcon style={{color: '#DFE0E3'}}/>]\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  console.log(userInfo.userInfo);\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n\r\n      <Drawer\r\n        variant=\"permanent\"\r\n        className={clsx(classes.drawer, {\r\n          [classes.drawerOpen]: open,\r\n          [classes.drawerClose]: !open,\r\n        })}\r\n        classes={{\r\n          paper: clsx({\r\n            [classes.drawerOpen]: open,\r\n            [classes.drawerClose]: !open,\r\n          }),\r\n        }}\r\n      >\r\n      <Toolbar style={{backgroundColor: 'rgba(21,21,21,1)', color: '#DFE0E3'}} className={classes.customizeToolbar} >\r\n          {!open &&\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton, {\r\n              [classes.hide]: open,\r\n            })}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          }\r\n\r\n\r\n\r\n\r\n        <div className={classes.toolbar}>\r\n          {open && <IconButton onClick={handleDrawerClose}>\r\n            {theme.direction === 'rtl' ? <ChevronRightIcon style={{ color: \"white\" }} /> : <ChevronLeftIcon style={{ color: \"white\" }} />}\r\n          </IconButton>}\r\n        </div>\r\n         </Toolbar>\r\n\r\n\r\n        <Divider />\r\n        <List>\r\n          {icons.map((icon, index) => (\r\n            <ListItem button component=\"a\" href={icon.link} key={icon.text}>\r\n              <ListItemIcon>{icon.image}</ListItemIcon>\r\n              <ListItemText primary={icon.text} />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n        <Divider />\r\n\r\n\r\n\r\n              {open && ((userInfo.userInfo.status === `Not logged in` || userInfo.userInfo === null) ? guestLinks : userLinks)}\r\n      </Drawer>\r\n\r\n\r\n\r\n\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { logout } from '../../util/auth';\r\nimport NavBar from '../common/navbar/Navbar';\r\nimport { Album } from 'react-spotify-api';\r\nimport { SpotifyApiContext} from 'react-spotify-api';\r\nimport Sidebar from '../sidebar/Sidebar';\r\nimport Login  from './../login/index.jsx';\r\n\r\nclass Home extends React.Component{\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(this.props);\r\n      }\r\n    async componentDidMount() {\r\n        const { userInfo, history } = this.props; \r\n    }\r\n    logout = async () => {\r\n        const res = await logout();\r\n            if (res.status === 200) {\r\n\r\n            }\r\n        }\r\n\r\n\r\n    render(){\r\n       if(this.props.userInfo == 'Not logged in' || (this.props.userInfo == null) || (this.props == null)) {\r\n           return (\r\n            <div>\r\n                <Login userInfo={this.props.userInfo}></Login>\r\n            </div>\r\n           );\r\n       } else {\r\n       console.log(this.props.userInfo);\r\n        return(\r\n            <div>\r\n            <Sidebar userInfo={this.props.userInfo}/>\r\n            <h1>Hello!\r\n            </h1>\r\n            </div>\r\n        );\r\n        }\r\n    }\r\n}\r\n\r\nexport default Home;","import {logout} from '../../util/auth.js';\r\nimport React, {useEffect, useState} from 'react';\r\n\r\n\r\nexport default function Logout(userInfo) {\r\n    console.log(userInfo);\r\n\r\n    useEffect(() => {\r\n        logout();\r\n\r\n\r\n    });\r\n\r\n\r\n    return(\r\n        <div style={{ marginTop: `64px`, marginLeft: '84px'}}>\r\n        <h1 style={{fontFamily: 'Montserrat !important'}}>You are now logged out.</h1>\r\n        <p><a style={{fontFamily: 'Montserrat !important'}} href=\"/\">Click here to return to the home page.</a></p>\r\n        </div>\r\n    );\r\n}\r\n","import React, {useEffect, useState, shouldComponentUpdate} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { Doughnut, Radar, Polar } from 'react-chartjs-2';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\nclass Mappings extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.username = props.data;\r\n        this.chartReference = React.createRef();\r\n        this.token = cookie.get('access_token');\r\n        this.state = {\r\n            scores: [],\r\n            genreLabels: [],\r\n            dataset: [],\r\n            data: []\r\n        };\r\n\r\n    }\r\n    shouldComponentUpdate() {\r\n        if(this.state[\"data\"].length == 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    async componentDidMount()  {\r\n        axios.get(`/api/graphs/short_term/${this.token}`)\r\n        .then(res => {\r\n            this.setState({\r\n                scores: res.data.scores,\r\n                genreLabels: res.data.labels,\r\n                dataset: {\r\n                  data:res.data.scores,\r\n                  label:\"User Data\",\r\n                  backgroundColor: res.data.colors\r\n                },\r\n\r\n                data: [{\r\n                    labels: res.data.labels,\r\n                    datasets: [{\r\n                          data:res.data.scores,\r\n                          label:\"User Data\",\r\n                          backgroundColor: res.data.colors\r\n                    }]\r\n                }]\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        if(this.state[\"data\"].length > 0) {\r\n                return (\r\n\r\n\r\n          <Grid container className=\"grid-container\">\r\n            <Grid item xs={12} sm={6}>\r\n              <div style={{ backgroundColor:'none', border:'1px solid black' }}>\r\n                <Doughnut ref={this.chartReference}\r\n                data={this.state.data[0]} />\r\n              </div>\r\n           </Grid>\r\n           <Grid item xs={12} sm={6}>\r\n              <div style={{ backgroundColor:'white' }}>\r\n                <Polar ref={this.chartReference}\r\n                data={this.state.data[0]} />\r\n              </div>\r\n           </Grid>\r\n      </Grid>\r\n);\r\n       } else {\r\n       return (<div></div>)\r\n       }\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default Mappings;","import React from \"react\";\r\nimport {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { logout } from '../../util/auth';\r\nimport NavBar from '../common/navbar/Navbar';\r\nimport { Album } from 'react-spotify-api';\r\nimport { SpotifyApiContext} from 'react-spotify-api';\r\nimport Mappings from './GenreMappings'\r\n\r\n\r\n\r\n\r\nclass GenreGraphs extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n      }\r\n    async componentDidMount() {\r\n        const { userInfo, history } = this.props;\r\n                console.log(this.props);\r\n\r\n    }\r\n    logout = async () => {\r\n        const res = await logout();\r\n            if (res.status === 200) {\r\n            }\r\n        }\r\n\r\n    render(){\r\n        const labels = <Mappings data={this.token}/>;\r\n        return(\r\n            <div>\r\n            <h1>Graphs</h1>\r\n            {labels}\r\n            </div>\r\n\r\n        );\r\n\r\n    }\r\n}\r\n\r\nexport default GenreGraphs;\r\n","import React, { useState, useEffect, Component, setState } from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { useParams } from \"react-router-dom\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\nimport Carousel from 'react-material-ui-carousel'\r\nimport 'react-multi-carousel/lib/styles.css';\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport Slider from \"react-slick\";\r\nimport './artist.css'\r\nimport Card from '@material-ui/core/Card';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Doughnut, Radar } from 'react-chartjs-2';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ItemsCarousel from 'react-items-carousel';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n//import \"font-awesome/css/font-awesome.css\";\r\nimport Icon from '@material-ui/core/Icon';\r\n\r\n\r\n\r\n\r\nclass ArtistPage extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {};\r\n        this.chartReference = React.createRef();\r\n        console.log(this.props);\r\n        this.onClose = this.props.onClose;\r\n        console.log(this.props.onClose);\r\n        this.artist_uri = this.props.id.uri;\r\n        this.token = cookie.get('access_token');\r\n\r\n\r\n        this.responsive = {\r\n          desktop: {\r\n    breakpoint: { max: 3000, min: 1024 },\r\n    items: 3,\r\n    paritialVisibilityGutter: 60\r\n  },\r\n  tablet: {\r\n    breakpoint: { max: 1024, min: 464 },\r\n    items: 2,\r\n    paritialVisibilityGutter: 50\r\n  },\r\n  mobile: {\r\n    breakpoint: { max: 464, min: 0 },\r\n    items: 1,\r\n    paritialVisibilityGutter: 30\r\n  }\r\n        };\r\n\r\n\r\n    }\r\n\r\n    async componentDidMount()  {\r\n        axios.get(`/api/artist/${this.artist_uri}/${this.token}`)\r\n        .then(res => {\r\n            console.log(res.data);\r\n            var artist_data = res.data.artist_info;\r\n            var album_info = res.data.albums;\r\n            console.log({\r\n                'external_url':artist_data.external_urls.spotify,\r\n                'followers': artist_data.followers.total,\r\n                'genres': artist_data.genres,\r\n                'images':artist_data.images,\r\n                'name': artist_data.name,\r\n                'popularity':artist_data.popularity,\r\n                'albums':album_info.items,\r\n                'genre_data':res.data.genre_data,\r\n                'dataset': {\r\n                    data: res.data.genre_data.scores,\r\n                    labels: res.data.genre_data.labels,\r\n                    backgroundColor: res.data.genre_data.colors\r\n                },\r\n                'data': [{\r\n                    labels: res.data.genre_data.labels,\r\n                    datasets: [{\r\n                        'data': res.data.genre_data.scores,\r\n                        'labels': res.data.genre_data.labels,\r\n                        'backgroundColor': res.data.genre_data.colors\r\n                    }]\r\n                }]\r\n\r\n            });\r\n            this.setState({\r\n                'external_url':artist_data.external_urls.spotify,\r\n                'followers': artist_data.followers.total,\r\n                'genres': artist_data.genres,\r\n                'images':artist_data.images,\r\n                'name': artist_data.name,\r\n                'popularity':artist_data.popularity,\r\n                'albums':album_info.items,\r\n                'genre_data':res.data.genre_data,\r\n                'dataset': {\r\n                    data: res.data.genre_data.scores,\r\n                    labels: res.data.genre_data.labels,\r\n                    backgroundColor: ['rgba(0,0,0,0.5)']\r\n                },\r\n                'data': [{\r\n                    labels: res.data.genre_data.labels,\r\n                    datasets: [{\r\n                        'data': res.data.genre_data.scores,\r\n                        'labels': res.data.genre_data.labels,\r\n                        'backgroundColor': ['rgba(90,240,159,0.5)']\r\n                    }]\r\n                }]\r\n\r\n            });\r\n            console.log(this.state);\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    handleClose() {\r\n        this.onClose();\r\n\r\n    }\r\n\r\n\r\n    render(){\r\n\r\n\r\n        const breakPoints = [\r\n          { width: 1, itemsToShow: 1 },\r\n          { width: 550, itemsToShow: 2 },\r\n          { width: 768, itemsToShow: 3 },\r\n          { width: 1200, itemsToShow: 4 }\r\n        ];\r\n\r\n        if('external_url' in this.state) {\r\n\r\n            var settings = {\r\n              autoplay: true,\r\n              dots: false,\r\n              infinite: true,\r\n              slidesToShow: 5,\r\n              slidesToScroll: 1,\r\n              speed: 2000,\r\n              autoplaySpeed: 0\r\n\r\n            };\r\n\r\n\r\n            return(\r\n            <>\r\n            <BrowserView style={{height:'100%'}}>\r\n                <Grid style={{height:'100%', position:'relative', left:'0px', width:'100%'}} container className=\"grid-container\">\r\n                <Grid style={{height:'100%'}} item sm={10}>\r\n                    <Card className=\"artist-card\">\r\n                      <Grid container className='artist-top-container'>\r\n                        <Grid style={{height:'100%'}} item sm={6}>\r\n                           <div style={{height:'100%'}} className=\"artist-img-container\">\r\n                                <a href={this.state['external_url']}>\r\n                                    <img className=\"artist-img\" src={this.state['images'][0]['url']}  />\r\n                                </a>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid style={{height:'100%'}} item sm={6}>\r\n                             <div className=\"artist-info\">\r\n                            <IconButton className=\"exit-artist-modal\" onClick={() => this.handleClose()}>\r\n                                <Icon onClick={() => this.handleClose()} className=\"fa fa-times\" />\r\n                            </IconButton>\r\n                            <div className=\"artist-name-container\">\r\n                                <Typography className=\"artist-name\" style={{fontFamily: 'Montserrat'}}\r\n                                        gutterBottom variant=\"h3\" component=\"h3\">{this.state['name']}</Typography>\r\n                            </div>\r\n                            <div className=\"genre-doughnut\">\r\n                                <Radar ref={this.chartReference}\r\n                                data={this.state.data[0]} options={{\r\n                                    rotation: Math.PI,\r\n                                    circumference: Math.PI,\r\n                                       title: {\r\n                                            display: true,\r\n                                            position: \"center\",\r\n                                            text: 'Upcoming Meetings' },\r\n                                        scale: {\r\n                        ticks: {\r\n                            display: false\r\n                        },\r\n                        yAxis: {\r\n                            display: false\r\n                        },\r\n                        pointLabels: {\r\n                            fontSize: 16,\r\n                            fontColor: '#111111',\r\n                            fontFamily: \"'Montserrat','Roboto'\"\r\n                        }\r\n                    },\r\n                    legend: {\r\n                        display: false\r\n                    },\r\n                    radius: {\r\n                        fontSize: 24\r\n                    }\r\n                                }} />\r\n                            </div>\r\n                        </div>\r\n                        </Grid>\r\n                      </Grid>\r\n                      <Grid container alignItems=\"center\" justify=\"center\" >\r\n                        <Grid style={{height:'100%'}} item sm={11}>\r\n                            <div>\r\n                                <Paper className='carousel-bgd' elevation={3}>\r\n                                    <Slider {...settings}>\r\n\r\n                                    {\r\n\r\n                                        this.state.albums.map((album) =>\r\n                                            <img className=\"album-carousel-item\" src={album.images[0].url}\r\n                                                  />\r\n\r\n                                        )\r\n\r\n\r\n                                    }\r\n                                    </Slider>\r\n                                </Paper>\r\n                            </div>\r\n                        </Grid>\r\n                      </Grid>\r\n                 </Card>\r\n               </Grid>\r\n               </Grid>\r\n\r\n\r\n            </BrowserView>\r\n\r\n\r\n            <MobileView>\r\n                <Grid container className=\"grid-container\">\r\n                <Grid item xs={12}>\r\n                    <div className=\"artist-img\">\r\n                        <a href={this.state['external_url']}>\r\n                            <img src={this.state['images'][0]['url']} height={this.state['images'][1]['height']} width={this.state['images'][1]['width']} />\r\n                        </a>\r\n                    </div>\r\n               </Grid>\r\n               <p>{this.state['followers']}</p>\r\n               </Grid>\r\n            </MobileView>\r\n\r\n         </>\r\n\r\n\r\n\r\n            );\r\n        }\r\n        else {\r\n            return (<p></p>);\r\n        }\r\n    }\r\n}\r\n\r\nexport default ArtistPage;\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image, Button } from 'semantic-ui-react';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport './userinfo.css';\r\n\r\nfunction tracks_page(e) {\r\n  e.preventDefault();\r\n  window.location = '/top_tracks';\r\n}\r\n\r\nexport function FetchDashTracks(data) {\r\n    console.log(data.data)\r\n    const [tracks, setTracks] = useState([]);\r\n    let token = cookie.get('access_token');\r\n    useEffect(() => {\r\n        axios.get(`/api/user/${data.data}/${token}/15/`)\r\n        .then(res => {\r\n            console.log(res.data.top_tracks)\r\n            setTracks(res.data.top_tracks)\r\n        })\r\n        .catch(err => {\r\n            console.log('yo')\r\n            console.log(err)\r\n        })\r\n    }, [data.data])\r\n    return(\r\n        <div>\r\n        <h2 class=\"list-title\" style={{marginTop: '10px'}}>Top Tracks</h2>\r\n        <List size=\"mini\">\r\n            {\r\n                tracks.map(track =>\r\n        <ListItem>\r\n           <ListItemAvatar>\r\n               <Avatar alt=\"Image\" src={track.image}/>\r\n          </ListItemAvatar>\r\n\r\n            <ListItemText\r\n                                primary={track.track_name}\r\n                            secondary={track.artist}\r\n                             />\r\n        </ListItem>)\r\n                }\r\n        </List>\r\n        <Button primary content=\"View more...\" onClick={tracks_page} />\r\n        </div>\r\n    );\r\n}\r\n\r\n","import cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport React, {useEffect, useState} from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport './userinfo.css';\r\nimport { Typography } from '@material-ui/core';\r\nimport { Box } from '@material-ui/core';\r\nimport {FetchCurrentlyPlaying} from './FetchCurrentlyPlaying';\r\n\r\n\r\n\r\nexport default function FetchUserWelcome(data) {\r\n    let user_info = data.data;\r\n    let token = cookie.get('access_token');\r\n\r\n\r\n    console.log(user_info);\r\n\r\n    return(\r\n                <div class=\"list-title\" style={{height: '100%'}}>\r\n                    <CardMedia\r\n                      component=\"img\"\r\n                      alt=\"ProfileImage\"\r\n                      height=\"300\"\r\n                      style={{objectFit: 'cover', height: '80%'}}\r\n                      image={user_info.image_url}\r\n                      title={user_info.username}\r\n                    />\r\n                    <CardContent>\r\n                      <Typography gutterBottom variant=\"h5\" component=\"h2\" class=\"list-title\">\r\n                        {user_info.username.slice(0,1).toUpperCase() + user_info.username.slice(1)}\r\n                      </Typography>\r\n\r\n                      <Typography component=\"p\" class=\"list-title\">\r\n                        Followers: {user_info['followers']['total']}\r\n                      </Typography>\r\n                    </CardContent>\r\n                </div>\r\n\r\n    );\r\n}","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image, Button } from 'semantic-ui-react';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport './userinfo.css';\r\n\r\nfunction artists_page(e) {\r\n    e.preventDefault();\r\n    window.location = '/top_artists';\r\n  }\r\n\r\nexport function FetchDashArtists(data) {\r\n    console.log(data.data)\r\n    const [artists, setArtists] = useState([]);\r\n    let token = cookie.get('access_token');\r\n    useEffect(() => {\r\n        axios.get(`/api/user_artists/${data.data}/${token}/15/`)\r\n        .then(res => {\r\n            console.log(res.data)\r\n            setArtists(res.data.top_artists)\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }, [data.data])\r\n    return(\r\n        <div>\r\n        <h2 class=\"list-title\"  style={{marginTop: '10px'}}>Top Artists</h2>\r\n        <List size=\"mini\">\r\n            {\r\n                artists.map(artist =>\r\n                    <ListItem>\r\n                       <ListItemAvatar>\r\n                           <Avatar alt=\"Image\" src={artist.image}/>\r\n                      </ListItemAvatar>\r\n\r\n                        <ListItemText\r\n                                            primary={artist.artist_name}\r\n                                         />\r\n                    </ListItem>)\r\n                }\r\n        </List>\r\n        <Button primary content=\"View more...\" onClick={artists_page} />\r\n        </div>\r\n    );\r\n}\r\n","import cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport React, {useEffect, useState} from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport './userinfo.css';\r\nimport { Typography } from '@material-ui/core';\r\nimport { Box } from '@material-ui/core';\r\nimport {FetchCurrentlyPlaying} from './FetchCurrentlyPlaying';\r\nimport { Doughnut,Radar } from 'react-chartjs-2';\r\n\r\n\r\nexport default function GenreChart(data) {\r\n    let genre_info = data.data;\r\n    let range = data.range;\r\n    let chart = data.chart;\r\n    let chartReference = React.createRef();\r\n\r\n//    'data': [{\r\n//                    labels: fetch.labels,\r\n//                    datasets: [{\r\n//                        'data': fetch.scores,\r\n//                        'labels': fetch.labels,\r\n//                        'backgroundColor': fetch.colors\r\n//                    }]\r\n//                }]\r\n//long_genre_scores: (5) [76, 61, 51, 47, 41]\r\n//long_term_genres:\r\n//\r\n    if(data.range == \"short\") {\r\n        var data = [{\r\n            labels: data.data['short_term_genres'].slice(0,5),\r\n            datasets: [{\r\n                data: data.data['short_genre_scores'].slice(0,5),\r\n                labels: data.data['short_term_genres'].slice(0,5),\r\n                backgroundColor: chart == \"doughnut\" ? ['#f1a5ba', '#f5b565', '#fbd981', '#93dcdc', '#6cb8ee'] : 'rgba(108, 184, 238,0.6)'\r\n            }]\r\n        }]\r\n    }\r\n    else if(data.range == \"long\") {\r\n        var data = [{\r\n            labels: data.data['long_term_genres'].slice(0,5),\r\n            datasets: [{\r\n                data: data.data['long_genre_scores'].slice(0,5),\r\n                labels:  data.data['long_term_genres'].slice(0,5),\r\n                 backgroundColor: chart == \"doughnut\" ? ['#f1a5ba', '#f5b565', '#fbd981', '#93dcdc', '#6cb8ee'] : 'rgba(108, 184, 238,0.6)'\r\n            }],\r\n        }]\r\n    }\r\n    let token = cookie.get('access_token');\r\n    var titles = {\r\n        'short': 'Most Recent Genres',\r\n        'long': 'All Time Genres'\r\n    }\r\n    var title = titles[range];\r\n\r\n    return(\r\n                <div style={{height: '25vh'}}>\r\n                { chart == \"doughnut\" &&\r\n                    <Doughnut style={{height: '25vh'}} ref={chartReference}\r\n                                    data={data[0]} options={{\r\n                                        title: {\r\n                                            display: true,\r\n                                            text: title,\r\n                                            fontFamily: 'Montserrat',\r\n                                            fontSize: '18'\r\n                                        },\r\n                                        legend: {\r\n                                            position: \"bottom\"\r\n                                        },\r\n\r\n                                         responsive: data.mobile ? false : true\r\n\r\n\r\n                                    }} />\r\n\r\n                }\r\n                { chart == \"radar\" &&\r\n                     <Radar style={{height: '25vh'}} ref={chartReference}\r\n                                    data={data[0]} options={{\r\n                                    scale: {\r\n                                        angleLines: {\r\n                                            display: false\r\n                                        },\r\n                                        ticks: {\r\n                                            suggestedMin: 0,\r\n                                            suggestedMax: 0,\r\n                                            display: false\r\n                                        }\r\n                                    },\r\n                                    title: {\r\n                                            display: true,\r\n                                            text: title,\r\n                                            fontFamily: 'Montserrat',\r\n                                            fontSize: '18'\r\n                                        },\r\n                                    legend: {\r\n                                        position: \"bottom\",\r\n                                        display: false\r\n                                    },\r\n                                    responsive: data.mobile ? false : true\r\n                                    }\r\n\r\n                                    } />\r\n\r\n                }\r\n\r\n                </div>\r\n\r\n    );\r\n}","import React from \"react\";\r\nimport NavBar from '../common/navbar/Navbar';\r\nimport { Grommet, Distribution, Box, Text, grommet } from 'grommet';\r\nimport {FetchDashTracks} from './FetchDashTracks';\r\nimport FetchUserWelcome from './FetchUserWelcome';\r\nimport {FetchDashAlbums} from './FetchDashAlbums';\r\nimport {FetchDashArtists} from './FetchDashArtists';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport './userinfo.css';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport GenreChart from './GenreChart.js';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {\r\n  BrowserView,\r\n  MobileView,\r\n  isBrowser,\r\n  isMobile\r\n} from \"react-device-detect\";\r\n\r\nclass Dash extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n\r\n  }\r\n\r\n\r\n\r\n    async componentDidMount() {\r\n            let token = cookie.get('access_token');\r\n        axios.get(`/api/user_info/${token}/`)\r\n        .then(res => {\r\n            console.log(res.data);\r\n            this.setState(res.data[0]);\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log('yo')\r\n            console.log(err)\r\n        })\r\n    }\r\n  \r\n\r\n    render(){\r\n      const user_info = this.props.userInfo;\r\n        return(\r\n        <div style={{ overflow: 'hidden', marginTop: `2vh`, marginLeft: '84px', width: '92%'}}>\r\n           <BrowserView>\r\n            {this.state['username'] &&\r\n            <Grommet style={{overflow: 'hidden', width: '100%',backgroundColor: \"#EBEBEB\"}} full>\r\n            <Distribution style={{overflow: 'hidden'}} margin=\"xsmall\" gap=\"none\"\r\n              fill\r\n              values={[\r\n\r\n                { value: 30, color: \"white\", overflow: false, title: \"Short term genres\", data: <GenreChart mobile={false} data={this.state} chart=\"doughnut\" range=\"short\" /> },\r\n                { value: 30, color: \"white\", overflow: false, title: \"Long term genres\", data: <GenreChart mobile={false} data={this.state} chart=\"radar\" range=\"long\" /> },\r\n                { value: 30, color: \"white\", overflow: false, title: \"\", data: <FetchUserWelcome data={this.state} /> },\r\n                { value: 25, color: \"white\", overflow: true, data: <FetchDashTracks data=\"long_term\" /> },\r\n                { value: 25, color: \"white\", overflow: true, data: <FetchDashArtists data=\"long_term\"/> }\r\n              ]}\r\n            >\r\n              {value => (\r\n\r\n                    <Card width=\"100%\" height=\"100%\" style={{backgroundColor: \"white\", overflow: value.overflow ? 'scroll': 'hidden'}} className=\"userinfo-card\">\r\n                        {value.data}\r\n                    </Card>\r\n\r\n              )}\r\n            </Distribution>\r\n          </Grommet>}\r\n          {!this.state['username'] &&\r\n          <div class=\"loading\">\r\n            <CircularProgress/>\r\n          </div>\r\n          }\r\n\r\n           </BrowserView>\r\n           <MobileView>\r\n            {this.state['username'] &&\r\n               <div style={{width: '80%'}}>\r\n                    <Card style={{backgroundColor: \"white\"}} className=\"userinfo-card\">\r\n                               <FetchUserWelcome data={this.state} />\r\n                    </Card>\r\n                    <Card height='25vh' style={{backgroundColor: \"white\", height: '25vh'}} className=\"userinfo-card\">\r\n                                <GenreChart height='25vh' mobile={true}  style={{height: '25vh'}} data={this.state} chart=\"doughnut\" range=\"short\" />\r\n                    </Card>\r\n                     <Card style={{backgroundColor: \"white\"}} className=\"userinfo-card\">\r\n                                <GenreChart data={this.state} mobile={true}  chart=\"radar\" range=\"long\" />\r\n                    </Card>\r\n\r\n\r\n               </div>\r\n             }\r\n\r\n           </MobileView>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Dash;\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './artists.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\nexport function FetchArtists(data) {\r\n    console.log(data.data)\r\n    const [artists, setArtists] = useState([]);\r\n    const isCardFunction = (data.handleChange != null);\r\n        const spacer = data.clicked ? 3 : 2;\r\n\r\n\r\n\r\n    let token = cookie.get('access_token');\r\n    useEffect(() => {\r\n        axios.get(`/api/user_artists/${data.data}/${token}/50/`)\r\n        .then(res => {\r\n            console.log(res.data)\r\n            setArtists(res.data.top_artists)\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }, [data.data])\r\n\r\n\r\n    return(\r\n\r\n<div>\r\n    <Grid container className=\"grid-container\"\r\n  alignItems=\"center\"\r\n  justify=\"center\" spacing={0}>\r\n\r\n         {\r\n        artists.map((artist,index) =>\r\n            <Grid item xs={6} sm={spacer}>\r\n            {isCardFunction &&\r\n            <Card onClick={() => data.handleChange(artist)} className=\"topartists-card\">\r\n                    <CardMedia className=\"topartists-img\" image={artist.image}></CardMedia>\r\n                    <CardContent className=\"topartists-info\">\r\n                        <Typography className=\"music-title\" gutterBottom variant=\"h6\" component=\"h6\">{index+1}. {artist.artist_name}</Typography>\r\n                    </CardContent>\r\n            </Card>\r\n            }\r\n         </Grid>\r\n        )}\r\n\r\n      </Grid>\r\n      </div>\r\n    );\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './artists.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport PropTypes from 'prop-types'\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport 'react-circular-progressbar/dist/styles.css';\r\nimport { CircularProgressbar, buildStyles } from 'react-circular-progressbar';\r\nimport Slider from \"react-slick\";\r\n\r\n\r\n\r\n\r\n\r\nclass ArtistPage extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.chartReference = React.createRef();\r\n        this.nextProps = this.props;\r\n        this.state = {value: 'short_term', clicked: false,\r\n                            data: [], artist:this.props.artist};\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n            let token = cookie.get('access_token');\r\n\r\n        if(this.props != nextProps) {\r\n            this.nextProps = nextProps;\r\n            this.componentDidMount();\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n        console.log(this.nextProps)\r\n        axios.get(`/api/artist/${this.nextProps.artist.uri}/${token}`)\r\n        .then(res => {\r\n            fetch = res.data;\r\n                this.setState(oldState => ({\r\n                    'clicked': true,\r\n                    'artist_info':fetch.info,\r\n                    'albums':fetch.albums.items\r\n                }));\r\n\r\n\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n            render() {\r\n\r\n\r\n            var settings = {\r\n              autoplay: true,\r\n              dots: false,\r\n              infinite: true,\r\n              slidesToShow: 3,\r\n              slidesToScroll: 1,\r\n              speed: 2000,\r\n              autoplaySpeed: 0\r\n\r\n            };\r\n\r\n           if(this.state.artist_info) {\r\n                       const genres = this.state.artist_info.genres;\r\n\r\n            return(\r\n\r\n        <div style={{backgroundColor: 'white'}}>\r\n            <Card>\r\n                <CardContent>\r\n\r\n                        <img style={{height:'250px',width:'250px', borderRadius: '100%', boxShadow:'2px 2px 5px 0.1px black'}} src={this.state.artist_info.images[0].url} />\r\n                    <h1>{this.state.artist_info.name.toUpperCase()}</h1>\r\n                    <Grid container className=\"artist-grid-container\">\r\n                        <Grid item sm={12}>\r\n                            <div class=\"genre-container\">\r\n                                <h4>Genres:</h4>\r\n                                <p>&nbsp;{genres.slice(0,Math.min(genres.length,4)).join(\", \")}</p>\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item sm={12}>\r\n                             <div class=\"genre-container\" style={{backgroundColor: 'white'}}>\r\n                                <h4>Popularity: </h4>\r\n                                <p>&nbsp;{this.state.artist_info.popularity}</p>\r\n                              </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Slider {...settings}>\r\n\r\n                                    {\r\n\r\n                                        this.state.albums.map((album) =>\r\n                                            <Card>\r\n                                            <img className=\"album-carousel-item\" src={album.images[0].url}\r\n                                                  />\r\n                                            </Card>\r\n\r\n                                        )\r\n\r\n\r\n                                    }\r\n                    </Slider>\r\n                </CardContent>\r\n\r\n            </Card>\r\n\r\n              </div>\r\n            );\r\n\r\n            }\r\n            return (<div><h4>Loading...</h4></div>);\r\n            }\r\n\r\n}\r\n\r\nexport default ArtistPage;\r\n//                                {genres.slice(0,Math.min(genres.length,4)).map((genre) => {genre[0].toUpperCase() + genre.substr(1)})}\r\n//\r\n","import React, { useState, useEffect, Component, setState } from 'react';\r\nimport cookie from 'js-cookie';\r\nimport {FetchArtists} from './FetchArtists.js';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport './artists.css'\r\nimport {Distribution, Box, Text} from 'grommet';\r\nimport { BrowserView,MobileView,isBrowser,isMobile} from \"react-device-detect\";\r\nimport ArtistPage from './ArtistPage.js'\r\n\r\nclass TopArtists extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {value: 'short_term', artist_side: 100};\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.value = 'short_term'\r\n    }\r\n    handleChange = (artist) => {\r\n        console.log(artist)\r\n        if(this.state.artist != artist) {\r\n            this.setState(oldState => ({\r\n                value: oldState.value,\r\n                clicked: true,\r\n                artist: artist,\r\n                artist_side: 70\r\n            }));\r\n        }\r\n\r\n\r\n\r\n      }\r\n    handleSubmit = (event, new_value) => {\r\n\r\n        this.setState({value: new_value, clicked: false, artist_side: 100});\r\n    }\r\n\r\n\r\n     async componentDidMount() {\r\n      }\r\n\r\n    render(){\r\n        const artist_list = <FetchArtists data={this.state.value}/>;\r\n\r\n        return(\r\n        <div style={{marginLeft: '30px'}} >\r\n        <BrowserView>\r\n            <div class=\"browser-container\" style={{ marginLeft: '0px'}}>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <label>\r\n                        <Tabs\r\n                            value={this.state[\"value\"]}\r\n                            indicatorColor=\"primary\"\r\n                            textColor=\"primary\"\r\n                            onChange={this.handleSubmit}\r\n                            aria-label=\"disabled tabs example\"\r\n                          >\r\n                                <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\r\n                                <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\r\n                                <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\r\n                          </Tabs>\r\n                    </label>\r\n                    </form>\r\n\r\n\r\n                    {this.state['clicked'] && <Distribution\r\n                  values={[\r\n                    { value: this.state.artist_side, className:\"top-tracks\", show: true, data: <FetchArtists clicked={this.state['clicked']} handleChange={this.handleChange} data={this.state.value} /> },\r\n                    { value: 100-this.state.artist_side, className:\"track-graph\", show: (this.state.clicked && (this.state.artist)), data: <ArtistPage handleChange={this.handleChange} {...this.state} /> }\r\n\r\n                  ]}\r\n                >\r\n                  {value => (\r\n                    <Box className={value.className} pad=\"small\" fill>\r\n                      {value.show && value.data}\r\n                    </Box>\r\n                  )}\r\n                </Distribution>}\r\n\r\n                {!this.state['clicked'] && <Distribution\r\n                  values={[\r\n                    { value: 100, className:\"top-tracks\", show: true, data: <FetchArtists clicked={this.state['clicked']} handleChange={this.handleChange} data={this.state.value} /> },\r\n                  ]}\r\n                >\r\n                  {value => (\r\n                    <Box className={value.className} pad=\"small\" fill>\r\n                      {value.show && value.data}\r\n                    </Box>\r\n                  )}\r\n                </Distribution>}\r\n\r\n\r\n            </div>\r\n            </BrowserView>\r\n\r\n\r\n        <MobileView>\r\n            <div style={{ marginTop: `64px`, marginLeft: '84px'}}>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <label>\r\n                    <Tabs\r\n                        value={this.state[\"value\"]}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        onChange={this.handleChange}\r\n                        aria-label=\"disabled tabs example\"\r\n                      >\r\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\r\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\r\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\r\n                      </Tabs>\r\n                </label>\r\n                </form>\r\n            </div>\r\n            </MobileView>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TopArtists;","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './topalbums.css'\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\nexport function FetchAlbums(data) {\r\n    const [albums, setAlbums] = useState([]);\r\n    const isCardFunction = (data.handleChange != null);\r\n    const scroll = data.scroll ? 'scroll' : 'hidden';\r\n    const spacer = data.scroll ? 3 : 2;\r\n\r\n\r\n    let token = cookie.get('access_token');\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        axios.get(`/api/user_albums/${data.data}/${token}/50`)\r\n        .then(res => {\r\n            if(isMounted) {\r\n                console.log(res.data)\r\n                setAlbums(res.data.albums)\r\n            }\r\n\r\n        })\r\n\r\n        return () => { isMounted = false };\r\n    }, [data.data])\r\n\r\n\r\n\r\n    return(\r\n\r\n<div style={{overflow: scroll, height: 'auto'}}>\r\n\r\n            <Grid container className=\"grid-container\"\r\n          alignItems=\"center\"\r\n          justify=\"center\" spacing={0}>\r\n\r\n                 {\r\n                albums.map((album,index) =>\r\n                    <Grid item xs={6} sm={spacer} md={spacer} lg={spacer}>\r\n                    {isCardFunction &&\r\n                        <Card onClick={() => data.handleChange(album)} className=\"track-card\">\r\n                            <CardMedia className=\"topalbums-img\" image={album.images[0].url}></CardMedia>\r\n                            <CardContent className=\"topalbums-info\">\r\n                                <Typography className=\"music-title\" gutterBottom variant=\"h6\" component=\"h6\">{index+1}. {album.name} by {album.artists[0].name}</Typography>\r\n                            </CardContent>\r\n                    </Card>\r\n                    }\r\n\r\n                 </Grid>\r\n                )}\r\n\r\n              </Grid>\r\n\r\n\r\n      </div>\r\n    );\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './topalbums.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport TopAlbums from './TopAlbums.js';\r\nimport PropTypes from 'prop-types'\r\nimport { Line } from 'react-chartjs-2';\r\n\r\n\r\n\r\n\r\n\r\nclass AlbumGraph extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(this.props);\r\n        this.nextProps = this.props;\r\n            this.chartReference = React.createRef();\r\n            this.mounted = false;\r\n            this.state = {value: 'short_term', clicked: false,\r\n                            data: [], artist:this.props.artist, feature:'valence'};\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n     componentWillReceiveProps(nextProps) {\r\n\r\n        let token = cookie.get('access_token');\r\n\r\n        if(this.props.artist.uri != nextProps.artist.uri) {\r\n            this.nextProps = nextProps;\r\n            this.componentDidMount();\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n        this.mounted = true;\r\n        axios.get(`/api/album/${this.nextProps.artist.uri}/${token}`)\r\n        .then(res => {\r\n            if(this.mounted){\r\n                fetch = res.data;\r\n                this.chartReference = React.createRef();\r\n                if(fetch.scores[this.state.feature].length > 1) {\r\n                    this.setState(oldState => ({\r\n                        'clicked': true,\r\n                        'album_info':fetch.album_info,\r\n                        'data': [{\r\n                            labels: fetch.names,\r\n                            'datasets': [{\r\n                                'data': fetch.scores[oldState.feature],\r\n                                'labels': oldState.feature,\r\n                                fill: true,\r\n                                backgroundColor: \"rgba(75,192,192,0.2)\",\r\n                                borderColor: \"rgba(75,192,192,1)\"\r\n                            }\r\n                            ]\r\n                        }]\r\n\r\n\r\n                    }));\r\n                }\r\n                else {\r\n                    this.setState(oldState => ({\r\n                        'clicked': true,\r\n                        'album_info':fetch.album_info,\r\n                        'data': null\r\n\r\n\r\n\r\n                    }));\r\n                }\r\n\r\n            }\r\n            console.log(this.state);\r\n                    return () => { this.mounted = false };\r\n\r\n\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n\r\n    }\r\n\r\n\r\n            render() {\r\n           if(this.state.data) {\r\n            return(\r\n\r\n        <div style={{backgroundColor: 'white'}}>\r\n        <Card>\r\n            {this.state.clicked && (this.state.data[0]['datasets'][0]['data'].length > 1) &&\r\n                <Line ref={this.chartReference}\r\n                                data={this.state.data[0]} options={{\r\n            title:{\r\n              display:true,\r\n              text:`Positivity Score by Track`,\r\n              fontSize:20,\r\n              fontFamily: 'Montserrat'\r\n            },\r\n            legend:{\r\n              display:false\r\n            },\r\n            scales: {\r\n                yAxes: [{\r\n                  gridLines: {\r\n                    drawBorder: false,\r\n                  },\r\n                  display: false\r\n                }]\r\n              },\r\n            plugins: {\r\n            filler: {\r\n                propagate: true\r\n            }\r\n        }\r\n          }} />\r\n\r\n\r\n           }\r\n\r\n             </Card>\r\n              </div>\r\n            );\r\n\r\n            }\r\n            var info = this.state.album_info;\r\n            return (<Card><CardContent><p>Cannot construct graph for songs in {info.name}</p></CardContent></Card>);\r\n            }\r\n\r\n}\r\n\r\nexport default AlbumGraph;\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './topalbums.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport ArtistPage from '../artist/ArtistPage.js'\r\nimport TopAlbums from './TopAlbums.js';\r\nimport PropTypes from 'prop-types'\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\n\r\nclass Alert extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.props = props\r\n    }\r\n\r\n    render() {\r\n        return <MuiAlert elevation={6} variant=\"filled\" {...this.props} />;\r\n\r\n    }\r\n }\r\n\r\n\r\n\r\n\r\nclass RelatedAlbums extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(this.props);\r\n        this.nextProps = this.props;\r\n        this.mounted = false;\r\n        this.state = {value: 'short_term', clicked: false,\r\n                            data: null, artist:this.props.artist};\r\n\r\n\r\n    }\r\n\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n\r\n        let token = cookie.get('access_token');\r\n\r\n        if(this.props != nextProps) {\r\n            this.nextProps = nextProps;\r\n            this.componentDidMount();\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n        this.mounted = true;\r\n        console.log(this.nextProps.artist.artist)\r\n        axios.get(`/api/album_track_info/${this.nextProps.artist.id}/${token}`)\r\n        .then(res => {\r\n            fetch = res.data;\r\n            if(this.mounted) {\r\n                this.setState(oldState => ({\r\n                    'clicked':true,\r\n                    'album_name':fetch.album_name,\r\n                    'album_info':fetch.tracks_in_album,\r\n                    'popularities':fetch.popularities,\r\n                    'track_names':fetch.track_names,\r\n                    'previews':fetch.audio,\r\n                    'current':null,\r\n                    'username':fetch.username,\r\n                    'disabled':oldState.disabled,\r\n                    'notif': false\r\n                 }));\r\n            }\r\n            return () => {this.mounted = false}\r\n        })\r\n\r\n\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n\r\n    }\r\n\r\n     componentWillUnmount() {\r\n        this.mounted = false;\r\n\r\n    }\r\n\r\n    playTrack = (url, play) => {\r\n        if(url) {\r\n            if(url != this.state['current'] && this.state['current']) {\r\n                this.player.pause();\r\n                this.player.src = url;\r\n                this.setState(oldState => ({\r\n                    'clicked':true,\r\n                    'album_name':oldState.album_name,\r\n                    'album_info':oldState.album_info,\r\n                    'popularities':oldState.popularities,\r\n                    'track_names':oldState.track_names,\r\n                    'previews':oldState.previews,\r\n                    'play':true,\r\n                    'current':url,\r\n                    'username':oldState.username,\r\n                    'disabled':oldState.disabled,\r\n                    'notif': false\r\n                }));\r\n                this.player.play();\r\n            }\r\n            else {\r\n              this.player.src = url;\r\n              if(!play) {\r\n                  this.player.play()\r\n                   this.setState(oldState => ({\r\n                        'clicked':true,\r\n                        'album_name':oldState.album_name,\r\n                        'album_info':oldState.album_info,\r\n                        'popularities':oldState.popularities,\r\n                        'track_names':oldState.track_names,\r\n                        'previews':oldState.previews,\r\n                        'play':true,\r\n                        'current':url,\r\n                        'username':oldState.username,\r\n                        'disabled':oldState.disabled,\r\n                        'notif': false\r\n                    }));\r\n\r\n                }\r\n                else {\r\n                    this.player.pause();\r\n                    this.setState(oldState => ({\r\n                        'clicked':true,\r\n                        'album_name':oldState.album_name,\r\n                        'album_info':oldState.album_info,\r\n                        'popularities':oldState.popularities,\r\n                        'track_names':oldState.track_names,\r\n                        'previews':oldState.previews,\r\n                        'play': false,\r\n                        'current':url,\r\n                        'username':oldState.username,\r\n                        'disabled':oldState.disabled,\r\n                        'notif': false\r\n                    }));\r\n\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    saveTrack = (track,index) => {\r\n        console.log(track);\r\n        let token = cookie.get('access_token');\r\n\r\n        axios.get(`http://localhost:5000/track/save/${track['id']}/${this.state['username']}/${token}`)\r\n                    .then(res => {\r\n\r\n                        var disabled_keys = this.state['disabled'];\r\n                        disabled_keys[index] = true\r\n                        this.setState(oldState => ({\r\n                            'clicked':true,\r\n                            'album_name':oldState.album_name,\r\n                            'album_info':oldState.album_info,\r\n                            'popularities':oldState.popularities,\r\n                            'track_names':oldState.track_names,\r\n                            'previews':oldState.previews,\r\n                            'play': oldState.play,\r\n                            'current':oldState.current,\r\n                            'username':oldState.username,\r\n                            'disabled': disabled_keys,\r\n                            'notif': true\r\n                        }));\r\n\r\n\r\n\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(\"error :(\");\r\n                    })\r\n    }\r\n\r\n\r\n        handleClose = (event, reason) => {\r\n                 this.setState(oldState => ({\r\n                            'clicked':true,\r\n                            'album_name':oldState.album_name,\r\n                            'album_info':oldState.album_info,\r\n                            'popularities':oldState.popularities,\r\n                            'track_names':oldState.track_names,\r\n                            'previews':oldState.previews,\r\n                            'play': oldState.play,\r\n                            'current':oldState.current,\r\n                            'username':oldState.username,\r\n                            'disabled': oldState.disabled,\r\n                            'notif': false\r\n                  }));\r\n\r\n\r\n            };\r\n\r\n\r\n            render() {\r\n\r\n            var player_on = !this.state['play'] ? \"Play\" : \"Stop\"\r\n\r\n            if(this.state.album_info) {\r\n\r\n\r\n            return(\r\n\r\n        <div style={{backgroundColor: 'white', overflow: 'scroll'}}>\r\n        <Card>\r\n        <CardHeader style={{fontFamily: 'Montserrat !important'}} title={this.state.album_name} subheader=\"Tracks in Album\" />\r\n        <CardContent>\r\n        <List>\r\n            {this.state.clicked &&\r\n                this.state.previews.map((name, index) =>\r\n                    <div>\r\n                    <ListItem>\r\n                        <ListItemText\r\n                            primary={this.state.track_names[index]}\r\n\r\n                         />\r\n                            {this.state['previews'][index] &&\r\n                             <div>\r\n                             <Button onClick={() => this.playTrack(this.state['previews'][index], this.state['play'])}>\r\n                                    {(!(this.state['play'] && (this.state['current'] == this.state['previews'][index]))) ? \"Play\" : \"Stop\"}</Button>\r\n                             </div>\r\n                             }\r\n                             {this.state['username'] &&\r\n                                <Button onClick={() => this.saveTrack(this.state['album_info'][index], index)}>+</Button>\r\n                              }\r\n                    </ListItem>\r\n                    <Divider />\r\n                    </div>\r\n                )\r\n            }\r\n            </List>\r\n        </CardContent>\r\n            </Card>\r\n\r\n                    <>\r\n                        <audio ref={ref => this.player = ref} />\r\n                    </>\r\n\r\n                 <Snackbar open={this.state['notif']} autoHideDuration={2000} onClose={this.handleClose}>\r\n                    <Alert onClose={this.handleClose} severity=\"success\">\r\n                      Track Added to library!\r\n                    </Alert>\r\n                  </Snackbar>\r\n\r\n\r\n\r\n              </div>\r\n            );\r\n\r\n            }\r\n            return (<div>Loading...</div>);\r\n            }\r\n\r\n\r\n}\r\n\r\nexport default RelatedAlbums;\r\n\r\n","import React, { useState, useEffect, Component, setState } from 'react';\r\nimport cookie from 'js-cookie';\r\nimport {FetchAlbums} from './FetchAlbums.js';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport './topalbums.css'\r\nimport {Distribution, Box, Text} from 'grommet';\r\nimport AlbumGraph from './AlbumGraph.js';\r\nimport RelatedAlbums from './RelatedAlbums.js';\r\nimport { BrowserView,MobileView,isBrowser,isMobile} from \"react-device-detect\";\r\nimport PopularityChart from './PopularityChart.js';\r\n\r\n\r\nclass TopAlbums extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {value: 'short_term', sidePane: 100};\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.value = 'short_term'\r\n    }\r\n\r\n   handleChange = (artist) => {\r\n\r\n\r\n        if(!(this.state.artist) || this.state.artist.id != artist.id) {\r\n            this.setState(oldState => ({\r\n                value: oldState.value,\r\n                clicked: true,\r\n                artist: artist,\r\n                sidePane: 50\r\n            }));\r\n            this.render();\r\n        }\r\n        else {\r\n            this.setState(oldState => ({\r\n                value: oldState.value,\r\n                clicked: true,\r\n                artist: artist,\r\n                sidePane: 50\r\n            }));\r\n        }\r\n\r\n\r\n      }\r\n\r\n    changeTab = (event, new_value) => {\r\n        event.preventDefault();\r\n        this.setState({value: new_value});\r\n    }\r\n\r\n    handleSubmit = (event, new_value) => {\r\n        console.log(event);\r\n        console.log(new_value);\r\n        event.preventDefault();\r\n        this.setState({value: new_value});\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n        const track_list = <FetchAlbums data={this.state.value}/>;\r\n\r\n\r\n        return(\r\n            <div style={{marginLeft: '30px'}} class=\"browser-container\">\r\n                <BrowserView>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <label>\r\n                    <Tabs\r\n                        value={this.state[\"value\"]}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        onChange={this.handleSubmit}\r\n                        aria-label=\"disabled tabs example\"\r\n                      >\r\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\r\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\r\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\r\n                      </Tabs>\r\n                </label>\r\n                </form>\r\n\r\n                <div>\r\n\r\n                {this.state['sidePane'] != 100 &&\r\n                    <Distribution style={{maxHeight:'100vh'}} className=\"dist-box-albums\"\r\n                  values={[\r\n                    { value: 50, className:\"top-albums\", show: true, data: <FetchAlbums scroll={this.state['sidePane'] != 100} handleChange={this.handleChange} data={this.state.value} /> },\r\n                    { value: 25, className:\"album-graph\", show: (this.state.clicked && this.state.artist), data: <AlbumGraph style={{maxHeight: '35vh'}} {...this.state} artist={this.state.artist} /> },\r\n                    { value: 25, className:\"related-albums\", show: (this.state.clicked && (this.state.artist)), data: <RelatedAlbums style={{maxHeight: '35vh'}} {...this.state} /> }\r\n                  ]} >\r\n                  {value => (\r\n                <Box className={value.className} pad=\"small\" fill>\r\n                  {value.show && value.data}\r\n                </Box>\r\n              )}\r\n            </Distribution>\r\n              }\r\n\r\n                {this.state['sidePane'] == 100 &&\r\n                    <Distribution style={{maxHeight:'100vh'}} className=\"dist-box-albums\"\r\n                  values={[\r\n                    { value: this.state['sidePane'], className:\"top-albums\", show: true, data: <FetchAlbums handleChange={this.handleChange} data={this.state.value} /> } ]}>\r\n                    {value => (\r\n                <Box className={value.className} pad=\"small\" fill>\r\n                  {(value.show) && value.data}\r\n                </Box>\r\n              )}\r\n            </Distribution>\r\n                }\r\n\r\n\r\n\r\n\r\n\r\n                </div>\r\n            </BrowserView>\r\n\r\n            <MobileView>\r\n            <form onSubmit={this.handleSubmit}>\r\n                    <label>\r\n                    <Tabs\r\n                        value={this.state[\"value\"]}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        onChange={this.handleSubmit}\r\n                        aria-label=\"disabled tabs example\"\r\n                      >\r\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\r\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\r\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\r\n                      </Tabs>\r\n                </label>\r\n                </form>\r\n             <FetchAlbums handleChange={this.handleChange} data={this.state.value} />\r\n            </MobileView>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TopAlbums;","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './topalbums.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport TopAlbums from './TopAlbums.js';\r\nimport PropTypes from 'prop-types'\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport { CircularProgressbar } from 'react-circular-progressbar';\r\nimport 'react-circular-progressbar/dist/styles.css';\r\n\r\n\r\n\r\n\r\n\r\nclass PopularityChart extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n         this.nextProps = this.props;\r\n            this.chartReference = React.createRef();\r\n\r\n            this.state = {value: 'short_term', clicked: false,\r\n                            data: [], artist:this.props.artist, feature:'valence'};\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n            let token = cookie.get('access_token');\r\n\r\n        if(this.props.artist.uri != nextProps.artist.uri) {\r\n            this.nextProps = nextProps;\r\n            this.componentDidMount();\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n        console.log(this.nextProps.artist.artist)\r\n        axios.get(`/api/album/${this.nextProps.artist.uri}/${token}`)\r\n        .then(res => {\r\n            fetch = res.data;\r\n            console.log(fetch);\r\n                this.setState(oldState => ({\r\n                    'clicked': true,\r\n                    'album_info':fetch.album_info,\r\n\r\n\r\n\r\n                }));\r\n\r\n\r\n\r\n\r\n\r\n            console.log(this.state);\r\n\r\n\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n            render() {\r\n\r\n\r\n           if(this.state.album_info) {\r\n            return(\r\n\r\n        <div style={{backgroundColor: 'white'}}>\r\n\r\n        <h6>Popularity</h6>\r\n<CircularProgressbar value={this.state.album_info.popularity} text={`${this.state.album_info.popularity}`} strokeWidth={12} />;\r\n\r\n              </div>\r\n            );\r\n\r\n            }\r\n            return (<div><h4>Loading...</h4></div>);\r\n            }\r\n\r\n}\r\n\r\nexport default PopularityChart;\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './tracks.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport ArtistPage from '../artist/ArtistPage.js'\r\nimport TopTracks from './TopTracks.js';\r\nimport PropTypes from 'prop-types';\r\nimport PlayCircleOutlineIcon from '@material-ui/icons/PlayCircleOutline';\r\nimport PlayCircleFilledIcon from '@material-ui/icons/PlayCircleFilled';\r\nimport Fab from '@material-ui/core/Fab';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass FetchTracks extends React.Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(props);\r\n//        const [tracks, setTracks] = useState([]);\r\n//        const [track, setTrack] = useState([]);\r\n//        const [artistId, setArtistId] = useState([]);\r\n        this.k = 50;\r\n        this.data = this.props.data;\r\n         this.state = {value: this.props.data, clicked: this.props.clicked, hovering: new Array(this.k).fill(false)};\r\n        this.isCardFunction = (this.props.handleChange != null);\r\n        this.spacer = this.props.clicked ? 4 : 2;\r\n        this.scroll = this.props.clicked ? 'scroll' : 'hidden';\r\n        this.hovering = false;\r\n    }\r\n\r\n\r\n    async componentDidMount() {\r\n\r\n        let token = cookie.get('access_token');\r\n            axios.get(`/api/user/${this.props.data}/${token}/${this.k}`)\r\n            .then(res => {\r\n                this.setState(oldState => ({\r\n                    'value':  this.state['value'],\r\n                    'tracks': res.data.top_tracks,\r\n                    'hovering':oldState.hovering\r\n                }));\r\n            })\r\n            .catch(err => {\r\n                console.log('error :(')\r\n                console.log(err)\r\n            })\r\n    }\r\n    async componentDidUpdate(prev) {\r\n\r\n        if(prev.value != this.props['value']) {\r\n\r\n            let token = cookie.get('access_token');\r\n                axios.get(`/api/user/${this.props.data}/${token}/${this.k}`)\r\n                .then(res => {\r\n                    this.setState(oldState => ({\r\n                        'value':  oldState.value,\r\n                        'tracks': res.data.top_tracks,\r\n                        'hovering':oldState.hovering\r\n                    }));\r\n                })\r\n                .catch(err => {\r\n                    console.log('error :(')\r\n                    console.log(err)\r\n                })\r\n\r\n        }\r\n\r\n     }\r\n\r\n\r\n        handleHover = (index, bool) => {\r\n            var temp = this.state['hovering'];\r\n            temp[index] = bool;\r\n            this.setState(oldState => ({\r\n                'value':  oldState.value,\r\n                'tracks': oldState.tracks,\r\n                'hovering':temp\r\n            }));\r\n\r\n        }\r\n        render() {\r\n\r\n            if('tracks' in this.state) {\r\n                return(\r\n\r\n                <div style={{height: 'auto', overflow: this.scroll}}>\r\n                    <Grid container className=\"grid-container\"\r\n                  alignItems=\"center\"\r\n                  justify=\"center\" spacing={0}>\r\n\r\n                         {\r\n                        this.state['tracks'].map((track,index) =>\r\n                            <Grid item xs={6} sm={this.spacer} md={this.spacer} lg={this.spacer}>\r\n                            {this.isCardFunction &&\r\n                                <Card onMouseEnter={() => this.handleHover(index, true)} onMouseLeave={() => this.handleHover(index, false)}\r\n                                        onClick={() => this.props.handleChange(track)} className=\"track-card\">\r\n\r\n                                <CardMedia className=\"track-img\" image={track.image}></CardMedia>\r\n\r\n\r\n\r\n\r\n\r\n                            </Card>\r\n                            }\r\n\r\n                         </Grid>\r\n                        )}\r\n\r\n                      </Grid>\r\n                      </div>\r\n                    );\r\n            }\r\n            else {\r\n                return (<div>Loading...</div>);\r\n            }\r\n\r\n\r\n\r\n            }\r\n\r\n}\r\nexport default FetchTracks;\r\n//\r\n//           <CardContent className=\"track-info\">\r\n//                                        <Typography className=\"music-title\" gutterBottom variant=\"h6\" component=\"h6\">{index+1}. {track.track_name} by {track.artist}</Typography>\r\n//                                    </CardContent>","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './tracks.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport ArtistPage from '../artist/ArtistPage.js'\r\nimport TopTracks from './TopTracks.js';\r\nimport PropTypes from 'prop-types'\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\n\r\nclass Alert extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.props = props\r\n    }\r\n\r\n    render() {\r\n        return <MuiAlert elevation={6} variant=\"filled\" {...this.props} />;\r\n\r\n    }\r\n }\r\n\r\n\r\n\r\nclass RelatedTracks extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n            this.added = {};\r\n            this.chartReference = React.createRef();\r\n            this.nextProps = this.props;\r\n            this.state = {value: 'short_term', clicked: false,\r\n                            data: null, artist:this.props.artist, play: false, notif: false};\r\n\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n            let token = cookie.get('access_token');\r\n\r\n        if(this.props != nextProps) {\r\n            this.nextProps = nextProps\r\n            this.componentDidMount();\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n        axios.get(`/api/related_tracks/${this.nextProps.artist.id}/${token}`)\r\n        .then(res => {\r\n            fetch = res.data;\r\n            this.setState({\r\n                'clicked':true,\r\n                'artists':fetch.artists,\r\n                'track_names':fetch.song_names,\r\n                'images':fetch.images,\r\n                'previews':fetch.audio,\r\n                'current':null,\r\n                'track_ids':fetch.ids,\r\n                'username':fetch.username,\r\n                'disabled':new Array(fetch.audio.length).fill(false),\r\n                'notif': false\r\n            })\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n\r\n\r\n    }\r\n\r\n     playTrack = (url, play) => {\r\n        if(url) {\r\n            if(url != this.state['current'] && this.state['current']) {\r\n                this.player.pause();\r\n                this.player.src = url;\r\n                this.setState(oldState => ({\r\n                    'clicked':oldState.clicked,\r\n                    'artists':oldState.artists,\r\n                    'track_names':oldState.track_names,\r\n                    'images':oldState.images,\r\n                    'previews':oldState.previews,\r\n                    'play':true,\r\n                    'current':url,\r\n                    'track_ids':oldState.track_ids,\r\n                    'username':oldState.username,\r\n                    'disabled':oldState.disabled,\r\n                    'notif': false\r\n\r\n                }));\r\n                this.player.play();\r\n            }\r\n            else {\r\n              this.player.src = url;\r\n              if(!play) {\r\n                  this.player.play()\r\n                   this.setState(oldState => ({\r\n                        'clicked':oldState.clicked,\r\n                        'artists':oldState.artists,\r\n                        'track_names':oldState.track_names,\r\n                        'images':oldState.images,\r\n                        'previews':oldState.previews,\r\n                        'play':true,\r\n                        'current':url,\r\n                        'track_ids':oldState.track_ids,\r\n                        'username':oldState.username,\r\n                        'disabled':oldState.disabled,\r\n                        'notif': false\r\n                    }));\r\n\r\n                }\r\n                else {\r\n                    this.player.pause();\r\n                    this.setState(oldState => ({\r\n                        'clicked':oldState.clicked,\r\n                        'artists':oldState.artists,\r\n                        'track_names':oldState.track_names,\r\n                        'images':oldState.images,\r\n                        'previews':oldState.previews,\r\n                        'play':false,\r\n                        'current':oldState.url,\r\n                        'track_ids':oldState.track_ids,\r\n                        'username':oldState.username,\r\n                        'disabled':oldState.disabled,\r\n                        'notif':false\r\n                    }));\r\n\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n        saveTrack = (track, index) => {\r\n            let token = cookie.get('access_token');\r\n\r\n            axios.get(`http://localhost:5000/track/save/${track}/${this.state['username']}/${token}`)\r\n                    .then(res => {\r\n                        this.added[track] = true;\r\n                        var disabled_keys = this.state['disabled'];\r\n                        disabled_keys[index] = true\r\n                        this.setState(oldState => ({\r\n                        'clicked':oldState.clicked,\r\n                        'artists':oldState.artists,\r\n                        'track_names':oldState.track_names,\r\n                        'images':oldState.images,\r\n                        'previews':oldState.previews,\r\n                        'play':oldState.play,\r\n                        'current':oldState.url,\r\n                        'track_ids':oldState.track_ids,\r\n                        'username':oldState.username,\r\n                        'disabled':disabled_keys,\r\n                        'notif': true\r\n                    }));\r\n\r\n\r\n\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(\"error :(\");\r\n                    })\r\n\r\n    }\r\n\r\n            handleClose = (event, reason) => {\r\n                 this.setState(oldState => ({\r\n                        'clicked':oldState.clicked,\r\n                        'artists':oldState.artists,\r\n                        'track_names':oldState.track_names,\r\n                        'images':oldState.images,\r\n                        'previews':oldState.previews,\r\n                        'play':false,\r\n                        'current':oldState.url,\r\n                        'track_ids':oldState.track_ids,\r\n                        'username':oldState.username,\r\n                        'disabled':oldState.disabled,\r\n                        'notif': false\r\n                  }));\r\n\r\n\r\n            };\r\n\r\n\r\n\r\n\r\n            render() {\r\n\r\n\r\n\r\n            return(\r\n\r\n        <div style={{backgroundColor: 'white', overflow: 'scroll'}}>\r\n\r\n            <h2 style={{fontWeight: '300', marginTop: '20px', marginBottom: '0px'}}>Related Tracks</h2>\r\n            <List>\r\n                {this.state.clicked &&\r\n                    this.state.artists.map((artist, index) =>\r\n                        <ListItem>\r\n                            <ListItemAvatar>\r\n                                <Avatar alt=\"Image\" src={this.state.images[index]} />\r\n                            </ListItemAvatar>\r\n                            <ListItemText\r\n                                primary={this.state.track_names[index]}\r\n                            secondary={this.state.artists[index]}\r\n                             />\r\n\r\n                             {this.state['previews'][index] &&\r\n                             <div>\r\n                             <Button onClick={() => this.playTrack(this.state['previews'][index], this.state['play'])}>\r\n                             {(!(this.state['play'] && (this.state['current'] == this.state['previews'][index]))) ? \"Play\" : \"Stop\"}\r\n                             </Button>\r\n                             </div>\r\n                             }\r\n                             {\r\n                             this.state['username']  && !this.state['disabled'][index] &&\r\n                             <Button onClick={() => this.saveTrack(this.state['track_ids'][index], index)}>+</Button>\r\n                               }\r\n\r\n                        </ListItem>\r\n\r\n                    )\r\n                }\r\n            </List>\r\n\r\n                        <>\r\n                        <audio ref={ref => this.player = ref} />\r\n                        </>\r\n\r\n                <Snackbar open={this.state['notif']} autoHideDuration={2000} onClose={this.handleClose}>\r\n                    <Alert onClose={this.handleClose} severity=\"success\">\r\n                      Track Added to library!\r\n                    </Alert>\r\n                  </Snackbar>\r\n\r\n\r\n              </div>\r\n            );\r\n\r\n            }\r\n\r\n}\r\n\r\nexport default RelatedTracks;","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './tracks.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport ArtistPage from '../artist/ArtistPage.js'\r\nimport TopTracks from './TopTracks.js';\r\nimport PropTypes from 'prop-types'\r\nimport { Doughnut, Radar, HorizontalBar } from 'react-chartjs-2';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport RelatedTracks from './RelatedTracks.js';\r\n\r\n\r\n\r\n\r\n\r\nclass TrackGraph extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(this.props);\r\n\r\n            this.chartReference = React.createRef();\r\n            this.nextProps = this.props;\r\n            this.state = {value: 'short_term', clicked: false,\r\n                            data: null, artist:this.props.artist};\r\n\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n            let token = cookie.get('access_token');\r\n\r\n//        console.log(nextProps.artist);\r\n//        console.log(this.props.artist);\r\n\r\n        if(this.props != nextProps) {\r\n            this.nextProps = nextProps\r\n            this.componentDidMount();\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n        console.log(this.nextProps.artist.artist)\r\n        axios.get(`/api/track/${this.nextProps.artist.uri}/${token}`)\r\n        .then(res => {\r\n            fetch = res.data;\r\n            console.log(fetch);\r\n            this.setState({\r\n                'clicked': true,\r\n                'dataset': {\r\n                    data: fetch.scores,\r\n                    labels: fetch.labels,\r\n                    backgroundColor: fetch.colors\r\n                },\r\n                'data': [{\r\n                    labels: fetch.labels,\r\n                    datasets: [{\r\n                        'data': fetch.scores,\r\n                        'labels': fetch.labels,\r\n                        'backgroundColor': fetch.colors\r\n                    }]\r\n                }]\r\n\r\n            });\r\n            this.render();\r\n\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n            render() {\r\n            return(\r\n\r\n        <div>\r\n\r\n\r\n\r\n\r\n        <div style={{backgroundColor: 'white'}}>\r\n\r\n        <Card>\r\n            {this.state.clicked &&\r\n            <Card class=\"track-chart-container\">\r\n\r\n                    <HorizontalBar ref={this.chartReference}\r\n                                    data={this.state.data[0]} options={{\r\n                                        legend: {\r\n                                            display: false\r\n                                        },\r\n                                        title: {\r\n                                            display: true,\r\n                                            text: 'Feature Scores',\r\n                                            fontFamily: 'Montserrat',\r\n                                            fontSize: '18'\r\n                                        }\r\n\r\n\r\n                                    }}  />\r\n            </Card>\r\n            }\r\n\r\n\r\n\r\n             </Card>\r\n              </div>\r\n             </div>\r\n            );\r\n\r\n            }\r\n\r\n}\r\n\r\nexport default TrackGraph;","import React, { useState, useEffect, Component, setState } from 'react';\r\nimport cookie from 'js-cookie';\r\nimport FetchTracks from './FetchTracks.js';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport './tracks.css'\r\nimport {Distribution, Box, Text} from 'grommet';\r\nimport TrackGraph from './TrackGraph.js';\r\nimport RelatedTracks from './RelatedTracks.js';\r\nimport {\r\n  BrowserView,\r\n  MobileView,\r\n  isBrowser,\r\n  isMobile\r\n} from \"react-device-detect\";\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\n\r\n\r\nclass TopTracks extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {value: 'short_term', clicked: false};\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.onClick = this.props.onClick;\r\n        this.showGraph = false;\r\n        this.graphTrack =  null;\r\n    }\r\n    handleChange = (artist) => {\r\n        if(this.state.artist != artist) {\r\n            this.setState(oldState => ({\r\n                value: oldState.value,\r\n                clicked: true,\r\n                artist: artist\r\n            }), () => console.log(this.state.artist.artist));\r\n\r\n        }\r\n\r\n\r\n\r\n      }\r\n\r\n\r\n    handleSubmit = (event, new_value) => {\r\n        this.setState(oldState => ({\r\n                value: new_value,\r\n                clicked: oldState.clicked,\r\n                artist: oldState.artist\r\n            }));\r\n\r\n    }\r\n\r\n\r\n\r\n     async componentDidMount() {\r\n      }\r\n\r\n    render(){\r\n\r\n        return(\r\n\r\n            <div style={{marginLeft: '30px'}} class=\"browser-container\">\r\n            <BrowserView>\r\n                <form>\r\n                    <label>\r\n                    <Tabs\r\n                        value={this.state[\"value\"]}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        onChange={this.handleSubmit}\r\n                        aria-label=\"disabled tabs example\"\r\n                      >\r\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\r\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\r\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\r\n                      </Tabs>\r\n                </label>\r\n                </form>\r\n\r\n                {this.state['clicked'] && this.state['value'] && <Distribution style={{maxHeight:'100vh'}} className=\"dist-box-tracks\"\r\n              values={[\r\n                { value: 50, className:\"top-tracks\", show: true, data: <FetchTracks clicked={this.state['clicked']} {...this.state} handleChange={this.handleChange} data={this.state['value']} /> },\r\n                { value: 25, className:\"related-tracks\", show: (this.state.clicked && (this.state.artist)), data: <RelatedTracks {...this.state} artist={this.state.artist} /> },\r\n                { value: 25, className:\"track-graph\", show: (this.state.clicked && (this.state.artist)), data: <TrackGraph {...this.state} artist={this.state.artist} /> }\r\n              ]}\r\n            >\r\n              {value =>\r\n                <Box className={value.className} pad=\"small\" fill>\r\n                  {value.show && value.data}\r\n                </Box>\r\n              }\r\n            </Distribution>\r\n            }\r\n            {!this.state['clicked'] && this.state['value'] && <Distribution style={{maxHeight:'100vh'}} className=\"dist-box-tracks\"\r\n              values={[\r\n                { value: 100, className:\"top-tracks\", show: true, data: <FetchTracks clicked={this.state['clicked']} handleChange={this.handleChange} {...this.state} data={this.state['value']}  /> }\r\n              ]}\r\n            >\r\n              {value =>\r\n                <Box className={value.className} pad=\"small\" fill>\r\n                  {value.show && value.data}\r\n                </Box>\r\n              }\r\n            </Distribution>\r\n            }\r\n\r\n\r\n            </BrowserView>\r\n\r\n            <MobileView>\r\n            <form>\r\n                    <label>\r\n                    <Tabs\r\n                        value={this.state[\"value\"]}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        onChange={this.handleSubmit}\r\n                        aria-label=\"disabled tabs example\"\r\n                      >\r\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\r\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\r\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\r\n                      </Tabs>\r\n                </label>\r\n                </form>\r\n             <FetchTracks handleChange={this.handleChange} {...this.state} data={this.state['value']}  />\r\n            </MobileView>\r\n\r\n            </div>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default TopTracks;","import React, { useState, useEffect, Component } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { getSpotifyUser } from './util/auth';\r\nimport Login from './components/login';\r\nimport Home from './components/home/Home';\r\nimport NavBar from './components/common/navbar/Navbar';\r\nimport Logout from './components/logout/Logout';\r\nimport './App.css';\r\nimport {logout} from './util/auth';\r\nimport { User } from 'react-spotify-api';\r\nimport GenreGraphs from './components/graphs/GenreGraphs';\r\nimport GenreMappings from './components/graphs/GenreMappings';\r\nimport ArtistPage from './components/artist/ArtistPage';\r\nimport Dash from './components/dashboard/Dash';\r\nimport TopArtists from './components/top_artists/TopArtists';\r\nimport TopAlbums from './components/top_albums/TopAlbums';\r\n\r\nimport TopTracks from './components/top_tracks/TopTracks';\r\nimport { Nav } from 'react-bootstrap';\r\nimport Sidebar from './components/sidebar/Sidebar';\r\n\r\nclass App extends Component{\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props)\r\n    this.state = {status: 'Not logged in'};\r\n  }\r\n\r\n\r\n  setUserInfo = (userInfo) => this.setState({ userInfo });\r\n\r\n  async componentDidMount() {\r\n    const userInfo = await getSpotifyUser();\r\n    console.log(userInfo);\r\n    if (userInfo) {\r\n      this.setUserInfo(userInfo);\r\n    }\r\n  }\r\n  render(){\r\n    const { userInfo } = this.state;\r\n    console.log(userInfo);\r\n    return (\r\n      <div className=\"App\">\r\n        <link rel=\"stylesheet\" href=\"//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css\" />\r\n        <Router>\r\n          <div style={{height:'100%'}}>\r\n            <Switch>\r\n              <Route exact path=\"/login\" component={(props) =>\r\n                <Login {...props} setUserInfo={this.setUserInfo} userInfo={userInfo} />\r\n              }/>\r\n              <Route exact path=\"/\" component={(props) =>\r\n                userInfo != 'Not logged in' ? <div>\r\n                <Sidebar userInfo={userInfo}/>\r\n                 <Dash userInfo={userInfo}/>\r\n                 </div> : <Login {...props} setUserInfo={this.setUserInfo} userInfo={userInfo} />\r\n              }/>\r\n              <Route exact path=\"/logout\" component={(props) =>\r\n                 <Logout userInfo={userInfo} />\r\n               }/>\r\n\r\n              <Route exact path=\"/top_tracks\">\r\n                <Sidebar userInfo={userInfo}/>\r\n                <TopTracks/>\r\n              </Route>\r\n              <Route exact path=\"/graphs\">\r\n                <Sidebar userInfo={userInfo}/>\r\n                <GenreGraphs />\r\n              </Route>\r\n              <Route exact path=\"/artist/:uri\" render={(props) =>\r\n                <div style={{height:'100%'}}>\r\n                <Sidebar userInfo={userInfo}/>\r\n                <ArtistPage style={{height:'100%'}} id={props.match.params} />\r\n                </div>\r\n               } />\r\n               <Route exact path=\"/top_artists\">\r\n               <Sidebar userInfo={userInfo}/>\r\n                <TopArtists/>\r\n               </Route>\r\n               <Route exact path=\"/top_albums\">\r\n                 <Sidebar userInfo={userInfo}/>\r\n                 <TopAlbums/>\r\n               </Route>\r\n               <Route exact path=\"/dashboard\">\r\n                 <Sidebar userInfo={userInfo}/>\r\n                 <Dash userInfo={userInfo}/>\r\n               </Route>\r\n            </Switch>\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { SpotifyApiAxiosContext, SpotifyApiContext } from 'react-spotify-api';\r\nimport axios from 'axios';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();"],"sourceRoot":""}