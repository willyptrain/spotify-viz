{"version":3,"sources":["util/url.js","util/auth.js","components/common/Redirect.jsx","components/login/index.jsx","components/common/navbar/Navbar.js","components/sidebar/Sidebar.js","components/home/Home.js","components/logout/Logout.js","components/graphs/GenreMappings.js","components/graphs/GenreGraphs.js","components/artist/ArtistPage.js","components/dashboard/FetchDashTracks.js","components/dashboard/FetchUserWelcome.js","components/dashboard/FetchDashArtists.js","components/dashboard/GenreChart.js","components/dashboard/Dash.js","components/top_artists/FetchArtists.js","components/top_artists/ArtistPage.js","components/top_artists/TopArtists.js","components/top_albums/FetchAlbums.js","components/top_albums/AlbumGraph.js","components/top_albums/RelatedAlbums.js","components/top_albums/TopAlbums.js","components/top_albums/PopularityChart.js","components/top_tracks/FetchTracks.js","components/top_tracks/RelatedTracks.js","components/top_tracks/TrackGraph.js","components/top_tracks/TopTracks.js","App.js","serviceWorker.js","index.js"],"names":["getUrlParams","vars","window","location","href","replace","m","key","value","config","headers","registerSpotify","code","Promise","resolve","reject","axios","post","split","then","res","data","err","logout","get","Redirect","props","url","Login","redirectToSpotify","a","redirect","setState","redirectUrl","state","params","this","setUserInfo","history","userInfo","console","log","id","push","user","className","onClick","Component","React","useStyles","makeStyles","theme","root","display","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","paper","background","hide","flexShrink","whiteSpace","drawerOpen","color","drawerClose","overflowX","spacing","breakpoints","up","toolbar","alignItems","justifyContent","padding","position","right","mixins","customizeToolbar","minHeight","content","flexGrow","userLinks","action","variant","type","class","guestLinks","MiniDrawer","classes","useTheme","useState","open","setOpen","icons","text","image","style","link","graph_icons","CssBaseline","Drawer","clsx","Toolbar","backgroundColor","IconButton","aria-label","edge","direction","Divider","List","map","icon","index","ListItem","button","component","ListItemIcon","ListItemText","primary","status","Home","Logout","marginTop","Mappings","username","chartReference","createRef","token","cookie","scores","genreLabels","dataset","length","labels","label","colors","datasets","catch","Grid","container","item","xs","sm","border","ref","GenreGraphs","ArtistPage","onClose","artist_uri","uri","responsive","desktop","breakpoint","max","min","items","paritialVisibilityGutter","tablet","mobile","artist_data","artist_info","album_info","albums","external_urls","spotify","followers","total","genres","images","name","popularity","genre_data","settings","autoplay","dots","infinite","slidesToShow","slidesToScroll","speed","autoplaySpeed","height","left","Card","src","handleClose","Icon","Typography","fontFamily","gutterBottom","options","rotation","Math","PI","circumference","title","scale","ticks","yAxis","pointLabels","fontSize","fontColor","legend","radius","justify","Paper","elevation","album","tracks_page","e","preventDefault","FetchDashTracks","tracks","setTracks","useEffect","top_tracks","size","track","ListItemAvatar","Avatar","alt","track_name","secondary","artist","FetchUserWelcome","user_info","CardMedia","objectFit","image_url","CardContent","slice","toUpperCase","artists_page","FetchDashArtists","artists","setArtists","top_artists","artist_name","GenreChart","range","chart","angleLines","suggestedMin","suggestedMax","Dash","overflow","Grommet","full","Distribution","margin","gap","fill","values","FetchArtists","isCardFunction","handleChange","spacer","clicked","nextProps","componentDidMount","fetch","oldState","info","borderRadius","boxShadow","join","TopArtists","artist_side","handleSubmit","event","new_value","bind","onSubmit","Tabs","indicatorColor","textColor","onChange","Tab","show","Box","pad","FetchAlbums","setAlbums","scroll","md","lg","AlbumGraph","feature","feature2","names","borderColor","scales","yAxes","gridLines","drawBorder","plugins","filler","propagate","RelatedAlbums","playTrack","play","player","pause","album_name","popularities","track_names","previews","saveTrack","tracks_in_album","audio","CardHeader","subheader","TopAlbums","sidePane","render","graphTrack","changeTab","maxHeight","FetchTracks","RelatedTracks","song_names","fontWeight","marginBottom","TrackGraph","TopTracks","showGraph","App","rel","exact","path","match","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.f0e63dcf.chunk.js","sourcesContent":["//returns access token\r\nexport function getUrlParams() {\r\n    const vars = {};\r\n    const parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, (m, key, value) => {\r\n      vars[key] = value;\r\n    });\r\n    return vars;\r\n  }\r\n  \r\n  export function removeHashParams(value) {\r\n    if (typeof value !== 'string') return '';\r\n    const split = value.split('#');\r\n    return split[0];\r\n  }\r\n  \r\n  export function getHashParams() {\r\n    const hashParams = {};\r\n    let e;\r\n    const r = /([^&;=]+)=?([^&;]*)/g;\r\n    const q = window.location.hash.substring(1);\r\n  \r\n    while (e = r.exec(q)) {\r\n      hashParams[e[1]] = decodeURIComponent(e[2]);\r\n    }\r\n    return hashParams;\r\n  }","import axios from 'axios';\r\nimport { removeHashParams } from './url';\r\nimport { getRequestOptions } from './general';\r\n\r\nconst config = { \r\n  headers: {  \r\n    'Content-Type': 'application/json',\r\n    'Access-Control-Allow-Origin': '*'\r\n  }\r\n}\r\n\r\nexport function getLoginRedirect() {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .get('/auth/redirect-spotify')\r\n      .then(res => resolve(res.data), err => reject(err));\r\n  });\r\n}\r\n\r\nexport function registerSpotify(code) {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .post('/auth/user', { code: removeHashParams(code) }, config)\r\n      .then(\r\n        res => resolve(res.data),\r\n        err => reject(err)\r\n      );\r\n  });\r\n}\r\n\r\nexport function getSpotifyUser() {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .get('/auth/user')\r\n      .then(\r\n        res => resolve(res.data),\r\n        err => reject(err),\r\n      );\r\n  });\r\n}\r\n\r\nexport function logout() {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .get('/auth/logout')\r\n      .then(\r\n        res => resolve(res),\r\n        err => reject(err)\r\n      );\r\n  });\r\n}","import React from 'react';\r\n\r\nconst Redirect = (props) => window.location = props.url;\r\n \r\nexport default Redirect;","import React, { Component } from 'react';\r\n\r\nimport Redirect from '../common/Redirect';\r\nimport { getUrlParams } from '../../util/url';\r\nimport { getLoginRedirect, registerSpotify } from '../../util/auth';\r\nimport './login.css'\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { redirectUrl: '' }\r\n  }\r\n\r\n  redirectToSpotify = async () => {\r\n    const redirect = await getLoginRedirect();\r\n    this.setState({ redirectUrl: redirect });\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const params = getUrlParams();\r\n    const code = params.code || null;\r\n    const { setUserInfo, history, userInfo } = this.props;\r\n    console.log(code);\r\n    if (userInfo.id) {\r\n      history.push('/');\r\n      return;\r\n    };\r\n    if (!code) return;\r\n\r\n    const user = await registerSpotify(code);\r\n    setUserInfo(user);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.redirectUrl) {\r\n      return <Redirect url={this.state.redirectUrl} />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <button className=\"btn btn-secondary\" onClick={this.redirectToSpotify}>Login with Spotify</button>\r\n          </div>\r\n    );\r\n  }\r\n}\r\n \r\nexport default Login;","import React from \"react\";\r\nimport './Navbar.css';\r\nimport {Button, Navbar, Nav, NavDropdown, Form, FormControl} from 'react-bootstrap';\r\nimport {logout} from '../../../util/auth.js';\r\n\r\nclass NavBar extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n      }\r\n    render(){\r\n        const userLinks = (\r\n            <Nav.Link href= \"/logout\" onClick={logout}>Logout</Nav.Link>\r\n        );\r\n        const guestLinks = (\r\n            <Nav.Link href=\"/login\">Login</Nav.Link>\r\n        );\r\n        return(\r\n            <Navbar className=\"top-navbar\" bg=\"light\" expand=\"lg\">\r\n                <Navbar.Brand href=\"/\">Spotify-Viz</Navbar.Brand>\r\n                <Navbar.Toggle className=\"navBar-font\" aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse className=\"navBar-font\" id=\"basic-navbar-nav\">\r\n                {this.props.userInfo === `Not logged in` ? guestLinks : userLinks}\r\n                    <Nav className=\"mr-auto\">\r\n                    <NavDropdown title=\"Listening History\" className=\"navBar-font\" id=\"basic-nav-dropdown\">\r\n                        <NavDropdown.Item href=\"/top_tracks\">Top Tracks</NavDropdown.Item>\r\n                        <NavDropdown.Item href=\"/top_albums\">Top Albums</NavDropdown.Item>\r\n                        <NavDropdown.Item href=\"/top_artists\">Top Artists</NavDropdown.Item>\r\n                        <NavDropdown.Divider />\r\n                        {/*<NavDropdown.Item href=\"#action/3.4\">Separated link</NavDropdown.Item>*/}\r\n                    </NavDropdown>\r\n                    <NavDropdown title=\"Graphs\" className=\"navBar-font\" id=\"basic-nav-dropdown\">\r\n                        <NavDropdown.Item href=\"/graphs\">Artists</NavDropdown.Item>\r\n                        <NavDropdown.Item href=\"#action/3.2\">Albums</NavDropdown.Item>\r\n                        <NavDropdown.Item href=\"#action/3.3\">Playlists</NavDropdown.Item>\r\n                        <NavDropdown.Divider />\r\n                        <NavDropdown.Item href=\"#action/3.4\">My Listening</NavDropdown.Item>\r\n                    </NavDropdown>\r\n                    </Nav>\r\n                    <Form inline>\r\n                    <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" />\r\n                    <Button variant=\"outline-success\">Search</Button>\r\n                    </Form>\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport HomeIcon from'@material-ui/icons/Home';\r\nimport LibraryMusicIcon from '@material-ui/icons/LibraryMusic';\r\nimport AlbumIcon from '@material-ui/icons/Album';\r\nimport PersonOutlineIcon from '@material-ui/icons/PersonOutline';\r\nimport BarChartIcon from '@material-ui/icons/BarChart';\r\nimport Link from '@material-ui/core/Link';\r\nimport {logout} from '../../util/auth.js';\r\nimport './sidebar.css'\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  paper: {\r\n   background: 'red',   \r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n    whiteSpace: 'nowrap',\r\n  },\r\n  drawerOpen: {\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    background: 'rgba(21,21,21,1)',\r\n    color: '#DFE0E3'\r\n  },\r\n  drawerClose: {\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    overflowX: 'hidden',\r\n    width: theme.spacing(7) + 1,\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9) + 1,\r\n    },\r\n    background: 'rgba(21,21,21,1)',\r\n    color: '#DFE0E3'\r\n  },\r\n  toolbar: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: theme.spacing(0, 1),\r\n    position: 'absolute',\r\n    right: '0px',\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  customizeToolbar: {\r\n    minHeight: 64,\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nconst userLinks = (\r\n  <form action=\"/logout\">\r\n    <input variant=\"outlined\" type=\"submit\" class=\"logs-user\" value=\"Logout\" />\r\n</form>\r\n\r\n);\r\nconst guestLinks = (\r\n\r\n        <form action=\"/login\">\r\n    <input variant=\"outlined\" type=\"submit\" class=\"logs-user\" value=\"Login\" />\r\n        </form>\r\n\r\n);\r\n\r\n\r\nexport default function MiniDrawer(userInfo) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [open, setOpen] = React.useState(false);\r\n  const icons = [{\r\n      text: \"Home\",\r\n      image: <HomeIcon style={{color: '#DFE0E3'}} />,\r\n      link: \"/dashboard\",\r\n  }, {\r\n      text: \"My Tracks\",\r\n      image: <LibraryMusicIcon style={{color: '#DFE0E3'}}/>,\r\n      link: \"/top_tracks\"\r\n  },{\r\n      text: \"My Albums\",\r\n      image: <AlbumIcon style={{color: '#DFE0E3'}}/>,\r\n      link: \"/top_albums\",\r\n  }, {\r\n      text: \"My Artists\",\r\n      image: <PersonOutlineIcon style={{color: '#DFE0E3'}}/>,\r\n      link: \"/top_artists\"\r\n  }\r\n    ]\r\n  \r\n  const graph_icons = [<BarChartIcon style={{color: '#DFE0E3'}}/>]\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  console.log(userInfo.userInfo);\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n\r\n      <Drawer\r\n        variant=\"permanent\"\r\n        className={clsx(classes.drawer, {\r\n          [classes.drawerOpen]: open,\r\n          [classes.drawerClose]: !open,\r\n        })}\r\n        classes={{\r\n          paper: clsx({\r\n            [classes.drawerOpen]: open,\r\n            [classes.drawerClose]: !open,\r\n          }),\r\n        }}\r\n      >\r\n      <Toolbar style={{backgroundColor: 'rgba(21,21,21,1)', color: '#DFE0E3'}} className={classes.customizeToolbar} >\r\n          {!open &&\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton, {\r\n              [classes.hide]: open,\r\n            })}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          }\r\n\r\n\r\n\r\n\r\n        <div className={classes.toolbar}>\r\n          {open && <IconButton onClick={handleDrawerClose}>\r\n            {theme.direction === 'rtl' ? <ChevronRightIcon style={{ color: \"white\" }} /> : <ChevronLeftIcon style={{ color: \"white\" }} />}\r\n          </IconButton>}\r\n        </div>\r\n         </Toolbar>\r\n\r\n\r\n        <Divider />\r\n        <List>\r\n          {icons.map((icon, index) => (\r\n            <ListItem button component=\"a\" href={icon.link} key={icon.text}>\r\n              <ListItemIcon>{icon.image}</ListItemIcon>\r\n              <ListItemText primary={icon.text} />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n        <Divider />\r\n        <List>\r\n          {['Graphs'].map((text, index) => (\r\n            <ListItem button component=\"a\" href=\"/graphs\" key={text}>\r\n              <ListItemIcon>{graph_icons[index]}</ListItemIcon>\r\n              <ListItemText primary={text} />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n\r\n\r\n\r\n              {open && ((userInfo.userInfo.status === `Not logged in` || userInfo.userInfo === null) ? guestLinks : userLinks)}\r\n      </Drawer>\r\n\r\n\r\n\r\n\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { logout } from '../../util/auth';\r\nimport NavBar from '../common/navbar/Navbar';\r\nimport { Album } from 'react-spotify-api';\r\nimport { SpotifyApiContext} from 'react-spotify-api';\r\nimport Sidebar from '../sidebar/Sidebar';\r\nimport Login  from './../login/index.jsx';\r\n\r\nclass Home extends React.Component{\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(this.props);\r\n      }\r\n    async componentDidMount() {\r\n        const { userInfo, history } = this.props; \r\n    }\r\n    logout = async () => {\r\n        const res = await logout();\r\n            if (res.status === 200) {\r\n\r\n            }\r\n        }\r\n\r\n\r\n    render(){\r\n       if(this.props.userInfo == 'Not logged in' || (this.props.userInfo == null) || (this.props == null)) {\r\n           return (\r\n            <div>\r\n                <Login userInfo={this.props.userInfo}></Login>\r\n            </div>\r\n           );\r\n       } else {\r\n       console.log(this.props.userInfo);\r\n        return(\r\n            <div>\r\n            <Sidebar userInfo={this.props.userInfo}/>\r\n            <h1>Hello!\r\n            </h1>\r\n            </div>\r\n        );\r\n        }\r\n    }\r\n}\r\n\r\nexport default Home;","import React from \"react\";\r\n\r\n\r\nconst Logout = () =>{\r\n    return(\r\n        <div style={{ marginTop: `64px`, marginLeft: '84px'}}>\r\n        <h1>You are now logged out.</h1>\r\n        <p><a href=\"/\">Click here to return to the home page.</a></p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Logout;","import React, {useEffect, useState, shouldComponentUpdate} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { Doughnut, Radar, Polar } from 'react-chartjs-2';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\nclass Mappings extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.username = props.data;\r\n        this.chartReference = React.createRef();\r\n        this.token = cookie.get('access_token');\r\n        this.state = {\r\n            scores: [],\r\n            genreLabels: [],\r\n            dataset: [],\r\n            data: []\r\n        };\r\n\r\n    }\r\n    shouldComponentUpdate() {\r\n        if(this.state[\"data\"].length == 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    async componentDidMount()  {\r\n        axios.get(`http://localhost:5000/graphs/short_term/${this.token}`)\r\n        .then(res => {\r\n            this.setState({\r\n                scores: res.data.scores,\r\n                genreLabels: res.data.labels,\r\n                dataset: {\r\n                  data:res.data.scores,\r\n                  label:\"User Data\",\r\n                  backgroundColor: res.data.colors\r\n                },\r\n\r\n                data: [{\r\n                    labels: res.data.labels,\r\n                    datasets: [{\r\n                          data:res.data.scores,\r\n                          label:\"User Data\",\r\n                          backgroundColor: res.data.colors\r\n                    }]\r\n                }]\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        if(this.state[\"data\"].length > 0) {\r\n                return (\r\n\r\n\r\n          <Grid container className=\"grid-container\">\r\n            <Grid item xs={12} sm={6}>\r\n              <div style={{ backgroundColor:'none', border:'1px solid black' }}>\r\n                <Doughnut ref={this.chartReference}\r\n                data={this.state.data[0]} />\r\n              </div>\r\n           </Grid>\r\n           <Grid item xs={12} sm={6}>\r\n              <div style={{ backgroundColor:'white' }}>\r\n                <Polar ref={this.chartReference}\r\n                data={this.state.data[0]} />\r\n              </div>\r\n           </Grid>\r\n      </Grid>\r\n);\r\n       } else {\r\n       return (<div></div>)\r\n       }\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default Mappings;","import React from \"react\";\r\nimport {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { logout } from '../../util/auth';\r\nimport NavBar from '../common/navbar/Navbar';\r\nimport { Album } from 'react-spotify-api';\r\nimport { SpotifyApiContext} from 'react-spotify-api';\r\nimport Mappings from './GenreMappings'\r\n\r\n\r\n\r\n\r\nclass GenreGraphs extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n      }\r\n    async componentDidMount() {\r\n        const { userInfo, history } = this.props;\r\n                console.log(this.props);\r\n\r\n    }\r\n    logout = async () => {\r\n        const res = await logout();\r\n            if (res.status === 200) {\r\n            }\r\n        }\r\n\r\n    render(){\r\n        const labels = <Mappings data={this.token}/>;\r\n        return(\r\n            <div>\r\n            <h1>Graphs</h1>\r\n            {labels}\r\n            </div>\r\n\r\n        );\r\n\r\n    }\r\n}\r\n\r\nexport default GenreGraphs;\r\n","import React, { useState, useEffect, Component, setState } from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { useParams } from \"react-router-dom\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\nimport Carousel from 'react-material-ui-carousel'\r\nimport 'react-multi-carousel/lib/styles.css';\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport Slider from \"react-slick\";\r\nimport './artist.css'\r\nimport Card from '@material-ui/core/Card';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Doughnut, Radar } from 'react-chartjs-2';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ItemsCarousel from 'react-items-carousel';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n//import \"font-awesome/css/font-awesome.css\";\r\nimport Icon from '@material-ui/core/Icon';\r\n\r\n\r\n\r\n\r\nclass ArtistPage extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {};\r\n        this.chartReference = React.createRef();\r\n        console.log(this.props);\r\n        this.onClose = this.props.onClose;\r\n        console.log(this.props.onClose);\r\n        this.artist_uri = this.props.id.uri;\r\n        this.token = cookie.get('access_token');\r\n\r\n\r\n        this.responsive = {\r\n          desktop: {\r\n    breakpoint: { max: 3000, min: 1024 },\r\n    items: 3,\r\n    paritialVisibilityGutter: 60\r\n  },\r\n  tablet: {\r\n    breakpoint: { max: 1024, min: 464 },\r\n    items: 2,\r\n    paritialVisibilityGutter: 50\r\n  },\r\n  mobile: {\r\n    breakpoint: { max: 464, min: 0 },\r\n    items: 1,\r\n    paritialVisibilityGutter: 30\r\n  }\r\n        };\r\n\r\n\r\n    }\r\n\r\n    async componentDidMount()  {\r\n        axios.get(`http://localhost:5000/artist/${this.artist_uri}/${this.token}`)\r\n        .then(res => {\r\n            console.log(res.data);\r\n            var artist_data = res.data.artist_info;\r\n            var album_info = res.data.albums;\r\n            console.log({\r\n                'external_url':artist_data.external_urls.spotify,\r\n                'followers': artist_data.followers.total,\r\n                'genres': artist_data.genres,\r\n                'images':artist_data.images,\r\n                'name': artist_data.name,\r\n                'popularity':artist_data.popularity,\r\n                'albums':album_info.items,\r\n                'genre_data':res.data.genre_data,\r\n                'dataset': {\r\n                    data: res.data.genre_data.scores,\r\n                    labels: res.data.genre_data.labels,\r\n                    backgroundColor: res.data.genre_data.colors\r\n                },\r\n                'data': [{\r\n                    labels: res.data.genre_data.labels,\r\n                    datasets: [{\r\n                        'data': res.data.genre_data.scores,\r\n                        'labels': res.data.genre_data.labels,\r\n                        'backgroundColor': res.data.genre_data.colors\r\n                    }]\r\n                }]\r\n\r\n            });\r\n            this.setState({\r\n                'external_url':artist_data.external_urls.spotify,\r\n                'followers': artist_data.followers.total,\r\n                'genres': artist_data.genres,\r\n                'images':artist_data.images,\r\n                'name': artist_data.name,\r\n                'popularity':artist_data.popularity,\r\n                'albums':album_info.items,\r\n                'genre_data':res.data.genre_data,\r\n                'dataset': {\r\n                    data: res.data.genre_data.scores,\r\n                    labels: res.data.genre_data.labels,\r\n                    backgroundColor: ['rgba(0,0,0,0.5)']\r\n                },\r\n                'data': [{\r\n                    labels: res.data.genre_data.labels,\r\n                    datasets: [{\r\n                        'data': res.data.genre_data.scores,\r\n                        'labels': res.data.genre_data.labels,\r\n                        'backgroundColor': ['rgba(90,240,159,0.5)']\r\n                    }]\r\n                }]\r\n\r\n            });\r\n            console.log(this.state);\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    handleClose() {\r\n        this.onClose();\r\n\r\n    }\r\n\r\n\r\n    render(){\r\n\r\n\r\n        const breakPoints = [\r\n          { width: 1, itemsToShow: 1 },\r\n          { width: 550, itemsToShow: 2 },\r\n          { width: 768, itemsToShow: 3 },\r\n          { width: 1200, itemsToShow: 4 }\r\n        ];\r\n\r\n        if('external_url' in this.state) {\r\n\r\n            var settings = {\r\n              autoplay: true,\r\n              dots: false,\r\n              infinite: true,\r\n              slidesToShow: 5,\r\n              slidesToScroll: 1,\r\n              speed: 2000,\r\n              autoplaySpeed: 0\r\n\r\n            };\r\n\r\n\r\n            return(\r\n            <>\r\n            <BrowserView style={{height:'100%'}}>\r\n                <Grid style={{height:'100%', position:'relative', left:'0px', width:'100%'}} container className=\"grid-container\">\r\n                <Grid style={{height:'100%'}} item sm={10}>\r\n                    <Card className=\"artist-card\">\r\n                      <Grid container className='artist-top-container'>\r\n                        <Grid style={{height:'100%'}} item sm={6}>\r\n                           <div style={{height:'100%'}} className=\"artist-img-container\">\r\n                                <a href={this.state['external_url']}>\r\n                                    <img className=\"artist-img\" src={this.state['images'][0]['url']}  />\r\n                                </a>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid style={{height:'100%'}} item sm={6}>\r\n                             <div className=\"artist-info\">\r\n                            <IconButton className=\"exit-artist-modal\" onClick={() => this.handleClose()}>\r\n                                <Icon onClick={() => this.handleClose()} className=\"fa fa-times\" />\r\n                            </IconButton>\r\n                            <div className=\"artist-name-container\">\r\n                                <Typography className=\"artist-name\" style={{fontFamily: 'Montserrat'}}\r\n                                        gutterBottom variant=\"h3\" component=\"h3\">{this.state['name']}</Typography>\r\n                            </div>\r\n                            <div className=\"genre-doughnut\">\r\n                                <Radar ref={this.chartReference}\r\n                                data={this.state.data[0]} options={{\r\n                                    rotation: Math.PI,\r\n                                    circumference: Math.PI,\r\n                                       title: {\r\n                                            display: true,\r\n                                            position: \"center\",\r\n                                            text: 'Upcoming Meetings' },\r\n                                        scale: {\r\n                        ticks: {\r\n                            display: false\r\n                        },\r\n                        yAxis: {\r\n                            display: false\r\n                        },\r\n                        pointLabels: {\r\n                            fontSize: 16,\r\n                            fontColor: '#111111',\r\n                            fontFamily: \"'Montserrat','Roboto'\"\r\n                        }\r\n                    },\r\n                    legend: {\r\n                        display: false\r\n                    },\r\n                    radius: {\r\n                        fontSize: 24\r\n                    }\r\n                                }} />\r\n                            </div>\r\n                        </div>\r\n                        </Grid>\r\n                      </Grid>\r\n                      <Grid container alignItems=\"center\" justify=\"center\" >\r\n                        <Grid style={{height:'100%'}} item sm={11}>\r\n                            <div>\r\n                                <Paper className='carousel-bgd' elevation={3}>\r\n                                    <Slider {...settings}>\r\n\r\n                                    {\r\n\r\n                                        this.state.albums.map((album) =>\r\n                                            <img className=\"album-carousel-item\" src={album.images[0].url}\r\n                                                  />\r\n\r\n                                        )\r\n\r\n\r\n                                    }\r\n                                    </Slider>\r\n                                </Paper>\r\n                            </div>\r\n                        </Grid>\r\n                      </Grid>\r\n                 </Card>\r\n               </Grid>\r\n               </Grid>\r\n\r\n\r\n            </BrowserView>\r\n\r\n\r\n            <MobileView>\r\n                <Grid container className=\"grid-container\">\r\n                <Grid item xs={12}>\r\n                    <div className=\"artist-img\">\r\n                        <a href={this.state['external_url']}>\r\n                            <img src={this.state['images'][0]['url']} height={this.state['images'][1]['height']} width={this.state['images'][1]['width']} />\r\n                        </a>\r\n                    </div>\r\n               </Grid>\r\n               <p>{this.state['followers']}</p>\r\n               </Grid>\r\n            </MobileView>\r\n\r\n         </>\r\n\r\n\r\n\r\n            );\r\n        }\r\n        else {\r\n            return (<p></p>);\r\n        }\r\n    }\r\n}\r\n\r\nexport default ArtistPage;\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image, Button } from 'semantic-ui-react';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nfunction tracks_page(e) {\r\n  e.preventDefault();\r\n  window.location = '/top_tracks';\r\n}\r\n\r\nexport function FetchDashTracks(data) {\r\n    console.log(data.data)\r\n    const [tracks, setTracks] = useState([]);\r\n    let token = cookie.get('access_token');\r\n    useEffect(() => {\r\n        axios.get(`http://localhost:5000/user/${data.data}/${token}/15/`)\r\n        .then(res => {\r\n            console.log(res.data.top_tracks)\r\n            setTracks(res.data.top_tracks)\r\n        })\r\n        .catch(err => {\r\n            console.log('yo')\r\n            console.log(err)\r\n        })\r\n    }, [data.data])\r\n    return(\r\n        <div>\r\n        <h2>Top Tracks</h2>\r\n        <List size=\"mini\">\r\n            {\r\n                tracks.map(track =>\r\n        <ListItem>\r\n           <ListItemAvatar>\r\n               <Avatar alt=\"Image\" src={track.image}/>\r\n          </ListItemAvatar>\r\n\r\n            <ListItemText\r\n                                primary={track.track_name}\r\n                            secondary={track.artist}\r\n                             />\r\n        </ListItem>)\r\n                }\r\n        </List>\r\n        <Button primary content=\"View more...\" onClick={tracks_page} />\r\n        </div>\r\n    );\r\n}\r\n\r\n","import cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport React, {useEffect, useState} from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport './userinfo.css';\r\nimport { Typography } from '@material-ui/core';\r\nimport { Box } from '@material-ui/core';\r\nimport {FetchCurrentlyPlaying} from './FetchCurrentlyPlaying';\r\n\r\n\r\n\r\nexport default function FetchUserWelcome(data) {\r\n    let user_info = data.data;\r\n    let token = cookie.get('access_token');\r\n\r\n\r\n    console.log(user_info);\r\n\r\n    return(\r\n                <div style={{height: '100%'}}>\r\n                    <CardMedia\r\n                      component=\"img\"\r\n                      alt=\"ProfileImage\"\r\n                      height=\"300\"\r\n                      style={{objectFit: 'cover', height: '80%'}}\r\n                      image={user_info.image_url}\r\n                      title={user_info.username}\r\n                    />\r\n                    <CardContent>\r\n                      <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                        {user_info.username.slice(0,1).toUpperCase() + user_info.username.slice(1)}\r\n                      </Typography>\r\n\r\n                      <Typography component=\"p\">\r\n                        Followers: {user_info['followers']['total']}\r\n                      </Typography>\r\n                    </CardContent>\r\n                </div>\r\n\r\n    );\r\n}","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image, Button } from 'semantic-ui-react';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nfunction artists_page(e) {\r\n    e.preventDefault();\r\n    window.location = '/top_artists';\r\n  }\r\n\r\nexport function FetchDashArtists(data) {\r\n    console.log(data.data)\r\n    const [artists, setArtists] = useState([]);\r\n    let token = cookie.get('access_token');\r\n    useEffect(() => {\r\n        axios.get(`http://localhost:5000/user_artists/${data.data}/${token}/15/`)\r\n        .then(res => {\r\n            console.log(res.data)\r\n            setArtists(res.data.top_artists)\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }, [data.data])\r\n    return(\r\n        <div>\r\n        <h2>Top Artists</h2>\r\n        <List size=\"mini\">\r\n            {\r\n                artists.map(artist =>\r\n                    <ListItem>\r\n                       <ListItemAvatar>\r\n                           <Avatar alt=\"Image\" src={artist.image}/>\r\n                      </ListItemAvatar>\r\n\r\n                        <ListItemText\r\n                                            primary={artist.artist_name}\r\n                                         />\r\n                    </ListItem>)\r\n                }\r\n        </List>\r\n        <Button primary content=\"View more...\" onClick={artists_page} />\r\n        </div>\r\n    );\r\n}\r\n","import cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport React, {useEffect, useState} from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport './userinfo.css';\r\nimport { Typography } from '@material-ui/core';\r\nimport { Box } from '@material-ui/core';\r\nimport {FetchCurrentlyPlaying} from './FetchCurrentlyPlaying';\r\nimport { Doughnut,Radar } from 'react-chartjs-2';\r\n\r\n\r\nexport default function GenreChart(data) {\r\n    let genre_info = data.data;\r\n    let range = data.range;\r\n    let chart = data.chart;\r\n    let chartReference = React.createRef();\r\n\r\n//    'data': [{\r\n//                    labels: fetch.labels,\r\n//                    datasets: [{\r\n//                        'data': fetch.scores,\r\n//                        'labels': fetch.labels,\r\n//                        'backgroundColor': fetch.colors\r\n//                    }]\r\n//                }]\r\n//long_genre_scores: (5) [76, 61, 51, 47, 41]\r\n//long_term_genres:\r\n//\r\n    if(data.range == \"short\") {\r\n        var data = [{\r\n            labels: data.data['short_term_genres'].slice(0,5),\r\n            datasets: [{\r\n                data: data.data['short_genre_scores'].slice(0,5),\r\n                labels: data.data['short_term_genres'].slice(0,5),\r\n                backgroundColor: chart == \"doughnut\" ? ['#f1a5ba', '#f5b565', '#fbd981', '#93dcdc', '#6cb8ee'] : 'rgba(108, 184, 238,0.6)'\r\n            }]\r\n        }]\r\n    }\r\n    else if(data.range == \"long\") {\r\n        var data = [{\r\n            labels: data.data['long_term_genres'].slice(0,5),\r\n            datasets: [{\r\n                data: data.data['long_genre_scores'].slice(0,5),\r\n                labels:  data.data['long_term_genres'].slice(0,5),\r\n                 backgroundColor: chart == \"doughnut\" ? ['#f1a5ba', '#f5b565', '#fbd981', '#93dcdc', '#6cb8ee'] : 'rgba(108, 184, 238,0.6)'\r\n            }],\r\n        }]\r\n    }\r\n    let token = cookie.get('access_token');\r\n    var titles = {\r\n        'short': 'Most Recent Genres',\r\n        'long': 'All Time Genres'\r\n    }\r\n    var title = titles[range];\r\n\r\n    return(\r\n                <div>\r\n                { chart == \"doughnut\" &&\r\n                    <Doughnut ref={chartReference}\r\n                                    data={data[0]} options={{\r\n                                        title: {\r\n                                            display: true,\r\n                                            text: title,\r\n                                            fontFamily: 'Montserrat',\r\n                                            fontSize: '18'\r\n                                        },\r\n                                        legend: {\r\n                                            position: \"bottom\"\r\n                                        },\r\n\r\n                                    }} />\r\n\r\n                }\r\n                { chart == \"radar\" &&\r\n                     <Radar ref={chartReference}\r\n                                    data={data[0]} options={{\r\n                                    scale: {\r\n                                        angleLines: {\r\n                                            display: false\r\n                                        },\r\n                                        ticks: {\r\n                                            suggestedMin: 0,\r\n                                            suggestedMax: 0,\r\n                                            display: false\r\n                                        }\r\n                                    },\r\n                                    title: {\r\n                                            display: true,\r\n                                            text: title,\r\n                                            fontFamily: 'Montserrat',\r\n                                            fontSize: '18'\r\n                                        },\r\n                                    legend: {\r\n                                        position: \"bottom\",\r\n                                        display: false\r\n                                    },\r\n                                    }\r\n\r\n                                    } />\r\n\r\n                }\r\n\r\n                </div>\r\n\r\n    );\r\n}","import React from \"react\";\r\nimport NavBar from '../common/navbar/Navbar';\r\nimport { Grommet, Distribution, Box, Text, grommet } from 'grommet';\r\nimport {FetchDashTracks} from './FetchDashTracks';\r\nimport FetchUserWelcome from './FetchUserWelcome';\r\nimport {FetchDashAlbums} from './FetchDashAlbums';\r\nimport {FetchDashArtists} from './FetchDashArtists';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport './userinfo.css';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport GenreChart from './GenreChart.js'\r\n\r\nclass Dash extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n\r\n  }\r\n\r\n\r\n\r\n    async componentDidMount() {\r\n            let token = cookie.get('access_token');\r\n        axios.get(`http://localhost:5000/user_info/${token}/`)\r\n        .then(res => {\r\n            console.log(res.data);\r\n            this.setState(res.data[0]);\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log('yo')\r\n            console.log(err)\r\n        })\r\n    }\r\n  \r\n\r\n    render(){\r\n      const user_info = this.props.userInfo;\r\n        return(\r\n        <div style={{ overflow: 'hidden', marginTop: `2vh`, marginLeft: '84px', width: '92%'}}>\r\n            {this.state['username'] &&\r\n            <Grommet style={{overflow: 'hidden', width: '100%',backgroundColor: \"#EBEBEB\"}} full>\r\n            <Distribution style={{overflow: 'hidden'}} margin=\"xsmall\" gap=\"none\"\r\n              fill\r\n              values={[\r\n\r\n                { value: 30, color: \"white\", overflow: false, title: \"Short term genres\", data: <GenreChart data={this.state} chart=\"doughnut\" range=\"short\" /> },\r\n                { value: 30, color: \"white\", overflow: false, title: \"Long term genres\", data: <GenreChart data={this.state} chart=\"radar\" range=\"long\" /> },\r\n                { value: 30, color: \"white\", overflow: false, title: \"\", data: <FetchUserWelcome data={this.state} /> },\r\n                { value: 25, color: \"white\", overflow: true, data: <FetchDashTracks data=\"long_term\" /> },\r\n                { value: 25, color: \"white\", overflow: true, data: <FetchDashArtists data=\"long_term\"/> }\r\n              ]}\r\n            >\r\n              {value => (\r\n\r\n                    <Card width=\"100%\" height=\"100%\" style={{backgroundColor: \"white\", overflow: value.overflow ? 'scroll': 'hidden'}} className=\"userinfo-card\">\r\n                        {value.data}\r\n                    </Card>\r\n\r\n              )}\r\n            </Distribution>\r\n          </Grommet>\r\n            }\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Dash;\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './artists.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\nexport function FetchArtists(data) {\r\n    console.log(data.data)\r\n    const [artists, setArtists] = useState([]);\r\n    const isCardFunction = (data.handleChange != null);\r\n        const spacer = data.clicked ? 3 : 2;\r\n\r\n\r\n\r\n    let token = cookie.get('access_token');\r\n    useEffect(() => {\r\n        axios.get(`http://localhost:5000/user_artists/${data.data}/${token}/50/`)\r\n        .then(res => {\r\n            console.log(res.data)\r\n            setArtists(res.data.top_artists)\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }, [data.data])\r\n\r\n\r\n    return(\r\n\r\n<div>\r\n    <Grid container className=\"grid-container\"\r\n  alignItems=\"center\"\r\n  justify=\"center\" spacing={0}>\r\n\r\n         {\r\n        artists.map((artist,index) =>\r\n            <Grid item xs={6} sm={spacer}>\r\n            {isCardFunction &&\r\n            <Card onClick={() => data.handleChange(artist)} className=\"topartists-card\">\r\n                    <CardMedia className=\"topartists-img\" image={artist.image}></CardMedia>\r\n                    <CardContent className=\"topartists-info\">\r\n                        <Typography className=\"music-title\" gutterBottom variant=\"h6\" component=\"h6\">{index+1}. {artist.artist_name}</Typography>\r\n                    </CardContent>\r\n            </Card>\r\n            }\r\n         </Grid>\r\n        )}\r\n\r\n      </Grid>\r\n      </div>\r\n    );\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './artists.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport PropTypes from 'prop-types'\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport 'react-circular-progressbar/dist/styles.css';\r\nimport { CircularProgressbar, buildStyles } from 'react-circular-progressbar';\r\nimport Slider from \"react-slick\";\r\n\r\n\r\n\r\n\r\n\r\nclass ArtistPage extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(this.props);\r\n\r\n        this.chartReference = React.createRef();\r\n\r\n        this.state = {value: 'short_term', clicked: false,\r\n                            data: [], artist:this.props.artist};\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n            let token = cookie.get('access_token');\r\n\r\n        if(this.props != nextProps) {\r\n            this.componentDidMount();\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n        axios.get(`http://localhost:5000/artist/${this.props.data.artist.uri}/${token}`)\r\n        .then(res => {\r\n            fetch = res.data;\r\n            console.log(fetch);\r\n                this.setState(oldState => ({\r\n                    'clicked': true,\r\n                    'artist_info':fetch.info,\r\n                    'albums':fetch.albums.items\r\n                }));\r\n\r\n\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n            render() {\r\n\r\n\r\n            var settings = {\r\n              autoplay: true,\r\n              dots: false,\r\n              infinite: true,\r\n              slidesToShow: 3,\r\n              slidesToScroll: 1,\r\n              speed: 2000,\r\n              autoplaySpeed: 0\r\n\r\n            };\r\n\r\n           if(this.state.artist_info) {\r\n                       const genres = this.state.artist_info.genres;\r\n\r\n            return(\r\n\r\n        <div style={{backgroundColor: 'white'}}>\r\n            <Card>\r\n                <CardContent>\r\n\r\n                        <img style={{height:'250px',width:'250px', borderRadius: '100%', boxShadow:'2px 2px 5px 0.1px black'}} src={this.state.artist_info.images[0].url} />\r\n                    <h1>{this.state.artist_info.name.toUpperCase()}</h1>\r\n                    <Grid container className=\"artist-grid-container\">\r\n                        <Grid item sm={12}>\r\n                            <div class=\"genre-container\">\r\n                                <h4>Genres:</h4>\r\n                                <p>&nbsp;{genres.slice(0,Math.min(genres.length,4)).join(\", \")}</p>\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item sm={12}>\r\n                             <div class=\"genre-container\" style={{backgroundColor: 'white'}}>\r\n                                <h4>Popularity: </h4>\r\n                                <p>&nbsp;{this.state.artist_info.popularity}</p>\r\n                              </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Slider {...settings}>\r\n\r\n                                    {\r\n\r\n                                        this.state.albums.map((album) =>\r\n                                            <Card>\r\n                                            <img className=\"album-carousel-item\" src={album.images[0].url}\r\n                                                  />\r\n                                            </Card>\r\n\r\n                                        )\r\n\r\n\r\n                                    }\r\n                    </Slider>\r\n                </CardContent>\r\n\r\n            </Card>\r\n\r\n              </div>\r\n            );\r\n\r\n            }\r\n            return (<div><h4>Loading...</h4></div>);\r\n            }\r\n\r\n}\r\n\r\nexport default ArtistPage;\r\n//                                {genres.slice(0,Math.min(genres.length,4)).map((genre) => {genre[0].toUpperCase() + genre.substr(1)})}\r\n//\r\n","import React, { useState, useEffect, Component, setState } from 'react';\r\nimport cookie from 'js-cookie';\r\nimport {FetchArtists} from './FetchArtists.js';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport './artists.css'\r\nimport {Distribution, Box, Text} from 'grommet';\r\nimport { BrowserView,MobileView,isBrowser,isMobile} from \"react-device-detect\";\r\nimport ArtistPage from './ArtistPage.js'\r\n\r\nclass TopArtists extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {value: 'short_term', artist_side: 100};\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.value = 'short_term'\r\n    }\r\n    handleChange = (artist) => {\r\n        if(this.state.artist != artist) {\r\n                console.log(artist);\r\n            this.setState(oldState => ({\r\n                value: oldState.value,\r\n                clicked: true,\r\n                artist: artist,\r\n                artist_side: 70\r\n            }));\r\n        }\r\n        else {\r\n            this.setState(oldState => ({\r\n                value: oldState.value,\r\n                clicked: true,\r\n                artist: artist\r\n            }));\r\n        }\r\n\r\n\r\n      }\r\n    handleSubmit = (event, new_value) => {\r\n        console.log(event);\r\n        console.log(new_value);\r\n        event.preventDefault();\r\n        this.setState({value: new_value, clicked: false, artist_side: 100});\r\n    }\r\n\r\n\r\n     async componentDidMount() {\r\n      }\r\n\r\n    render(){\r\n        const artist_list = <FetchArtists data={this.state.value}/>;\r\n\r\n        return(\r\n        <div style={{marginLeft: '84px'}} >\r\n        <BrowserView>\r\n            <div class=\"browser-container\" style={{ marginLeft: '0px'}}>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <label>\r\n                        <Tabs\r\n                            value={this.state[\"value\"]}\r\n                            indicatorColor=\"primary\"\r\n                            textColor=\"primary\"\r\n                            onChange={this.handleSubmit}\r\n                            aria-label=\"disabled tabs example\"\r\n                          >\r\n                                <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\r\n                                <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\r\n                                <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\r\n                          </Tabs>\r\n                    </label>\r\n                    </form>\r\n\r\n\r\n                    {this.state['clicked'] && <Distribution\r\n                  values={[\r\n                    { value: this.state.artist_side, className:\"top-tracks\", show: true, data: <FetchArtists clicked={this.state['clicked']} handleChange={this.handleChange} data={this.state.value} /> },\r\n                    { value: 100-this.state.artist_side, className:\"track-graph\", show: (this.state.clicked && (this.state.artist)), data: <ArtistPage handleChange={this.handleChange} data={this.state} /> }\r\n\r\n                  ]}\r\n                >\r\n                  {value => (\r\n                    <Box className={value.className} pad=\"small\" fill>\r\n                      {value.show && value.data}\r\n                    </Box>\r\n                  )}\r\n                </Distribution>}\r\n\r\n                {!this.state['clicked'] && <Distribution\r\n                  values={[\r\n                    { value: 100, className:\"top-tracks\", show: true, data: <FetchArtists clicked={this.state['clicked']} handleChange={this.handleChange} data={this.state.value} /> },\r\n                  ]}\r\n                >\r\n                  {value => (\r\n                    <Box className={value.className} pad=\"small\" fill>\r\n                      {value.show && value.data}\r\n                    </Box>\r\n                  )}\r\n                </Distribution>}\r\n\r\n\r\n            </div>\r\n            </BrowserView>\r\n\r\n\r\n        <MobileView>\r\n            <div style={{ marginTop: `64px`, marginLeft: '84px'}}>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <label>\r\n                    <Tabs\r\n                        value={this.state[\"value\"]}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        onChange={this.handleChange}\r\n                        aria-label=\"disabled tabs example\"\r\n                      >\r\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\r\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\r\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\r\n                      </Tabs>\r\n                </label>\r\n                </form>\r\n            </div>\r\n            </MobileView>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TopArtists;","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './topalbums.css'\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\nexport function FetchAlbums(data) {\r\n    console.log(data);\r\n    const [albums, setAlbums] = useState([]);\r\n        const isCardFunction = (data.handleChange != null);\r\n    const scroll = data.scroll ? 'scroll' : 'hidden';\r\n    const spacer = data.scroll ? 3 : 2;\r\n\r\n\r\n    let token = cookie.get('access_token');\r\n    useEffect(() => {\r\n        axios.get(`http://localhost:5000/user_albums/${data.data}/${token}/50`)\r\n        .then(res => {\r\n            console.log(res.data)\r\n            setAlbums(res.data.albums)\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }, [data.data])\r\n\r\n\r\n    return(\r\n\r\n<div style={{overflow: scroll, height: 'auto'}}>\r\n\r\n            <Grid container className=\"grid-container\"\r\n          alignItems=\"center\"\r\n          justify=\"center\" spacing={0}>\r\n\r\n                 {\r\n                albums.map((album,index) =>\r\n                    <Grid item xs={6} sm={spacer} md={spacer} lg={spacer}>\r\n                    {isCardFunction &&\r\n                        <Card onClick={() => data.handleChange(album)} className=\"track-card\">\r\n                            <CardMedia className=\"topalbums-img\" image={album.images[0].url}></CardMedia>\r\n                            <CardContent className=\"topalbums-info\">\r\n                                <Typography className=\"music-title\" gutterBottom variant=\"h6\" component=\"h6\">{index+1}. {album.name} by {album.artists[0].name}</Typography>\r\n                            </CardContent>\r\n                    </Card>\r\n                    }\r\n\r\n                 </Grid>\r\n                )}\r\n\r\n              </Grid>\r\n\r\n\r\n      </div>\r\n    );\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './topalbums.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport TopAlbums from './TopAlbums.js';\r\nimport PropTypes from 'prop-types'\r\nimport { Line } from 'react-chartjs-2';\r\n\r\n\r\n\r\n\r\n\r\nclass AlbumGraph extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(this.props);\r\n\r\n            this.chartReference = React.createRef();\r\n\r\n            this.state = {value: 'short_term', clicked: false,\r\n                            data: [], artist:this.props.artist, feature:'valence', feature2:'danceability'};\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n            let token = cookie.get('access_token');\r\n\r\n        if(this.props != nextProps) {\r\n            this.componentDidMount();\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n        axios.get(`http://localhost:5000/album/${this.props.artist.uri}/${token}`)\r\n        .then(res => {\r\n            fetch = res.data;\r\n            console.log(fetch);\r\n            if(fetch.scores[this.state.feature].length > 1) {\r\n                this.setState(oldState => ({\r\n                    'clicked': true,\r\n                    'album_info':fetch.album_info,\r\n                    'data': [{\r\n                        labels: fetch.names,\r\n                        'datasets': [{\r\n                            'data': fetch.scores[oldState.feature],\r\n                            'labels': oldState.feature,\r\n                            fill: true,\r\n                            backgroundColor: \"rgba(75,192,192,0.2)\",\r\n                            borderColor: \"rgba(75,192,192,1)\"\r\n                        },{\r\n                            'data': fetch.scores[oldState.feature2],\r\n                            'labels': oldState.feature2,\r\n                            fill: true,\r\n                            backgroundColor: \"rgba(192,250,75,0.2)\",\r\n                            borderColor: \"rgba(192,250,75,1)\"\r\n                        }\r\n\r\n                        ]\r\n                    }]\r\n\r\n\r\n                }));\r\n            }\r\n            else {\r\n                this.setState(oldState => ({\r\n                    'clicked': true,\r\n                    'album_info':fetch.album_info,\r\n                    'data': null\r\n\r\n\r\n\r\n                }));\r\n\r\n\r\n\r\n            }\r\n            console.log(this.state);\r\n\r\n\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n            render() {\r\n           if(this.state.data) {\r\n            return(\r\n\r\n        <div style={{backgroundColor: 'white'}}>\r\n        <Card>\r\n            {this.state.clicked && (this.state.data[0]['datasets'][0]['data'].length > 1) &&\r\n                <Line ref={this.chartReference}\r\n                                data={this.state.data[0]} options={{\r\n            title:{\r\n              display:true,\r\n              text:`Feature Scores by Track`,\r\n              fontSize:20\r\n            },\r\n            legend:{\r\n              display:false\r\n            },\r\n            scales: {\r\n                yAxes: [{\r\n                  gridLines: {\r\n                    drawBorder: false,\r\n                  },\r\n                  display: false\r\n                }]\r\n              },\r\n            plugins: {\r\n            filler: {\r\n                propagate: true\r\n            }\r\n        }\r\n          }} />\r\n\r\n\r\n           }\r\n\r\n             </Card>\r\n              </div>\r\n            );\r\n\r\n            }\r\n            var info = this.state.album_info;\r\n            return (<Card><CardContent><p>Cannot construct graph for songs in {info.name}</p></CardContent></Card>);\r\n            }\r\n\r\n}\r\n\r\nexport default AlbumGraph;\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './topalbums.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport ArtistPage from '../artist/ArtistPage.js'\r\nimport TopAlbums from './TopAlbums.js';\r\nimport PropTypes from 'prop-types'\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\n\r\n\r\n\r\nclass RelatedAlbums extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(this.props);\r\n\r\n            this.chartReference = React.createRef();\r\n\r\n            this.state = {value: 'short_term', clicked: false,\r\n                            data: null, artist:this.props.artist};\r\n\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n            let token = cookie.get('access_token');\r\n\r\n        if(this.props != nextProps) {\r\n            this.componentDidMount();\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n        axios.get(`http://localhost:5000/album_track_info/${this.props.artist.id}/${token}`)\r\n        .then(res => {\r\n            fetch = res.data;\r\n            this.setState({\r\n                'clicked':true,\r\n                'album_name':fetch.album_name,\r\n                'album_info':fetch.tracks_in_album,\r\n                'popularities':fetch.popularities,\r\n                'track_names':fetch.track_names,\r\n                'previews':fetch.audio,\r\n                'current':null,\r\n                'username':fetch.username\r\n            })\r\n            console.log(fetch);\r\n        })\r\n\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n    playTrack = (url, play) => {\r\n        if(url) {\r\n            if(url != this.state['current'] && this.state['current']) {\r\n                this.player.pause();\r\n                this.player.src = url;\r\n                this.setState(oldState => ({\r\n                    'clicked':true,\r\n                    'album_name':oldState.album_name,\r\n                    'album_info':oldState.album_info,\r\n                    'popularities':oldState.popularities,\r\n                    'track_names':oldState.track_names,\r\n                    'previews':oldState.previews,\r\n                    'play':true,\r\n                    'current':url,\r\n                    'username':oldState.username\r\n                }));\r\n                this.player.play();\r\n            }\r\n            else {\r\n              this.player.src = url;\r\n              if(!play) {\r\n                  this.player.play()\r\n                   this.setState(oldState => ({\r\n                        'clicked':true,\r\n                        'album_name':oldState.album_name,\r\n                        'album_info':oldState.album_info,\r\n                        'popularities':oldState.popularities,\r\n                        'track_names':oldState.track_names,\r\n                        'previews':oldState.previews,\r\n                        'play':true,\r\n                        'current':url,\r\n                        'username':oldState.username\r\n                    }));\r\n\r\n                }\r\n                else {\r\n                    this.player.pause();\r\n                    this.setState(oldState => ({\r\n                        'clicked':true,\r\n                        'album_name':oldState.album_name,\r\n                        'album_info':oldState.album_info,\r\n                        'popularities':oldState.popularities,\r\n                        'track_names':oldState.track_names,\r\n                        'previews':oldState.previews,\r\n                        'play': false,\r\n                        'current':url,\r\n                        'username':oldState.username\r\n                    }));\r\n\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n    saveTrack = (track) => {\r\n        console.log(track);\r\n        let token = cookie.get('access_token');\r\n        console.log(this.props);\r\n        console.log(this.userInfo);\r\n        axios.get(`http://localhost:5000/track/save/${track['id']}/${this.state['username']}/${token}`)\r\n\r\n    }\r\n\r\n\r\n\r\n            render() {\r\n\r\n            var player_on = !this.state['play'] ? \"Play\" : \"Stop\"\r\n\r\n            if(this.state.album_info) {\r\n            return(\r\n\r\n        <div style={{backgroundColor: 'white', overflow: 'scroll'}}>\r\n        <Card>\r\n        <CardHeader title={this.state.album_name} subheader=\"Tracks in Album\" />\r\n        <CardContent>\r\n        <List>\r\n            {this.state.clicked &&\r\n                this.state.track_names.map((name, index) =>\r\n                    <div>\r\n                    <ListItem>\r\n                        <ListItemText\r\n                            primary={name}\r\n\r\n                         />\r\n                         {this.state['previews'][index] &&\r\n                             <div>\r\n                             <Button onClick={() => this.playTrack(this.state['previews'][index], this.state['play'])}>\r\n                                    {(!(this.state['play'] && (this.state['current'] == this.state['previews'][index]))) ? \"Play\" : \"Stop\"}</Button>\r\n                             </div>\r\n                             }\r\n                             {\r\n                             this.state['username'] &&\r\n                             <Button onClick={() => this.saveTrack(this.state['album_info'][index])}>+</Button>\r\n                               }\r\n                    </ListItem>\r\n                    <Divider />\r\n                    </div>\r\n                )\r\n            }\r\n            </List>\r\n        </CardContent>\r\n            </Card>\r\n\r\n                    <>\r\n                        <audio ref={ref => this.player = ref} />\r\n                    </>\r\n\r\n              </div>\r\n            );\r\n\r\n            }\r\n            return (<div>Loading...</div>);\r\n            }\r\n\r\n\r\n}\r\n\r\nexport default RelatedAlbums;\r\n\r\n","import React, { useState, useEffect, Component, setState } from 'react';\r\nimport cookie from 'js-cookie';\r\nimport {FetchAlbums} from './FetchAlbums.js';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport './topalbums.css'\r\nimport {Distribution, Box, Text} from 'grommet';\r\nimport AlbumGraph from './AlbumGraph.js';\r\nimport RelatedAlbums from './RelatedAlbums.js';\r\nimport { BrowserView,MobileView,isBrowser,isMobile} from \"react-device-detect\";\r\nimport PopularityChart from './PopularityChart.js';\r\n\r\n\r\nclass TopAlbums extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {value: 'short_term', sidePane: 100};\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.value = 'short_term'\r\n    }\r\n\r\n   handleChange = (artist) => {\r\n        if(this.state.artist != artist) {\r\n                console.log(artist);\r\n            this.setState(oldState => ({\r\n                value: oldState.value,\r\n                clicked: true,\r\n                artist: artist,\r\n                sidePane: 50\r\n            }));\r\n            this.render();\r\n        }\r\n        else {\r\n            this.setState(oldState => ({\r\n                value: oldState.value,\r\n                clicked: true,\r\n                artist: artist,\r\n                sidePane: 50\r\n            }));\r\n        }\r\n        this.graphTrack = <FetchAlbums data={this.state} />;\r\n\r\n\r\n      }\r\n\r\n    changeTab = (event, new_value) => {\r\n        event.preventDefault();\r\n        this.setState({value: new_value});\r\n    }\r\n\r\n    handleSubmit = (event, new_value) => {\r\n        console.log(event);\r\n        console.log(new_value);\r\n        event.preventDefault();\r\n        this.setState({value: new_value});\r\n    }\r\n\r\n\r\n\r\n     async componentDidMount() {\r\n      }\r\n\r\n    render(){\r\n        const track_list = <FetchAlbums data={this.state.value}/>;\r\n\r\n\r\n        return(\r\n            <div style={{marginLeft: '30px'}} class=\"browser-container\">\r\n                <BrowserView>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <label>\r\n                    <Tabs\r\n                        value={this.state[\"value\"]}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        onChange={this.changeTab}\r\n                        aria-label=\"disabled tabs example\"\r\n                      >\r\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\r\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\r\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\r\n                      </Tabs>\r\n                </label>\r\n                </form>\r\n\r\n                <div>\r\n\r\n                {this.state['sidePane'] != 100 &&\r\n                    <Distribution style={{maxHeight:'100vh'}} className=\"dist-box-albums\"\r\n                  values={[\r\n                    { value: this.state['sidePane'], className:\"top-albums\", show: true, data: <FetchAlbums scroll={this.state['sidePane'] != 100} handleChange={this.handleChange} data={this.state.value} /> },\r\n                    { value: this.state['sidePane'] == 100 ? 0 : 25, className:\"album-graph\", show: (this.state.clicked && this.state['sidePane'] != 100 && this.state.artist), data: <AlbumGraph style={{maxHeight: '35vh'}} {...this.state} artist={this.state.artist} /> },\r\n                    { value: this.state['sidePane'] == 100 ? 0 : 25, className:\"related-albums\", show: (this.state.clicked && this.state['sidePane'] != 100 && (this.state.artist)), data: <RelatedAlbums style={{maxHeight: '35vh'}} {...this.state} artist={this.state.artist} /> }\r\n                  ]} >\r\n                  {value => (\r\n                <Box className={value.className} pad=\"small\" fill>\r\n                  {(value.show && value.show) && value.data}\r\n                </Box>\r\n              )}\r\n            </Distribution>\r\n              }\r\n\r\n                {this.state['sidePane'] == 100 &&\r\n                    <Distribution style={{maxHeight:'100vh'}} className=\"dist-box-albums\"\r\n                  values={[\r\n                    { value: this.state['sidePane'], className:\"top-albums\", show: true, data: <FetchAlbums handleChange={this.handleChange} data={this.state.value} /> } ]}>\r\n                    {value => (\r\n                <Box className={value.className} pad=\"small\" fill>\r\n                  {(value.show && value.show) && value.data}\r\n                </Box>\r\n              )}\r\n            </Distribution>\r\n                }\r\n\r\n\r\n\r\n\r\n\r\n                </div>\r\n            </BrowserView>\r\n\r\n            <MobileView>\r\n            <form onSubmit={this.handleSubmit}>\r\n                    <label>\r\n                    <Tabs\r\n                        value={this.state[\"value\"]}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        onChange={this.changeTab}\r\n                        aria-label=\"disabled tabs example\"\r\n                      >\r\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\r\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\r\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\r\n                      </Tabs>\r\n                </label>\r\n                </form>\r\n             <FetchAlbums handleChange={this.handleChange} data={this.state.value} />\r\n            </MobileView>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TopAlbums;","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './topalbums.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport TopAlbums from './TopAlbums.js';\r\nimport PropTypes from 'prop-types'\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport { CircularProgressbar } from 'react-circular-progressbar';\r\nimport 'react-circular-progressbar/dist/styles.css';\r\n\r\n\r\n\r\n\r\n\r\nclass PopularityChart extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(this.props);\r\n\r\n            this.chartReference = React.createRef();\r\n\r\n            this.state = {value: 'short_term', clicked: false,\r\n                            data: [], artist:this.props.artist, feature:'valence'};\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n            let token = cookie.get('access_token');\r\n\r\n        if(this.props != nextProps) {\r\n            this.componentDidMount();\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n        axios.get(`http://localhost:5000/album/${this.props.artist.uri}/${token}`)\r\n        .then(res => {\r\n            fetch = res.data;\r\n            console.log(fetch);\r\n                this.setState(oldState => ({\r\n                    'clicked': true,\r\n                    'album_info':fetch.album_info,\r\n\r\n\r\n\r\n                }));\r\n\r\n\r\n\r\n\r\n\r\n            console.log(this.state);\r\n\r\n\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n            render() {\r\n\r\n\r\n           if(this.state.album_info) {\r\n            return(\r\n\r\n        <div style={{backgroundColor: 'white'}}>\r\n\r\n        <h6>Popularity</h6>\r\n<CircularProgressbar value={this.state.album_info.popularity} text={`${this.state.album_info.popularity}`} strokeWidth={12} />;\r\n\r\n              </div>\r\n            );\r\n\r\n            }\r\n            return (<div><h4>Loading...</h4></div>);\r\n            }\r\n\r\n}\r\n\r\nexport default PopularityChart;\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './tracks.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport ArtistPage from '../artist/ArtistPage.js'\r\nimport TopTracks from './TopTracks.js';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\n\r\nexport function FetchTracks(data) {\r\n\r\n    const [tracks, setTracks] = useState([]);\r\n    const [track, setTrack] = useState([]);\r\n    const [artistId, setArtistId] = useState([]);\r\n    const isCardFunction = (data.handleChange != null);\r\n    const spacer = data.clicked ? 4 : 2;\r\n    const scroll = data.clicked ? 'scroll' : 'hidden';\r\n\r\n    let token = cookie.get('access_token');\r\n    useEffect(() => {\r\n        axios.get(`http://localhost:5000/user/${data.data}/${token}/50`)\r\n        .then(res => {\r\n            setTracks(res.data.top_tracks)\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }, [data.data])\r\n\r\n\r\n\r\n\r\n\r\n\r\n            return(\r\n\r\n        <div style={{height: 'auto', overflow: scroll}}>\r\n            <Grid container className=\"grid-container\"\r\n          alignItems=\"center\"\r\n          justify=\"center\" spacing={0}>\r\n\r\n                 {\r\n                tracks.map((track,index) =>\r\n                    <Grid item xs={6} sm={spacer} md={spacer} lg={spacer}>\r\n                    {isCardFunction &&\r\n                        <Card onClick={() => data.handleChange(track)} className=\"track-card\">\r\n                            <CardMedia className=\"track-img\" image={track.image}></CardMedia>\r\n                            <CardContent className=\"track-info\">\r\n                                <Typography className=\"music-title\" gutterBottom variant=\"h6\" component=\"h6\">{index+1}. {track.track_name} by {track.artist}</Typography>\r\n                            </CardContent>\r\n                    </Card>\r\n                    }\r\n\r\n                 </Grid>\r\n                )}\r\n\r\n              </Grid>\r\n              </div>\r\n            );\r\n\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './tracks.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport ArtistPage from '../artist/ArtistPage.js'\r\nimport TopTracks from './TopTracks.js';\r\nimport PropTypes from 'prop-types'\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\n\r\n\r\n\r\nclass RelatedTracks extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(this.userInfo);\r\n\r\n\r\n            this.chartReference = React.createRef();\r\n\r\n            this.state = {value: 'short_term', clicked: false,\r\n                            data: null, artist:this.props.artist, play: false};\r\n\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n            let token = cookie.get('access_token');\r\n\r\n        if(this.props != nextProps) {\r\n            this.componentDidMount();\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n        axios.get(`http://localhost:5000/related_tracks/${this.props.artist.id}/${token}`)\r\n        .then(res => {\r\n            fetch = res.data;\r\n            this.setState({\r\n                'clicked':true,\r\n                'artists':fetch.artists,\r\n                'track_names':fetch.song_names,\r\n                'images':fetch.images,\r\n                'previews':fetch.audio,\r\n                'current':null,\r\n                'username':fetch.username\r\n            })\r\n            console.log(res.data);\r\n\r\n\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n\r\n\r\n    }\r\n\r\n     playTrack = (url, play) => {\r\n        if(url) {\r\n            if(url != this.state['current'] && this.state['current']) {\r\n                this.player.pause();\r\n                this.player.src = url;\r\n                this.setState(oldState => ({\r\n                    'clicked':oldState.clicked,\r\n                    'artists':oldState.artists,\r\n                    'track_names':oldState.track_names,\r\n                    'images':oldState.images,\r\n                    'previews':oldState.previews,\r\n                    'play':true,\r\n                    'current':url,\r\n                    'username':oldState.username\r\n\r\n                }));\r\n                this.player.play();\r\n            }\r\n            else {\r\n              this.player.src = url;\r\n              if(!play) {\r\n                  this.player.play()\r\n                   this.setState(oldState => ({\r\n                        'clicked':oldState.clicked,\r\n                        'artists':oldState.artists,\r\n                        'track_names':oldState.track_names,\r\n                        'images':oldState.images,\r\n                        'previews':oldState.previews,\r\n                        'play':true,\r\n                        'current':url,\r\n                        'username':oldState.username\r\n                    }));\r\n\r\n                }\r\n                else {\r\n                    this.player.pause();\r\n                    this.setState(oldState => ({\r\n                        'clicked':oldState.clicked,\r\n                        'artists':oldState.artists,\r\n                        'track_names':oldState.track_names,\r\n                        'images':oldState.images,\r\n                        'previews':oldState.previews,\r\n                        'play':false,\r\n                        'current':oldState.url,\r\n                        'username':oldState.username\r\n                    }));\r\n\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n        saveTrack = (track) => {\r\n        console.log(track);\r\n        let token = cookie.get('access_token');\r\n        console.log(this.props);\r\n        console.log(this.userInfo);\r\n        axios.get(`http://localhost:5000/track/save/${track['id']}/${this.state['username']}/${token}`)\r\n                .then(res => {\r\n                    console.log(\"yay!\");\r\n                })\r\n                .catch(err => {\r\n                    console.log(\"no\");\r\n                })\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n            render() {\r\n            return(\r\n\r\n        <div style={{backgroundColor: 'white', overflow: 'scroll'}}>\r\n\r\n            <h2 style={{fontWeight: '300', marginTop: '20px', marginBottom: '0px'}}>Related Tracks</h2>\r\n            <List>\r\n                {this.state.clicked &&\r\n                    this.state.artists.map((artist, index) =>\r\n                        <ListItem>\r\n                            <ListItemAvatar>\r\n                                <Avatar alt=\"Image\" src={this.state.images[index]} />\r\n                            </ListItemAvatar>\r\n                            <ListItemText\r\n                                primary={this.state.track_names[index]}\r\n                            secondary={this.state.artists[index]}\r\n                             />\r\n\r\n                             {this.state['previews'][index] &&\r\n                             <div>\r\n                             <Button onClick={() => this.playTrack(this.state['previews'][index], this.state['play'])}>\r\n                             {(!(this.state['play'] && (this.state['current'] == this.state['previews'][index]))) ? \"Play\" : \"Stop\"}\r\n                             </Button>\r\n                             </div>\r\n                             }\r\n                             {\r\n                             this.state['username'] &&\r\n                             <Button onClick={() => this.saveTrack(this.state['album_info'][index])}>+</Button>\r\n                               }\r\n\r\n                        </ListItem>\r\n\r\n                    )\r\n                }\r\n            </List>\r\n\r\n        <>\r\n                        <audio ref={ref => this.player = ref} />\r\n                        </>\r\n              </div>\r\n            );\r\n\r\n            }\r\n\r\n}\r\n\r\nexport default RelatedTracks;","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './tracks.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport ArtistPage from '../artist/ArtistPage.js'\r\nimport TopTracks from './TopTracks.js';\r\nimport PropTypes from 'prop-types'\r\nimport { Doughnut, Radar, HorizontalBar } from 'react-chartjs-2';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport RelatedTracks from './RelatedTracks.js';\r\n\r\n\r\n\r\n\r\n\r\nclass TrackGraph extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(this.props);\r\n\r\n            this.chartReference = React.createRef();\r\n\r\n            this.state = {value: 'short_term', clicked: false,\r\n                            data: null, artist:this.props.artist};\r\n\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n            let token = cookie.get('access_token');\r\n\r\n        if(this.props != nextProps) {\r\n            this.componentDidMount();\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n        console.log(this.props.artist);\r\n        axios.get(`http://localhost:5000/track/${this.props.artist.uri}/${token}`)\r\n        .then(res => {\r\n            fetch = res.data;\r\n            console.log(fetch);\r\n            this.setState({\r\n                'clicked': true,\r\n                'dataset': {\r\n                    data: fetch.scores,\r\n                    labels: fetch.labels,\r\n                    backgroundColor: fetch.colors\r\n                },\r\n                'data': [{\r\n                    labels: fetch.labels,\r\n                    datasets: [{\r\n                        'data': fetch.scores,\r\n                        'labels': fetch.labels,\r\n                        'backgroundColor': fetch.colors\r\n                    }]\r\n                }]\r\n\r\n            });\r\n            this.render();\r\n\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n            render() {\r\n            return(\r\n\r\n        <div>\r\n\r\n\r\n\r\n\r\n        <div style={{backgroundColor: 'white'}}>\r\n\r\n        <Card>\r\n            {this.state.clicked &&\r\n            <Card class=\"track-chart-container\">\r\n\r\n                    <HorizontalBar ref={this.chartReference}\r\n                                    data={this.state.data[0]} options={{\r\n                                        legend: {\r\n                                            display: false\r\n                                        },\r\n                                        title: {\r\n                                            display: true,\r\n                                            text: 'Feature Scores',\r\n                                            fontFamily: 'Montserrat',\r\n                                            fontSize: '18'\r\n                                        }\r\n\r\n\r\n                                    }}  />\r\n            </Card>\r\n            }\r\n\r\n\r\n\r\n             </Card>\r\n              </div>\r\n             </div>\r\n            );\r\n\r\n            }\r\n\r\n}\r\n\r\nexport default TrackGraph;","import React, { useState, useEffect, Component, setState } from 'react';\r\nimport cookie from 'js-cookie';\r\nimport {FetchTracks} from './FetchTracks.js';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport './tracks.css'\r\nimport {Distribution, Box, Text} from 'grommet';\r\nimport TrackGraph from './TrackGraph.js';\r\nimport RelatedTracks from './RelatedTracks.js';\r\nimport {\r\n  BrowserView,\r\n  MobileView,\r\n  isBrowser,\r\n  isMobile\r\n} from \"react-device-detect\";\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\n\r\nclass TopTracks extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {value: 'short_term', clicked: false};\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.value = 'short_term'\r\n        this.onClick = this.props.onClick;\r\n        this.showGraph = false;\r\n        this.graphTrack =  null;\r\n    }\r\n    handleChange = (artist) => {\r\n        if(this.state.artist != artist) {\r\n                console.log(artist);\r\n            this.setState(oldState => ({\r\n                value: oldState.value,\r\n                clicked: true,\r\n                artist: artist\r\n            }));\r\n        }\r\n        else {\r\n            this.setState(oldState => ({\r\n                value: oldState.value,\r\n                clicked: true,\r\n                artist: artist\r\n            }));\r\n        }\r\n        this.graphTrack = <TrackGraph data={this.state} />;\r\n\r\n\r\n      }\r\n\r\n    changeTab = (event, new_value) => {\r\n        event.preventDefault();\r\n        this.setState({value: new_value});\r\n    }\r\n\r\n    handleSubmit = (event, new_value) => {\r\n        console.log(event);\r\n        console.log(new_value);\r\n        event.preventDefault();\r\n        this.setState({value: new_value});\r\n    }\r\n\r\n\r\n\r\n     async componentDidMount() {\r\n      }\r\n\r\n    render(){\r\n        const track_list = <FetchTracks data={this.state.value}/>;\r\n\r\n        return(\r\n\r\n            <div style={{marginLeft: '30px'}} class=\"browser-container\">\r\n            <BrowserView>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <label>\r\n                    <Tabs\r\n                        value={this.state[\"value\"]}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        onChange={this.changeTab}\r\n                        aria-label=\"disabled tabs example\"\r\n                      >\r\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\r\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\r\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\r\n                      </Tabs>\r\n                </label>\r\n                </form>\r\n\r\n                {this.state['clicked'] && <Distribution style={{maxHeight:'100vh'}} className=\"dist-box-tracks\"\r\n              values={[\r\n                { value: 50, className:\"top-tracks\", show: true, data: <FetchTracks clicked={this.state['clicked']} handleChange={this.handleChange} data={this.state.value} /> },\r\n                { value: 25, className:\"related-tracks\", show: (this.state.clicked && (this.state.artist)), data: <RelatedTracks {...this.state} artist={this.state.artist} /> },\r\n                { value: 25, className:\"track-graph\", show: (this.state.clicked && (this.state.artist)), data: <TrackGraph {...this.state} artist={this.state.artist} /> }\r\n              ]}\r\n            >\r\n              {value => (\r\n                <Box className={value.className} pad=\"small\" fill>\r\n                  {value.show && value.data}\r\n                </Box>\r\n              )}\r\n            </Distribution>\r\n            }\r\n            {!this.state['clicked'] && <Distribution style={{maxHeight:'100vh'}} className=\"dist-box-tracks\"\r\n              values={[\r\n                { value: 100, className:\"top-tracks\", show: true, data: <FetchTracks clicked={this.state['clicked']} handleChange={this.handleChange} data={this.state.value} /> }\r\n              ]}\r\n            >\r\n              {value => (\r\n                <Box className={value.className} pad=\"small\" fill>\r\n                  {value.show && value.data}\r\n                </Box>\r\n              )}\r\n            </Distribution>\r\n            }\r\n\r\n\r\n            </BrowserView>\r\n\r\n            <MobileView>\r\n            <form onSubmit={this.handleSubmit}>\r\n                    <label>\r\n                    <Tabs\r\n                        value={this.state[\"value\"]}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        onChange={this.changeTab}\r\n                        aria-label=\"disabled tabs example\"\r\n                      >\r\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\r\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\r\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\r\n                      </Tabs>\r\n                </label>\r\n                </form>\r\n             <FetchTracks handleChange={this.handleChange} data={this.state.value} />\r\n            </MobileView>\r\n\r\n            </div>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default TopTracks;","import React, { useState, useEffect, Component } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { getSpotifyUser } from './util/auth';\r\nimport Login from './components/login';\r\nimport Home from './components/home/Home';\r\nimport NavBar from './components/common/navbar/Navbar';\r\nimport Logout from './components/logout/Logout';\r\nimport './App.css';\r\nimport {logout} from './util/auth';\r\nimport { User } from 'react-spotify-api';\r\nimport GenreGraphs from './components/graphs/GenreGraphs';\r\nimport GenreMappings from './components/graphs/GenreMappings';\r\nimport ArtistPage from './components/artist/ArtistPage';\r\nimport Dash from './components/dashboard/Dash';\r\nimport TopArtists from './components/top_artists/TopArtists';\r\nimport TopAlbums from './components/top_albums/TopAlbums';\r\n\r\nimport TopTracks from './components/top_tracks/TopTracks';\r\nimport { Nav } from 'react-bootstrap';\r\nimport Sidebar from './components/sidebar/Sidebar';\r\n\r\nclass App extends Component{\r\n  state = {\r\n    userInfo: {status: 'Not logged in'},\r\n  }\r\n\r\n  setUserInfo = (userInfo) => this.setState({ userInfo });\r\n\r\n  async componentDidMount() {\r\n    const userInfo = await getSpotifyUser();\r\n\r\n    if (userInfo) {\r\n      this.setUserInfo(userInfo);\r\n    }\r\n  }\r\n  render(){\r\n    const { userInfo } = this.state;\r\n    console.log(userInfo);\r\n    console.log(\"hello\");\r\n    return (\r\n      <div className=\"App\">\r\n        <link rel=\"stylesheet\" href=\"//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css\" />\r\n        <Router>\r\n          <div style={{height:'100%'}}>\r\n            <Switch>\r\n              <Route exact path=\"/login\" component={(props) =>\r\n                <Login {...props} setUserInfo={this.setUserInfo} userInfo={userInfo} />\r\n              }/>\r\n              <Route exact path=\"/\" component={(props) =>\r\n                <div>\r\n                  <Home userInfo={userInfo} />\r\n                </div>\r\n              }/>\r\n              <Route exact path=\"/logout\">\r\n                <Logout/>\r\n              </Route>\r\n              <Route exact path=\"/top_tracks\">\r\n                <Sidebar userInfo={userInfo}/>\r\n                <TopTracks/>\r\n              </Route>\r\n              <Route exact path=\"/graphs\">\r\n                <Sidebar userInfo={userInfo}/>\r\n                <GenreGraphs />\r\n              </Route>\r\n              <Route exact path=\"/artist/:uri\" render={(props) =>\r\n                <div style={{height:'100%'}}>\r\n                <Sidebar userInfo={userInfo}/>\r\n                <ArtistPage style={{height:'100%'}} id={props.match.params} />\r\n                </div>\r\n               } />\r\n               <Route exact path=\"/top_artists\">\r\n               <Sidebar userInfo={userInfo}/>\r\n                <TopArtists/>\r\n               </Route>\r\n               <Route exact path=\"/top_albums\">\r\n                 <Sidebar userInfo={userInfo}/>\r\n                 <TopAlbums/>\r\n               </Route>\r\n               <Route exact path=\"/dashboard\">\r\n                 <Sidebar userInfo={userInfo}/>\r\n                 <Dash userInfo={userInfo}/>\r\n               </Route>\r\n            </Switch>\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { SpotifyApiAxiosContext, SpotifyApiContext } from 'react-spotify-api';\r\nimport axios from 'axios';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();"],"sourceRoot":""}