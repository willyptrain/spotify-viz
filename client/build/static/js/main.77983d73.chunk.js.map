{"version":3,"sources":["util/url.js","util/auth.js","components/common/Redirect.jsx","components/login/index.jsx","components/common/navbar/Navbar.js","components/sidebar/Sidebar.js","components/home/Home.js","components/logout/Logout.js","components/graphs/GenreMappings.js","components/graphs/GenreGraphs.js","components/artist/ArtistPage.js","components/dashboard/FetchDashTracks.js","components/dashboard/FetchUserWelcome.js","components/dashboard/FetchDashArtists.js","components/dashboard/GenreChart.js","components/dashboard/Dash.js","components/top_artists/FetchArtists.js","components/top_artists/ArtistPage.js","components/top_artists/TopArtists.js","components/top_albums/FetchAlbums.js","components/top_albums/AlbumGraph.js","components/top_albums/RelatedAlbums.js","components/top_albums/TopAlbums.js","components/top_albums/PopularityChart.js","components/top_tracks/FetchTracks.js","components/top_tracks/RelatedTracks.js","components/top_tracks/TrackGraph.js","components/top_tracks/TopTracks.js","App.js","serviceWorker.js","index.js"],"names":["getUrlParams","vars","window","location","href","replace","m","key","value","config","headers","registerSpotify","code","Promise","resolve","reject","axios","post","split","then","res","data","err","logout","get","Redirect","props","url","LinearProgress","Login","redirectToSpotify","a","redirect","setState","redirectUrl","state","params","this","setUserInfo","history","userInfo","console","log","id","push","user","class","className","Button","variant","onClick","Component","React","useStyles","makeStyles","theme","root","display","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","paper","background","hide","flexShrink","whiteSpace","drawerOpen","color","drawerClose","overflowX","spacing","breakpoints","up","toolbar","alignItems","justifyContent","padding","position","right","mixins","customizeToolbar","minHeight","content","flexGrow","userLinks","action","type","guestLinks","MiniDrawer","classes","useTheme","useState","open","setOpen","icons","text","image","style","link","CssBaseline","Drawer","clsx","Toolbar","backgroundColor","IconButton","aria-label","edge","direction","Divider","List","map","icon","index","ListItem","button","component","ListItemIcon","ListItemText","primary","status","Logout","useEffect","marginTop","fontFamily","Mappings","username","chartReference","createRef","token","cookie","scores","genreLabels","dataset","length","labels","label","colors","datasets","catch","Grid","container","item","xs","sm","border","ref","GenreGraphs","ArtistPage","onClose","artist_uri","uri","responsive","desktop","breakpoint","max","min","items","paritialVisibilityGutter","tablet","mobile","artist_data","artist_info","album_info","albums","external_urls","spotify","followers","total","genres","images","name","popularity","genre_data","settings","autoplay","dots","infinite","slidesToShow","slidesToScroll","speed","autoplaySpeed","height","left","Card","src","handleClose","Icon","Typography","gutterBottom","options","rotation","Math","PI","circumference","title","scale","ticks","yAxis","pointLabels","fontSize","fontColor","legend","radius","justify","Paper","elevation","album","tracks_page","e","preventDefault","FetchDashTracks","tracks","setTracks","top_tracks","size","track","ListItemAvatar","Avatar","alt","track_name","secondary","artist","FetchUserWelcome","user_info","CardMedia","objectFit","image_url","CardContent","slice","toUpperCase","artists_page","FetchDashArtists","artists","setArtists","top_artists","artist_name","GenreChart","range","chart","angleLines","suggestedMin","suggestedMax","Dash","overflow","Grommet","full","Distribution","margin","gap","fill","values","CircularProgress","FetchArtists","isCardFunction","handleChange","spacer","clicked","nextProps","componentDidMount","fetch","oldState","info","borderRadius","boxShadow","join","TopArtists","artist_side","handleSubmit","event","new_value","bind","onSubmit","Tabs","indicatorColor","textColor","onChange","Tab","show","Box","pad","FetchAlbums","setAlbums","scroll","isMounted","md","lg","AlbumGraph","mounted","feature","names","borderColor","scales","yAxes","gridLines","drawBorder","plugins","filler","propagate","Alert","RelatedAlbums","playTrack","play","player","pause","album_name","popularities","track_names","previews","disabled","saveTrack","disabled_keys","current","reason","tracks_in_album","audio","Array","CardHeader","subheader","Snackbar","autoHideDuration","severity","TopAlbums","sidePane","render","changeTab","maxHeight","FetchTracks","handleHover","bool","temp","k","hovering","prev","onMouseEnter","onMouseLeave","RelatedTracks","track_ids","added","notif","song_names","ids","fontWeight","marginBottom","TrackGraph","TopTracks","showGraph","graphTrack","App","rel","exact","path","match","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.77983d73.chunk.js","sourcesContent":["//returns access token\nexport function getUrlParams() {\n    const vars = {};\n    const parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, (m, key, value) => {\n      vars[key] = value;\n    });\n    return vars;\n  }\n  \n  export function removeHashParams(value) {\n    if (typeof value !== 'string') return '';\n    const split = value.split('#');\n    return split[0];\n  }\n  \n  export function getHashParams() {\n    const hashParams = {};\n    let e;\n    const r = /([^&;=]+)=?([^&;]*)/g;\n    const q = window.location.hash.substring(1);\n  \n    while (e = r.exec(q)) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n    return hashParams;\n  }","import axios from 'axios';\nimport { removeHashParams } from './url';\nimport { getRequestOptions } from './general';\n\nconst config = { \n  headers: {  \n    'Content-Type': 'application/json',\n    'Access-Control-Allow-Origin': '*'\n  }\n}\n\nexport function getLoginRedirect() {\n  return new Promise((resolve, reject) => {\n    axios\n      .get('/auth/redirect-spotify')\n      .then(res => resolve(res.data), err => reject(err));\n  });\n}\n\nexport function registerSpotify(code) {\n  return new Promise((resolve, reject) => {\n    axios\n      .post('/auth/user', { code: removeHashParams(code) }, config)\n      .then(\n        res => resolve(res.data),\n        err => reject(err)\n      );\n  });\n}\n\nexport function getSpotifyUser() {\n  return new Promise((resolve, reject) => {\n    axios\n      .get('/auth/user')\n      .then(\n        res => resolve(res.data),\n        err => reject(err),\n      );\n  });\n}\n\nexport function logout() {\n  return new Promise((resolve, reject) => {\n    axios\n      .get('/auth/logout')\n      .then(\n        res => resolve(res),\n        err => reject(err)\n      );\n  });\n}","import React from 'react';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\n// const Redirect = (props) => window.location = props.url;\n \n// export default Redirect;\nexport default function Redirect(props) {\n    window.location = props.url;\n    return (\n    <div>\n        <div>\n            <LinearProgress />Loading...\n        </div>\n\n    </div>\n\n    );\n\n}","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Redirect from '../common/Redirect';\nimport { getUrlParams } from '../../util/url';\nimport { getLoginRedirect, registerSpotify } from '../../util/auth';\nimport './login.css';\n\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { redirectUrl: '' }\n  }\n\n  redirectToSpotify = async () => {\n    const redirect = await getLoginRedirect();\n    this.setState({ redirectUrl: redirect });\n  }\n\n  async componentDidMount() {\n    const params = getUrlParams();\n    const code = params.code || null;\n    const { setUserInfo, history, userInfo } = this.props;\n    console.log(code);\n    if (userInfo && userInfo.id) {\n      history.push('/');\n      return;\n    };\n    if (!code) return;\n\n    const user = await registerSpotify(code);\n    setUserInfo(user);\n  }\n\n  render() {\n    if (this.state.redirectUrl) {\n      return <Redirect url={this.state.redirectUrl} />\n    }\n\n    return (\n        <div class=\"landing-page-body\">\n\n            <h1 className=\"welcome-title\">Welcome</h1>\n            <h1 className=\"welcome-subtitle\">Spotify Dashboard</h1>\n\n\n            <Button className=\"login-btn\" variant=\"contained\" onClick={this.redirectToSpotify}>Login with Spotify</Button>\n        </div>\n    );\n  }\n}\n \nexport default Login;","import React from \"react\";\nimport './Navbar.css';\nimport {Button, Navbar, Nav, NavDropdown, Form, FormControl} from 'react-bootstrap';\nimport {logout} from '../../../util/auth.js';\n\nclass NavBar extends React.Component{\n\n    constructor(props) {\n        super(props);\n      }\n    render(){\n        const userLinks = (\n            <Nav.Link href= \"/logout\" onClick={logout}>Logout</Nav.Link>\n        );\n        const guestLinks = (\n            <Nav.Link href=\"/login\">Login</Nav.Link>\n        );\n        return(\n            <Navbar className=\"top-navbar\" bg=\"light\" expand=\"lg\">\n                <Navbar.Brand href=\"/\">Spotify-Viz</Navbar.Brand>\n                <Navbar.Toggle className=\"navBar-font\" aria-controls=\"basic-navbar-nav\" />\n                <Navbar.Collapse className=\"navBar-font\" id=\"basic-navbar-nav\">\n                {this.props.userInfo === `Not logged in` ? guestLinks : userLinks}\n                    <Nav className=\"mr-auto\">\n                    <NavDropdown title=\"Listening History\" className=\"navBar-font\" id=\"basic-nav-dropdown\">\n                        <NavDropdown.Item href=\"/top_tracks\">Top Tracks</NavDropdown.Item>\n                        <NavDropdown.Item href=\"/top_albums\">Top Albums</NavDropdown.Item>\n                        <NavDropdown.Item href=\"/top_artists\">Top Artists</NavDropdown.Item>\n                        <NavDropdown.Divider />\n                        {/*<NavDropdown.Item href=\"#action/3.4\">Separated link</NavDropdown.Item>*/}\n                    </NavDropdown>\n                    <NavDropdown title=\"Graphs\" className=\"navBar-font\" id=\"basic-nav-dropdown\">\n                        <NavDropdown.Item href=\"/graphs\">Artists</NavDropdown.Item>\n                        <NavDropdown.Item href=\"#action/3.2\">Albums</NavDropdown.Item>\n                        <NavDropdown.Item href=\"#action/3.3\">Playlists</NavDropdown.Item>\n                        <NavDropdown.Divider />\n                        <NavDropdown.Item href=\"#action/3.4\">My Listening</NavDropdown.Item>\n                    </NavDropdown>\n                    </Nav>\n                    <Form inline>\n                    <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" />\n                    <Button variant=\"outline-success\">Search</Button>\n                    </Form>\n                </Navbar.Collapse>\n            </Navbar>\n        );\n    }\n}\n\nexport default NavBar;","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport MailIcon from '@material-ui/icons/Mail';\nimport HomeIcon from'@material-ui/icons/Home';\nimport LibraryMusicIcon from '@material-ui/icons/LibraryMusic';\nimport AlbumIcon from '@material-ui/icons/Album';\nimport PersonOutlineIcon from '@material-ui/icons/PersonOutline';\nimport BarChartIcon from '@material-ui/icons/BarChart';\nimport Link from '@material-ui/core/Link';\nimport {logout} from '../../util/auth.js';\nimport './sidebar.css'\nimport Grid from '@material-ui/core/Grid';\n\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  paper: {\n   background: 'red',   \n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: 'nowrap',\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    background: 'rgba(21,21,21,1)',\n    color: '#DFE0E3'\n  },\n  drawerClose: {\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: 'hidden',\n    width: theme.spacing(7) + 1,\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9) + 1,\n    },\n    background: 'rgba(21,21,21,1)',\n    color: '#DFE0E3'\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    position: 'absolute',\n    right: '0px',\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n  },\n  customizeToolbar: {\n    minHeight: 64,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n}));\n\nconst userLinks = (\n  <form action=\"/logout\">\n    <input variant=\"outlined\" type=\"submit\" class=\"logs-user\" value=\"Logout\" />\n</form>\n\n);\nconst guestLinks = (\n\n        <form action=\"/login\">\n    <input variant=\"outlined\" type=\"submit\" class=\"logs-user\" value=\"Login\" />\n        </form>\n\n);\n\n\nexport default function MiniDrawer(userInfo) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(false);\n  const icons = [{\n      text: \"Home\",\n      image: <HomeIcon style={{color: '#DFE0E3'}} />,\n      link: \"/dashboard\",\n  }, {\n      text: \"My Tracks\",\n      image: <LibraryMusicIcon style={{color: '#DFE0E3'}}/>,\n      link: \"/top_tracks\"\n  },{\n      text: \"My Albums\",\n      image: <AlbumIcon style={{color: '#DFE0E3'}}/>,\n      link: \"/top_albums\",\n  }, {\n      text: \"My Artists\",\n      image: <PersonOutlineIcon style={{color: '#DFE0E3'}}/>,\n      link: \"/top_artists\"\n  }\n    ]\n  \n  const graph_icons = [<BarChartIcon style={{color: '#DFE0E3'}}/>]\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n  console.log(userInfo.userInfo);\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n\n      <Drawer\n        variant=\"permanent\"\n        className={clsx(classes.drawer, {\n          [classes.drawerOpen]: open,\n          [classes.drawerClose]: !open,\n        })}\n        classes={{\n          paper: clsx({\n            [classes.drawerOpen]: open,\n            [classes.drawerClose]: !open,\n          }),\n        }}\n      >\n      <Toolbar style={{backgroundColor: 'rgba(21,21,21,1)', color: '#DFE0E3'}} className={classes.customizeToolbar} >\n          {!open &&\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            edge=\"start\"\n            className={clsx(classes.menuButton, {\n              [classes.hide]: open,\n            })}\n          >\n            <MenuIcon />\n          </IconButton>\n          }\n\n\n\n\n        <div className={classes.toolbar}>\n          {open && <IconButton onClick={handleDrawerClose}>\n            {theme.direction === 'rtl' ? <ChevronRightIcon style={{ color: \"white\" }} /> : <ChevronLeftIcon style={{ color: \"white\" }} />}\n          </IconButton>}\n        </div>\n         </Toolbar>\n\n\n        <Divider />\n        <List>\n          {icons.map((icon, index) => (\n            <ListItem button component=\"a\" href={icon.link} key={icon.text}>\n              <ListItemIcon>{icon.image}</ListItemIcon>\n              <ListItemText primary={icon.text} />\n            </ListItem>\n          ))}\n        </List>\n        <Divider />\n\n\n\n              {open && ((userInfo.userInfo.status === `Not logged in` || userInfo.userInfo === null) ? guestLinks : userLinks)}\n      </Drawer>\n\n\n\n\n    </div>\n  );\n}\n","import React from \"react\";\nimport { logout } from '../../util/auth';\nimport NavBar from '../common/navbar/Navbar';\nimport { Album } from 'react-spotify-api';\nimport { SpotifyApiContext} from 'react-spotify-api';\nimport Sidebar from '../sidebar/Sidebar';\nimport Login  from './../login/index.jsx';\n\nclass Home extends React.Component{\n\n\n    constructor(props) {\n        super(props);\n        console.log(this.props);\n      }\n    async componentDidMount() {\n        const { userInfo, history } = this.props; \n    }\n    logout = async () => {\n        const res = await logout();\n            if (res.status === 200) {\n\n            }\n        }\n\n\n    render(){\n       if(this.props.userInfo == 'Not logged in' || (this.props.userInfo == null) || (this.props == null)) {\n           return (\n            <div>\n                <Login userInfo={this.props.userInfo}></Login>\n            </div>\n           );\n       } else {\n       console.log(this.props.userInfo);\n        return(\n            <div>\n            <Sidebar userInfo={this.props.userInfo}/>\n            <h1>Hello!\n            </h1>\n            </div>\n        );\n        }\n    }\n}\n\nexport default Home;","import {logout} from '../../util/auth.js';\nimport React, {useEffect, useState} from 'react';\n\n\nexport default function Logout(userInfo) {\n    console.log(userInfo);\n\n    useEffect(() => {\n        logout();\n\n\n    });\n\n\n    return(\n        <div style={{ marginTop: `64px`, marginLeft: '84px'}}>\n        <h1 style={{fontFamily: 'Montserrat !important'}}>You are now logged out.</h1>\n        <p><a style={{fontFamily: 'Montserrat !important'}} href=\"/\">Click here to return to the home page.</a></p>\n        </div>\n    );\n}\n","import React, {useEffect, useState, shouldComponentUpdate} from 'react';\nimport cookie from 'js-cookie';\nimport axios from 'axios';\nimport { Doughnut, Radar, Polar } from 'react-chartjs-2';\nimport { Bar } from 'react-chartjs-2';\nimport Grid from '@material-ui/core/Grid';\n\n\nclass Mappings extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.username = props.data;\n        this.chartReference = React.createRef();\n        this.token = cookie.get('access_token');\n        this.state = {\n            scores: [],\n            genreLabels: [],\n            dataset: [],\n            data: []\n        };\n\n    }\n    shouldComponentUpdate() {\n        if(this.state[\"data\"].length == 0) {\n            return true;\n        }\n        return false;\n    }\n\n    async componentDidMount()  {\n        axios.get(`/api/graphs/short_term/${this.token}`)\n        .then(res => {\n            this.setState({\n                scores: res.data.scores,\n                genreLabels: res.data.labels,\n                dataset: {\n                  data:res.data.scores,\n                  label:\"User Data\",\n                  backgroundColor: res.data.colors\n                },\n\n                data: [{\n                    labels: res.data.labels,\n                    datasets: [{\n                          data:res.data.scores,\n                          label:\"User Data\",\n                          backgroundColor: res.data.colors\n                    }]\n                }]\n            })\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n\n\n    render() {\n\n        if(this.state[\"data\"].length > 0) {\n                return (\n\n\n          <Grid container className=\"grid-container\">\n            <Grid item xs={12} sm={6}>\n              <div style={{ backgroundColor:'none', border:'1px solid black' }}>\n                <Doughnut ref={this.chartReference}\n                data={this.state.data[0]} />\n              </div>\n           </Grid>\n           <Grid item xs={12} sm={6}>\n              <div style={{ backgroundColor:'white' }}>\n                <Polar ref={this.chartReference}\n                data={this.state.data[0]} />\n              </div>\n           </Grid>\n      </Grid>\n);\n       } else {\n       return (<div></div>)\n       }\n\n    }\n\n}\n\nexport default Mappings;","import React from \"react\";\nimport {useEffect, useState} from 'react';\nimport cookie from 'js-cookie';\nimport axios from 'axios';\nimport { logout } from '../../util/auth';\nimport NavBar from '../common/navbar/Navbar';\nimport { Album } from 'react-spotify-api';\nimport { SpotifyApiContext} from 'react-spotify-api';\nimport Mappings from './GenreMappings'\n\n\n\n\nclass GenreGraphs extends React.Component{\n\n    constructor(props) {\n        super(props);\n      }\n    async componentDidMount() {\n        const { userInfo, history } = this.props;\n                console.log(this.props);\n\n    }\n    logout = async () => {\n        const res = await logout();\n            if (res.status === 200) {\n            }\n        }\n\n    render(){\n        const labels = <Mappings data={this.token}/>;\n        return(\n            <div>\n            <h1>Graphs</h1>\n            {labels}\n            </div>\n\n        );\n\n    }\n}\n\nexport default GenreGraphs;\n","import React, { useState, useEffect, Component, setState } from 'react';\nimport cookie from 'js-cookie';\nimport axios from 'axios';\nimport { useParams } from \"react-router-dom\";\nimport Grid from '@material-ui/core/Grid';\nimport {BrowserView, MobileView} from 'react-device-detect';\nimport Carousel from 'react-material-ui-carousel'\nimport 'react-multi-carousel/lib/styles.css';\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport Slider from \"react-slick\";\nimport './artist.css'\nimport Card from '@material-ui/core/Card';\nimport Typography from '@material-ui/core/Typography';\nimport { Doughnut, Radar } from 'react-chartjs-2';\nimport Paper from '@material-ui/core/Paper';\nimport ItemsCarousel from 'react-items-carousel';\nimport IconButton from '@material-ui/core/IconButton';\nimport CancelIcon from '@material-ui/icons/Cancel';\n//import \"font-awesome/css/font-awesome.css\";\nimport Icon from '@material-ui/core/Icon';\n\n\n\n\nclass ArtistPage extends React.Component{\n\n    constructor(props){\n        super(props);\n        this.state = {};\n        this.chartReference = React.createRef();\n        console.log(this.props);\n        this.onClose = this.props.onClose;\n        console.log(this.props.onClose);\n        this.artist_uri = this.props.id.uri;\n        this.token = cookie.get('access_token');\n\n\n        this.responsive = {\n          desktop: {\n    breakpoint: { max: 3000, min: 1024 },\n    items: 3,\n    paritialVisibilityGutter: 60\n  },\n  tablet: {\n    breakpoint: { max: 1024, min: 464 },\n    items: 2,\n    paritialVisibilityGutter: 50\n  },\n  mobile: {\n    breakpoint: { max: 464, min: 0 },\n    items: 1,\n    paritialVisibilityGutter: 30\n  }\n        };\n\n\n    }\n\n    async componentDidMount()  {\n        axios.get(`/api/artist/${this.artist_uri}/${this.token}`)\n        .then(res => {\n            console.log(res.data);\n            var artist_data = res.data.artist_info;\n            var album_info = res.data.albums;\n            console.log({\n                'external_url':artist_data.external_urls.spotify,\n                'followers': artist_data.followers.total,\n                'genres': artist_data.genres,\n                'images':artist_data.images,\n                'name': artist_data.name,\n                'popularity':artist_data.popularity,\n                'albums':album_info.items,\n                'genre_data':res.data.genre_data,\n                'dataset': {\n                    data: res.data.genre_data.scores,\n                    labels: res.data.genre_data.labels,\n                    backgroundColor: res.data.genre_data.colors\n                },\n                'data': [{\n                    labels: res.data.genre_data.labels,\n                    datasets: [{\n                        'data': res.data.genre_data.scores,\n                        'labels': res.data.genre_data.labels,\n                        'backgroundColor': res.data.genre_data.colors\n                    }]\n                }]\n\n            });\n            this.setState({\n                'external_url':artist_data.external_urls.spotify,\n                'followers': artist_data.followers.total,\n                'genres': artist_data.genres,\n                'images':artist_data.images,\n                'name': artist_data.name,\n                'popularity':artist_data.popularity,\n                'albums':album_info.items,\n                'genre_data':res.data.genre_data,\n                'dataset': {\n                    data: res.data.genre_data.scores,\n                    labels: res.data.genre_data.labels,\n                    backgroundColor: ['rgba(0,0,0,0.5)']\n                },\n                'data': [{\n                    labels: res.data.genre_data.labels,\n                    datasets: [{\n                        'data': res.data.genre_data.scores,\n                        'labels': res.data.genre_data.labels,\n                        'backgroundColor': ['rgba(90,240,159,0.5)']\n                    }]\n                }]\n\n            });\n            console.log(this.state);\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    handleClose() {\n        this.onClose();\n\n    }\n\n\n    render(){\n\n\n        const breakPoints = [\n          { width: 1, itemsToShow: 1 },\n          { width: 550, itemsToShow: 2 },\n          { width: 768, itemsToShow: 3 },\n          { width: 1200, itemsToShow: 4 }\n        ];\n\n        if('external_url' in this.state) {\n\n            var settings = {\n              autoplay: true,\n              dots: false,\n              infinite: true,\n              slidesToShow: 5,\n              slidesToScroll: 1,\n              speed: 2000,\n              autoplaySpeed: 0\n\n            };\n\n\n            return(\n            <>\n            <BrowserView style={{height:'100%'}}>\n                <Grid style={{height:'100%', position:'relative', left:'0px', width:'100%'}} container className=\"grid-container\">\n                <Grid style={{height:'100%'}} item sm={10}>\n                    <Card className=\"artist-card\">\n                      <Grid container className='artist-top-container'>\n                        <Grid style={{height:'100%'}} item sm={6}>\n                           <div style={{height:'100%'}} className=\"artist-img-container\">\n                                <a href={this.state['external_url']}>\n                                    <img className=\"artist-img\" src={this.state['images'][0]['url']}  />\n                                </a>\n                            </div>\n                        </Grid>\n\n                        <Grid style={{height:'100%'}} item sm={6}>\n                             <div className=\"artist-info\">\n                            <IconButton className=\"exit-artist-modal\" onClick={() => this.handleClose()}>\n                                <Icon onClick={() => this.handleClose()} className=\"fa fa-times\" />\n                            </IconButton>\n                            <div className=\"artist-name-container\">\n                                <Typography className=\"artist-name\" style={{fontFamily: 'Montserrat'}}\n                                        gutterBottom variant=\"h3\" component=\"h3\">{this.state['name']}</Typography>\n                            </div>\n                            <div className=\"genre-doughnut\">\n                                <Radar ref={this.chartReference}\n                                data={this.state.data[0]} options={{\n                                    rotation: Math.PI,\n                                    circumference: Math.PI,\n                                       title: {\n                                            display: true,\n                                            position: \"center\",\n                                            text: 'Upcoming Meetings' },\n                                        scale: {\n                        ticks: {\n                            display: false\n                        },\n                        yAxis: {\n                            display: false\n                        },\n                        pointLabels: {\n                            fontSize: 16,\n                            fontColor: '#111111',\n                            fontFamily: \"'Montserrat','Roboto'\"\n                        }\n                    },\n                    legend: {\n                        display: false\n                    },\n                    radius: {\n                        fontSize: 24\n                    }\n                                }} />\n                            </div>\n                        </div>\n                        </Grid>\n                      </Grid>\n                      <Grid container alignItems=\"center\" justify=\"center\" >\n                        <Grid style={{height:'100%'}} item sm={11}>\n                            <div>\n                                <Paper className='carousel-bgd' elevation={3}>\n                                    <Slider {...settings}>\n\n                                    {\n\n                                        this.state.albums.map((album) =>\n                                            <img className=\"album-carousel-item\" src={album.images[0].url}\n                                                  />\n\n                                        )\n\n\n                                    }\n                                    </Slider>\n                                </Paper>\n                            </div>\n                        </Grid>\n                      </Grid>\n                 </Card>\n               </Grid>\n               </Grid>\n\n\n            </BrowserView>\n\n\n            <MobileView>\n                <Grid container className=\"grid-container\">\n                <Grid item xs={12}>\n                    <div className=\"artist-img\">\n                        <a href={this.state['external_url']}>\n                            <img src={this.state['images'][0]['url']} height={this.state['images'][1]['height']} width={this.state['images'][1]['width']} />\n                        </a>\n                    </div>\n               </Grid>\n               <p>{this.state['followers']}</p>\n               </Grid>\n            </MobileView>\n\n         </>\n\n\n\n            );\n        }\n        else {\n            return (<p></p>);\n        }\n    }\n}\n\nexport default ArtistPage;\n","import React, {useEffect, useState} from 'react';\nimport cookie from 'js-cookie';\nimport axios from 'axios';\nimport { List, Image, Button } from 'semantic-ui-react';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItem from '@material-ui/core/ListItem';\nimport Avatar from '@material-ui/core/Avatar';\nimport './userinfo.css';\n\nfunction tracks_page(e) {\n  e.preventDefault();\n  window.location = '/top_tracks';\n}\n\nexport function FetchDashTracks(data) {\n    console.log(data.data)\n    const [tracks, setTracks] = useState([]);\n    let token = cookie.get('access_token');\n    useEffect(() => {\n        axios.get(`/api/user/${data.data}/${token}/15/`)\n        .then(res => {\n            console.log(res.data.top_tracks)\n            setTracks(res.data.top_tracks)\n        })\n        .catch(err => {\n            console.log('yo')\n            console.log(err)\n        })\n    }, [data.data])\n    return(\n        <div>\n        <h2 class=\"list-title\" style={{marginTop: '10px'}}>Top Tracks</h2>\n        <List size=\"mini\">\n            {\n                tracks.map(track =>\n        <ListItem>\n           <ListItemAvatar>\n               <Avatar alt=\"Image\" src={track.image}/>\n          </ListItemAvatar>\n\n            <ListItemText\n                                primary={track.track_name}\n                            secondary={track.artist}\n                             />\n        </ListItem>)\n                }\n        </List>\n        <Button primary content=\"View more...\" onClick={tracks_page} />\n        </div>\n    );\n}\n\n","import cookie from 'js-cookie';\nimport axios from 'axios';\nimport { List, Image } from 'semantic-ui-react';\nimport React, {useEffect, useState} from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport './userinfo.css';\nimport { Typography } from '@material-ui/core';\nimport { Box } from '@material-ui/core';\nimport {FetchCurrentlyPlaying} from './FetchCurrentlyPlaying';\n\n\n\nexport default function FetchUserWelcome(data) {\n    let user_info = data.data;\n    let token = cookie.get('access_token');\n\n\n    console.log(user_info);\n\n    return(\n                <div class=\"list-title\" style={{height: '100%'}}>\n                    <CardMedia\n                      component=\"img\"\n                      alt=\"ProfileImage\"\n                      height=\"300\"\n                      style={{objectFit: 'cover', height: '80%'}}\n                      image={user_info.image_url}\n                      title={user_info.username}\n                    />\n                    <CardContent>\n                      <Typography gutterBottom variant=\"h5\" component=\"h2\" class=\"list-title\">\n                        {user_info.username.slice(0,1).toUpperCase() + user_info.username.slice(1)}\n                      </Typography>\n\n                      <Typography component=\"p\" class=\"list-title\">\n                        Followers: {user_info['followers']['total']}\n                      </Typography>\n                    </CardContent>\n                </div>\n\n    );\n}","import React, {useEffect, useState} from 'react';\nimport cookie from 'js-cookie';\nimport axios from 'axios';\nimport { List, Image, Button } from 'semantic-ui-react';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItem from '@material-ui/core/ListItem';\nimport Avatar from '@material-ui/core/Avatar';\nimport './userinfo.css';\n\nfunction artists_page(e) {\n    e.preventDefault();\n    window.location = '/top_artists';\n  }\n\nexport function FetchDashArtists(data) {\n    console.log(data.data)\n    const [artists, setArtists] = useState([]);\n    let token = cookie.get('access_token');\n    useEffect(() => {\n        axios.get(`/api/user_artists/${data.data}/${token}/15/`)\n        .then(res => {\n            console.log(res.data)\n            setArtists(res.data.top_artists)\n        })\n        .catch(err => {\n            console.log('error :(')\n            console.log(err)\n        })\n    }, [data.data])\n    return(\n        <div>\n        <h2 class=\"list-title\"  style={{marginTop: '10px'}}>Top Artists</h2>\n        <List size=\"mini\">\n            {\n                artists.map(artist =>\n                    <ListItem>\n                       <ListItemAvatar>\n                           <Avatar alt=\"Image\" src={artist.image}/>\n                      </ListItemAvatar>\n\n                        <ListItemText\n                                            primary={artist.artist_name}\n                                         />\n                    </ListItem>)\n                }\n        </List>\n        <Button primary content=\"View more...\" onClick={artists_page} />\n        </div>\n    );\n}\n","import cookie from 'js-cookie';\nimport axios from 'axios';\nimport { List, Image } from 'semantic-ui-react';\nimport React, {useEffect, useState} from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport './userinfo.css';\nimport { Typography } from '@material-ui/core';\nimport { Box } from '@material-ui/core';\nimport {FetchCurrentlyPlaying} from './FetchCurrentlyPlaying';\nimport { Doughnut,Radar } from 'react-chartjs-2';\n\n\nexport default function GenreChart(data) {\n    let genre_info = data.data;\n    let range = data.range;\n    let chart = data.chart;\n    let chartReference = React.createRef();\n    let mobile = data.mobile;\n\n//    'data': [{\n//                    labels: fetch.labels,\n//                    datasets: [{\n//                        'data': fetch.scores,\n//                        'labels': fetch.labels,\n//                        'backgroundColor': fetch.colors\n//                    }]\n//                }]\n//long_genre_scores: (5) [76, 61, 51, 47, 41]\n//long_term_genres:\n//\n    if(data.range == \"short\") {\n        var data = [{\n            labels: data.data['short_term_genres'].slice(0,5),\n            datasets: [{\n                data: data.data['short_genre_scores'].slice(0,5),\n                labels: data.data['short_term_genres'].slice(0,5),\n                backgroundColor: chart == \"doughnut\" ? ['#f1a5ba', '#f5b565', '#fbd981', '#93dcdc', '#6cb8ee'] : 'rgba(108, 184, 238,0.6)'\n            }]\n        }]\n    }\n    else if(data.range == \"long\") {\n        var data = [{\n            labels: data.data['long_term_genres'].slice(0,5),\n            datasets: [{\n                data: data.data['long_genre_scores'].slice(0,5),\n                labels:  data.data['long_term_genres'].slice(0,5),\n                 backgroundColor: chart == \"doughnut\" ? ['#f1a5ba', '#f5b565', '#fbd981', '#93dcdc', '#6cb8ee'] : 'rgba(108, 184, 238,0.6)'\n            }],\n        }]\n    }\n    let token = cookie.get('access_token');\n    var titles = {\n        'short': 'Most Recent Genres',\n        'long': 'All Time Genres'\n    }\n    var title = titles[range];\n\n    return(\n                <div style={{height: '25vh'}}>\n                { chart == \"doughnut\" &&\n                    <Doughnut style={{height: '25vh'}} ref={chartReference}\n                                    data={data[0]} options={{\n                                        title: {\n                                            display: true,\n                                            text: title,\n                                            fontFamily: 'Montserrat',\n                                            fontSize: '18'\n                                        },\n                                        legend: {\n                                            display:  mobile ? false : true,\n                                        },\n                                         responsive:  mobile ? false : true,\n\n                                    }} />\n\n                }\n                { chart == \"radar\" &&\n                     <Radar style={{height: '25vh'}} ref={chartReference}\n                                    data={data[0]} options={{\n                                    scale: {\n                                        angleLines: {\n                                            display: false\n                                        },\n                                        ticks: {\n                                            suggestedMin: 0,\n                                            suggestedMax: 0,\n                                            display: false\n                                        }\n                                    },\n                                    title: {\n                                            display: true,\n                                            text: title,\n                                            fontFamily: 'Montserrat',\n                                            fontSize: '18'\n                                        },\n                                    legend: {\n                                        position: \"bottom\",\n                                        display: false\n                                    },\n                                    responsive: mobile ? false : true\n                                    }\n\n                                    } />\n\n                }\n\n                </div>\n\n    );\n}","import React from \"react\";\nimport NavBar from '../common/navbar/Navbar';\nimport { Grommet, Distribution, Box, Text, grommet } from 'grommet';\nimport {FetchDashTracks} from './FetchDashTracks';\nimport FetchUserWelcome from './FetchUserWelcome';\nimport {FetchDashAlbums} from './FetchDashAlbums';\nimport {FetchDashArtists} from './FetchDashArtists';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport './userinfo.css';\nimport cookie from 'js-cookie';\nimport axios from 'axios';\nimport GenreChart from './GenreChart.js';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport {\n  BrowserView,\n  MobileView,\n  isBrowser,\n  isMobile\n} from \"react-device-detect\";\n\nclass Dash extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n\n  }\n\n\n\n    async componentDidMount() {\n            let token = cookie.get('access_token');\n        axios.get(`/api/user_info/${token}/`)\n        .then(res => {\n            console.log(res.data);\n            this.setState(res.data[0]);\n\n        })\n        .catch(err => {\n            console.log('yo')\n            console.log(err)\n        })\n    }\n  \n\n    render(){\n      const user_info = this.props.userInfo;\n        return(\n        <div style={{ overflow: 'hidden', marginTop: `2vh`, marginLeft: '84px', width: '92%'}}>\n           <BrowserView>\n            {this.state['username'] &&\n            <Grommet style={{overflow: 'hidden', width: '100%',backgroundColor: \"#EBEBEB\"}} full>\n            <Distribution style={{overflow: 'hidden'}} margin=\"xsmall\" gap=\"none\"\n              fill\n              values={[\n                { value: 30, color: \"white\", overflow: false, title: \"Short term genres\", data: <GenreChart mobile={false} data={this.state} chart=\"doughnut\" range=\"short\" /> },\n                { value: 30, color: \"white\", overflow: false, title: \"Long term genres\", data: <GenreChart mobile={false} data={this.state} chart=\"radar\" range=\"long\" /> },\n                { value: 30, color: \"white\", overflow: false, title: \"\", data: <FetchUserWelcome data={this.state} /> },\n                { value: 25, color: \"white\", overflow: true, data: <FetchDashTracks data=\"long_term\" /> },\n                { value: 25, color: \"white\", overflow: true, data: <FetchDashArtists data=\"long_term\"/> }\n              ]}\n            >\n              {value => (\n\n                    <Card width=\"100%\" height=\"100%\" style={{backgroundColor: \"white\", overflow: value.overflow ? 'scroll': 'hidden'}} className=\"userinfo-card\">\n                        {value.data}\n                    </Card>\n\n              )}\n            </Distribution>\n          </Grommet>}\n          {!this.state['username'] &&\n          <div class=\"loading\">\n            <CircularProgress/>\n          </div>\n          }\n\n           </BrowserView>\n           <MobileView>\n            {this.state['username'] &&\n               <div style={{width: '80%'}}>\n                    <Card style={{backgroundColor: \"white\"}} className=\"userinfo-card\">\n                               <FetchUserWelcome data={this.state} />\n                    </Card>\n                    <Card height='25vh' style={{backgroundColor: \"white\", height: '25vh'}} className=\"userinfo-card\">\n                                <GenreChart height='25vh' mobile={true}  style={{height: '25vh'}} data={this.state} chart=\"doughnut\" range=\"short\" />\n                    </Card>\n                     <Card style={{backgroundColor: \"white\"}} className=\"userinfo-card\">\n                                <GenreChart data={this.state} mobile={true}  chart=\"radar\" range=\"long\" />\n                    </Card>\n\n\n               </div>\n             }\n\n           </MobileView>\n\n            </div>\n        );\n    }\n}\n\nexport default Dash;\n","import React, {useEffect, useState} from 'react';\nimport cookie from 'js-cookie';\nimport axios from 'axios';\nimport { List, Image } from 'semantic-ui-react';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport './artists.css';\nimport { Link } from 'react-router-dom';\n\n\n\nexport function FetchArtists(data) {\n    console.log(data.data)\n    const [artists, setArtists] = useState([]);\n    const isCardFunction = (data.handleChange != null);\n        const spacer = data.clicked ? 3 : 2;\n\n\n\n    let token = cookie.get('access_token');\n    useEffect(() => {\n        axios.get(`/api/user_artists/${data.data}/${token}/50/`)\n        .then(res => {\n            console.log(res.data)\n            setArtists(res.data.top_artists)\n        })\n        .catch(err => {\n            console.log('error :(')\n            console.log(err)\n        })\n    }, [data.data])\n\n\n    return(\n\n<div>\n    <Grid container className=\"grid-container\"\n  alignItems=\"center\"\n  justify=\"center\" spacing={0}>\n\n         {\n        artists.map((artist,index) =>\n            <Grid item xs={6} sm={spacer}>\n            {isCardFunction &&\n            <Card onClick={() => data.handleChange(artist)} className=\"topartists-card\">\n                    <CardMedia className=\"topartists-img\" image={artist.image}></CardMedia>\n                    <CardContent className=\"topartists-info\">\n                        <Typography className=\"music-title\" gutterBottom variant=\"h6\" component=\"h6\">{index+1}. {artist.artist_name}</Typography>\n                    </CardContent>\n            </Card>\n            }\n         </Grid>\n        )}\n\n      </Grid>\n      </div>\n    );\n}\n","import React, {useEffect, useState} from 'react';\nimport cookie from 'js-cookie';\nimport axios from 'axios';\nimport { List, Image } from 'semantic-ui-react';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport './artists.css'\nimport { Link } from 'react-router-dom';\nimport Modal from '@material-ui/core/Modal';\nimport PropTypes from 'prop-types'\nimport { Doughnut } from 'react-chartjs-2';\nimport 'react-circular-progressbar/dist/styles.css';\nimport { CircularProgressbar, buildStyles } from 'react-circular-progressbar';\nimport Slider from \"react-slick\";\n\n\n\n\n\nclass ArtistPage extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.chartReference = React.createRef();\n        this.nextProps = this.props;\n        this.state = {value: 'short_term', clicked: false,\n                            data: [], artist:this.props.artist};\n\n\n\n\n\n    }\n\n    componentWillReceiveProps(nextProps) {\n            let token = cookie.get('access_token');\n\n        if(this.props != nextProps) {\n            this.nextProps = nextProps;\n            this.componentDidMount();\n\n        }\n    }\n\n    async componentDidMount() {\n        let token = cookie.get('access_token');\n        console.log(this.nextProps)\n        axios.get(`/api/artist/${this.nextProps.artist.uri}/${token}`)\n        .then(res => {\n            fetch = res.data;\n                this.setState(oldState => ({\n                    'clicked': true,\n                    'artist_info':fetch.info,\n                    'albums':fetch.albums.items\n                }));\n\n\n\n        })\n        .catch(err => {\n            console.log('error :(')\n            console.log(err)\n        })\n    }\n\n            render() {\n\n\n            var settings = {\n              autoplay: true,\n              dots: false,\n              infinite: true,\n              slidesToShow: 3,\n              slidesToScroll: 1,\n              speed: 2000,\n              autoplaySpeed: 0\n\n            };\n\n           if(this.state.artist_info) {\n                       const genres = this.state.artist_info.genres;\n\n            return(\n\n        <div style={{backgroundColor: 'white'}}>\n            <Card>\n                <CardContent>\n\n                        <img style={{height:'250px',width:'250px', borderRadius: '100%', boxShadow:'2px 2px 5px 0.1px black'}} src={this.state.artist_info.images[0].url} />\n                    <h1>{this.state.artist_info.name.toUpperCase()}</h1>\n                    <Grid container className=\"artist-grid-container\">\n                        <Grid item sm={12}>\n                            <div class=\"genre-container\">\n                                <h4>Genres:</h4>\n                                <p>&nbsp;{genres.slice(0,Math.min(genres.length,4)).join(\", \")}</p>\n                            </div>\n                        </Grid>\n                        <Grid item sm={12}>\n                             <div class=\"genre-container\" style={{backgroundColor: 'white'}}>\n                                <h4>Popularity: </h4>\n                                <p>&nbsp;{this.state.artist_info.popularity}</p>\n                              </div>\n                        </Grid>\n                    </Grid>\n                    <Slider {...settings}>\n\n                                    {\n\n                                        this.state.albums.map((album) =>\n                                            <Card>\n                                            <img className=\"album-carousel-item\" src={album.images[0].url}\n                                                  />\n                                            </Card>\n\n                                        )\n\n\n                                    }\n                    </Slider>\n                </CardContent>\n\n            </Card>\n\n              </div>\n            );\n\n            }\n            return (<div><h4>Loading...</h4></div>);\n            }\n\n}\n\nexport default ArtistPage;\n//                                {genres.slice(0,Math.min(genres.length,4)).map((genre) => {genre[0].toUpperCase() + genre.substr(1)})}\n//\n","import React, { useState, useEffect, Component, setState } from 'react';\nimport cookie from 'js-cookie';\nimport {FetchArtists} from './FetchArtists.js';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport './artists.css'\nimport {Distribution, Box, Text} from 'grommet';\nimport { BrowserView,MobileView,isBrowser,isMobile} from \"react-device-detect\";\nimport ArtistPage from './ArtistPage.js'\n\nclass TopArtists extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {value: 'short_term', artist_side: 100};\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.value = 'short_term'\n    }\n    handleChange = (artist) => {\n        console.log(artist)\n        if(this.state.artist != artist) {\n            this.setState(oldState => ({\n                value: oldState.value,\n                clicked: true,\n                artist: artist,\n                artist_side: 70\n            }));\n        }\n\n\n\n      }\n    handleSubmit = (event, new_value) => {\n\n        this.setState({value: new_value, clicked: false, artist_side: 100});\n    }\n\n\n     async componentDidMount() {\n      }\n\n    render(){\n        const artist_list = <FetchArtists data={this.state.value}/>;\n\n        return(\n        <div style={{marginLeft: '30px'}} >\n        <BrowserView>\n            <div class=\"browser-container\" style={{ marginLeft: '0px'}}>\n                    <form onSubmit={this.handleSubmit}>\n                        <label>\n                        <Tabs\n                            value={this.state[\"value\"]}\n                            indicatorColor=\"primary\"\n                            textColor=\"primary\"\n                            onChange={this.handleSubmit}\n                            aria-label=\"disabled tabs example\"\n                          >\n                                <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\n                                <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\n                                <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\n                          </Tabs>\n                    </label>\n                    </form>\n\n\n                    {this.state['clicked'] && <Distribution\n                  values={[\n                    { value: this.state.artist_side, className:\"top-tracks\", show: true, data: <FetchArtists clicked={this.state['clicked']} handleChange={this.handleChange} data={this.state.value} /> },\n                    { value: 100-this.state.artist_side, className:\"track-graph\", show: (this.state.clicked && (this.state.artist)), data: <ArtistPage handleChange={this.handleChange} {...this.state} /> }\n\n                  ]}\n                >\n                  {value => (\n                    <Box className={value.className} pad=\"small\" fill>\n                      {value.show && value.data}\n                    </Box>\n                  )}\n                </Distribution>}\n\n                {!this.state['clicked'] && <Distribution\n                  values={[\n                    { value: 100, className:\"top-tracks\", show: true, data: <FetchArtists clicked={this.state['clicked']} handleChange={this.handleChange} data={this.state.value} /> },\n                  ]}\n                >\n                  {value => (\n                    <Box className={value.className} pad=\"small\" fill>\n                      {value.show && value.data}\n                    </Box>\n                  )}\n                </Distribution>}\n\n\n            </div>\n            </BrowserView>\n\n\n        <MobileView>\n            <div style={{ marginTop: `0px`, marginLeft: '30px'}}>\n                <form onSubmit={this.handleSubmit}>\n                    <label>\n                    <Tabs\n                        value={this.state[\"value\"]}\n                        indicatorColor=\"primary\"\n                        textColor=\"primary\"\n                        onChange={this.handleChange}\n                        aria-label=\"disabled tabs example\"\n                      >\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\n                      </Tabs>\n                </label>\n                </form>\n                <Distribution\n                  values={[\n                    { value: 100, className:\"top-tracks\", show: true, data: <FetchArtists clicked={this.state['clicked']} handleChange={this.handleChange} data={this.state.value} /> },\n                  ]}\n                >\n                  {value => (\n                    <Box className={value.className} pad=\"small\" fill>\n                      {value.show && value.data}\n                    </Box>\n                  )}\n                </Distribution>\n\n\n            </div>\n            </MobileView>\n            </div>\n        );\n    }\n}\n\nexport default TopArtists;","import React, {useEffect, useState} from 'react';\nimport cookie from 'js-cookie';\nimport axios from 'axios';\nimport { List, Image } from 'semantic-ui-react';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport './topalbums.css'\nimport { Link } from 'react-router-dom';\n\n\n\nexport function FetchAlbums(data) {\n    const [albums, setAlbums] = useState([]);\n    const isCardFunction = (data.handleChange != null);\n    const scroll = data.scroll ? 'scroll' : 'hidden';\n    const spacer = data.scroll ? 3 : 2;\n\n\n    let token = cookie.get('access_token');\n    useEffect(() => {\n        let isMounted = true;\n        axios.get(`/api/user_albums/${data.data}/${token}/50`)\n        .then(res => {\n            if(isMounted) {\n                console.log(res.data)\n                setAlbums(res.data.albums)\n            }\n\n        })\n\n        return () => { isMounted = false };\n    }, [data.data])\n\n\n\n    return(\n\n<div style={{overflow: scroll, height: 'auto'}}>\n\n            <Grid container className=\"grid-container\"\n          alignItems=\"center\"\n          justify=\"center\" spacing={0}>\n\n                 {\n                albums.map((album,index) =>\n                    <Grid item xs={6} sm={spacer} md={spacer} lg={spacer}>\n                    {isCardFunction &&\n                        <Card onClick={() => data.handleChange(album)} className=\"track-card\">\n                            <CardMedia className=\"topalbums-img\" image={album.images[0].url}></CardMedia>\n                            <CardContent className=\"topalbums-info\">\n                                <Typography className=\"music-title\" gutterBottom variant=\"h6\" component=\"h6\">{index+1}. {album.name} by {album.artists[0].name}</Typography>\n                            </CardContent>\n                    </Card>\n                    }\n\n                 </Grid>\n                )}\n\n              </Grid>\n\n\n      </div>\n    );\n}\n","import React, {useEffect, useState} from 'react';\nimport cookie from 'js-cookie';\nimport axios from 'axios';\nimport { List, Image } from 'semantic-ui-react';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport './topalbums.css'\nimport { Link } from 'react-router-dom';\nimport Modal from '@material-ui/core/Modal';\nimport TopAlbums from './TopAlbums.js';\nimport PropTypes from 'prop-types'\nimport { Line } from 'react-chartjs-2';\n\n\n\n\n\nclass AlbumGraph extends React.Component {\n\n    constructor(props) {\n        super(props);\n        console.log(this.props);\n        this.nextProps = this.props;\n            this.chartReference = React.createRef();\n            this.mounted = false;\n            this.state = {value: 'short_term', clicked: false,\n                            data: [], artist:this.props.artist, feature:'valence'};\n\n\n\n\n\n    }\n\n     componentWillReceiveProps(nextProps) {\n\n        let token = cookie.get('access_token');\n\n        if(this.props.artist.uri != nextProps.artist.uri) {\n            this.nextProps = nextProps;\n            this.componentDidMount();\n\n        }\n    }\n\n\n\n    async componentDidMount() {\n        let token = cookie.get('access_token');\n        this.mounted = true;\n        axios.get(`/api/album/${this.nextProps.artist.uri}/${token}`)\n        .then(res => {\n            if(this.mounted){\n                fetch = res.data;\n                this.chartReference = React.createRef();\n                if(fetch.scores[this.state.feature].length > 1) {\n                    this.setState(oldState => ({\n                        'clicked': true,\n                        'album_info':fetch.album_info,\n                        'data': [{\n                            labels: fetch.names,\n                            'datasets': [{\n                                'data': fetch.scores[oldState.feature],\n                                'labels': oldState.feature,\n                                fill: true,\n                                backgroundColor: \"rgba(75,192,192,0.2)\",\n                                borderColor: \"rgba(75,192,192,1)\"\n                            }\n                            ]\n                        }]\n\n\n                    }));\n                }\n                else {\n                    this.setState(oldState => ({\n                        'clicked': true,\n                        'album_info':fetch.album_info,\n                        'data': null\n\n\n\n                    }));\n                }\n\n            }\n            console.log(this.state);\n                    return () => { this.mounted = false };\n\n\n\n        })\n        .catch(err => {\n            console.log('error :(')\n            console.log(err)\n        })\n    }\n\n\n\n    componentWillUnmount() {\n        this.mounted = false;\n\n    }\n\n\n            render() {\n           if(this.state.data) {\n            return(\n\n        <div style={{backgroundColor: 'white'}}>\n        <Card>\n            {this.state.clicked && (this.state.data[0]['datasets'][0]['data'].length > 1) &&\n                <Line ref={this.chartReference}\n                                data={this.state.data[0]} options={{\n            title:{\n              display:true,\n              text:`Positivity Score by Track`,\n              fontSize:20,\n              fontFamily: 'Montserrat'\n            },\n            legend:{\n              display:false\n            },\n            scales: {\n                yAxes: [{\n                  gridLines: {\n                    drawBorder: false,\n                  },\n                  display: false\n                }]\n              },\n            plugins: {\n            filler: {\n                propagate: true\n            }\n        }\n          }} />\n\n\n           }\n\n             </Card>\n              </div>\n            );\n\n            }\n            var info = this.state.album_info;\n            return (<Card><CardContent><p>Cannot construct graph for songs in {info.name}</p></CardContent></Card>);\n            }\n\n}\n\nexport default AlbumGraph;\n\n","import React, {useEffect, useState} from 'react';\nimport cookie from 'js-cookie';\nimport axios from 'axios';\nimport { List, Image } from 'semantic-ui-react';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport './topalbums.css'\nimport { Link } from 'react-router-dom';\nimport Modal from '@material-ui/core/Modal';\nimport ArtistPage from '../artist/ArtistPage.js'\nimport TopAlbums from './TopAlbums.js';\nimport PropTypes from 'prop-types'\nimport ListItem from '@material-ui/core/ListItem';\nimport Divider from '@material-ui/core/Divider';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\n\n\nclass Alert extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.props = props\n    }\n\n    render() {\n        return <MuiAlert elevation={6} variant=\"filled\" {...this.props} />;\n\n    }\n }\n\n\n\n\nclass RelatedAlbums extends React.Component {\n\n    constructor(props) {\n        super(props);\n        console.log(this.props);\n        this.nextProps = this.props;\n        this.mounted = false;\n        this.state = {value: 'short_term', clicked: false,\n                            data: null, artist:this.props.artist};\n        console.log(\"WEEEEE2222E\");\n\n\n    }\n\n\n    componentWillReceiveProps(nextProps) {\n\n        let token = cookie.get('access_token');\n\n        if(this.props != nextProps) {\n            this.nextProps = nextProps;\n            this.componentDidMount();\n\n        }\n    }\n\n    async componentDidMount() {\n        let token = cookie.get('access_token');\n        this.mounted = true;\n        console.log(this.nextProps.artist.artist)\n        axios.get(`/api/album_track_info/${this.nextProps.artist.id}/${token}`)\n        .then(res => {\n            fetch = res.data;\n            if(this.mounted) {\n                this.setState(oldState => ({\n                    'clicked':true,\n                    'album_name':fetch.album_name,\n                    'album_info':fetch.tracks_in_album,\n                    'popularities':fetch.popularities,\n                    'track_names':fetch.track_names,\n                    'previews':fetch.audio,\n                    'current':null,\n                    'username':fetch.username,\n                    'disabled':new Array(fetch.audio.length).fill(false),\n                    'notif': false\n                 }));\n            }\n            return () => {this.mounted = false}\n        })\n\n\n        .catch(err => {\n            console.log('error :(')\n            console.log(err)\n        })\n\n    }\n\n     componentWillUnmount() {\n        this.mounted = false;\n    }\n\n\n    playTrack = (url, play) => {\n        if(url) {\n            if(url != this.state['current'] && this.state['current']) {\n                this.player.pause();\n                this.player.src = url;\n                this.setState(oldState => ({\n                    'clicked':true,\n                    'album_name':oldState.album_name,\n                    'album_info':oldState.album_info,\n                    'popularities':oldState.popularities,\n                    'track_names':oldState.track_names,\n                    'previews':oldState.previews,\n                    'play':true,\n                    'current':url,\n                    'username':oldState.username,\n                    'disabled':oldState.disabled,\n                    'notif': false\n                }));\n                this.player.play();\n            }\n            else {\n              this.player.src = url;\n              if(!play) {\n                  this.player.play()\n                   this.setState(oldState => ({\n                        'clicked':true,\n                        'album_name':oldState.album_name,\n                        'album_info':oldState.album_info,\n                        'popularities':oldState.popularities,\n                        'track_names':oldState.track_names,\n                        'previews':oldState.previews,\n                        'play':true,\n                        'current':url,\n                        'username':oldState.username,\n                        'disabled':oldState.disabled,\n                        'notif': false\n                    }));\n                }\n                else {\n                    this.player.pause();\n                    this.setState(oldState => ({\n                        'clicked':true,\n                        'album_name':oldState.album_name,\n                        'album_info':oldState.album_info,\n                        'popularities':oldState.popularities,\n                        'track_names':oldState.track_names,\n                        'previews':oldState.previews,\n                        'play': false,\n                        'current':url,\n                        'username':oldState.username,\n                        'disabled':oldState.disabled,\n                        'notif': false\n                    }));\n                }\n            }\n        }\n    }\n\n\n\n    saveTrack = (track,index) => {\n        console.log(track);\n        let token = cookie.get('access_token');\n        axios.get(`/api/track/save/${track['id']}/${this.state['username']}/${token}`)\n                    .then(res => {\n\n                        var disabled_keys = this.state['disabled'];\n                        console.log(disabled_keys)\n                        disabled_keys[index] = true\n                        this.setState(oldState => ({\n                            'clicked':true,\n                            'album_name':oldState.album_name,\n                            'album_info':oldState.album_info,\n                            'popularities':oldState.popularities,\n                            'track_names':oldState.track_names,\n                            'previews':oldState.previews,\n                            'play': oldState.play,\n                            'current':oldState.current,\n                            'username':oldState.username,\n                            'disabled': disabled_keys,\n                            'notif': true\n                        }));\n\n\n\n                    })\n                    .catch(err => {\n                        console.log(err);\n                        console.log(\"error :(\");\n                    })\n    }\n\n\n        handleClose = (event, reason) => {\n                 this.setState(oldState => ({\n                            'clicked':true,\n                            'album_name':oldState.album_name,\n                            'album_info':oldState.album_info,\n                            'popularities':oldState.popularities,\n                            'track_names':oldState.track_names,\n                            'previews':oldState.previews,\n                            'play': oldState.play,\n                            'current':oldState.current,\n                            'username':oldState.username,\n                            'disabled': oldState.disabled,\n                            'notif': false\n                  }));\n\n\n            };\n\n\n            render() {\n\n            var player_on = !this.state['play'] ? \"Play\" : \"Stop\"\n\n            if(this.state.album_info) {\n\n\n            return(\n\n        <div style={{backgroundColor: 'white', overflow: 'scroll'}}>\n        <Card>\n        <CardHeader style={{fontFamily: 'Montserrat !important'}} title={this.state.album_name} subheader=\"Tracks in Album\" />\n        <CardContent>\n        <List>\n            {this.state.clicked &&\n                this.state.previews.map((name, index) =>\n                    <div>\n                    <ListItem>\n                        <ListItemText\n                            primary={this.state.track_names[index]}\n\n                         />\n                            {this.state['previews'][index] &&\n                             <div>\n                             <Button onClick={() => this.playTrack(this.state['previews'][index], this.state['play'])}>\n                                    {(!(this.state['play'] && (this.state['current'] == this.state['previews'][index]))) ? \"Play\" : \"Stop\"}</Button>\n                             </div>\n                             }\n                             {\n                             this.state['username']  && !this.state['disabled'][index] &&\n                                <Button onClick={() => this.saveTrack(this.state['album_info'][index], index)}>+</Button>\n                              }\n                    </ListItem>\n                    <Divider />\n                    </div>\n                )\n            }\n            </List>\n        </CardContent>\n            </Card>\n\n                    <>\n                        <audio ref={ref => this.player = ref} />\n                    </>\n\n                 <Snackbar open={this.state['notif']} autoHideDuration={2000} onClose={this.handleClose}>\n                    <Alert onClose={this.handleClose} severity=\"success\">\n                      Track Added to library!\n                    </Alert>\n                  </Snackbar>\n\n\n\n              </div>\n            );\n\n            }\n            return (<div>Loading...</div>);\n            }\n\n\n}\n\nexport default RelatedAlbums;\n\n","import React, { useState, useEffect, Component, setState } from 'react';\nimport cookie from 'js-cookie';\nimport {FetchAlbums} from './FetchAlbums.js';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport './topalbums.css'\nimport {Distribution, Box, Text} from 'grommet';\nimport AlbumGraph from './AlbumGraph.js';\nimport RelatedAlbums from './RelatedAlbums.js';\nimport { BrowserView,MobileView,isBrowser,isMobile} from \"react-device-detect\";\nimport PopularityChart from './PopularityChart.js';\n\n\nclass TopAlbums extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {value: 'short_term', sidePane: 100};\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.value = 'short_term'\n        console.log(\"YEEEEEE\");\n    }\n\n   handleChange = (artist) => {\n\n\n        if(!(this.state.artist) || this.state.artist.id != artist.id) {\n            this.setState(oldState => ({\n                value: oldState.value,\n                clicked: true,\n                artist: artist,\n                sidePane: 50\n            }));\n            this.render();\n        }\n        else {\n            this.setState(oldState => ({\n                value: oldState.value,\n                clicked: true,\n                artist: artist,\n                sidePane: 50\n            }));\n        }\n\n\n      }\n\n    changeTab = (event, new_value) => {\n        event.preventDefault();\n        this.setState({value: new_value});\n    }\n\n    handleSubmit = (event, new_value) => {\n        console.log(event);\n        console.log(new_value);\n        event.preventDefault();\n        this.setState({value: new_value});\n    }\n\n\n\n    render(){\n        const track_list = <FetchAlbums data={this.state.value}/>;\n\n\n        return(\n            <div style={{marginLeft: '30px'}} class=\"browser-container\">\n                <BrowserView>\n                <form onSubmit={this.handleSubmit}>\n                    <label>\n                    <Tabs\n                        value={this.state[\"value\"]}\n                        indicatorColor=\"primary\"\n                        textColor=\"primary\"\n                        onChange={this.handleSubmit}\n                        aria-label=\"disabled tabs example\"\n                      >\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\n                      </Tabs>\n                </label>\n                </form>\n\n                <div>\n\n                {this.state['sidePane'] != 100 &&\n                    <Distribution style={{maxHeight:'100vh'}} className=\"dist-box-albums\"\n                  values={[\n                    { value: 50, className:\"top-albums\", show: true, data: <FetchAlbums scroll={this.state['sidePane'] != 100} handleChange={this.handleChange} data={this.state.value} /> },\n                    { value: 25, className:\"album-graph\", show: (this.state.clicked && this.state.artist), data: <AlbumGraph style={{maxHeight: '35vh'}} {...this.state} artist={this.state.artist} /> },\n                    { value: 25, className:\"related-albums\", show: (this.state.clicked && (this.state.artist)), data: <RelatedAlbums style={{maxHeight: '35vh'}} {...this.state} /> }\n                  ]} >\n                  {value => (\n                <Box className={value.className} pad=\"small\" fill>\n                  {value.show && value.data}\n                </Box>\n              )}\n            </Distribution>\n              }\n\n                {this.state['sidePane'] == 100 &&\n                    <Distribution style={{maxHeight:'100vh'}} className=\"dist-box-albums\"\n                  values={[\n                    { value: this.state['sidePane'], className:\"top-albums\", show: true, data: <FetchAlbums handleChange={this.handleChange} data={this.state.value} /> } ]}>\n                    {value => (\n                <Box className={value.className} pad=\"small\" fill>\n                  {(value.show) && value.data}\n                </Box>\n              )}\n            </Distribution>\n                }\n\n\n\n\n\n                </div>\n            </BrowserView>\n\n            <MobileView>\n            <form onSubmit={this.handleSubmit}>\n                    <label>\n                    <Tabs\n                        value={this.state[\"value\"]}\n                        indicatorColor=\"primary\"\n                        textColor=\"primary\"\n                        onChange={this.handleSubmit}\n                        aria-label=\"disabled tabs example\"\n                      >\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\n                      </Tabs>\n                </label>\n                </form>\n             <FetchAlbums handleChange={this.handleChange} data={this.state.value} />\n            </MobileView>\n\n            </div>\n        );\n    }\n}\n\nexport default TopAlbums;","import React, {useEffect, useState} from 'react';\nimport cookie from 'js-cookie';\nimport axios from 'axios';\nimport { List, Image } from 'semantic-ui-react';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport './topalbums.css'\nimport { Link } from 'react-router-dom';\nimport Modal from '@material-ui/core/Modal';\nimport TopAlbums from './TopAlbums.js';\nimport PropTypes from 'prop-types'\nimport { Doughnut } from 'react-chartjs-2';\nimport { CircularProgressbar } from 'react-circular-progressbar';\nimport 'react-circular-progressbar/dist/styles.css';\n\n\n\n\n\nclass PopularityChart extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n         this.nextProps = this.props;\n            this.chartReference = React.createRef();\n\n            this.state = {value: 'short_term', clicked: false,\n                            data: [], artist:this.props.artist, feature:'valence'};\n\n\n\n\n\n    }\n\n    componentWillReceiveProps(nextProps) {\n            let token = cookie.get('access_token');\n\n        if(this.props.artist.uri != nextProps.artist.uri) {\n            this.nextProps = nextProps;\n            this.componentDidMount();\n\n        }\n    }\n\n    async componentDidMount() {\n        let token = cookie.get('access_token');\n        console.log(this.nextProps.artist.artist)\n        axios.get(`/api/album/${this.nextProps.artist.uri}/${token}`)\n        .then(res => {\n            fetch = res.data;\n            console.log(fetch);\n                this.setState(oldState => ({\n                    'clicked': true,\n                    'album_info':fetch.album_info,\n\n\n\n                }));\n\n\n\n\n\n            console.log(this.state);\n\n\n\n        })\n        .catch(err => {\n            console.log('error :(')\n            console.log(err)\n        })\n    }\n\n            render() {\n\n\n           if(this.state.album_info) {\n            return(\n\n        <div style={{backgroundColor: 'white'}}>\n\n        <h6>Popularity</h6>\n<CircularProgressbar value={this.state.album_info.popularity} text={`${this.state.album_info.popularity}`} strokeWidth={12} />;\n\n              </div>\n            );\n\n            }\n            return (<div><h4>Loading...</h4></div>);\n            }\n\n}\n\nexport default PopularityChart;\n","import React, {useEffect, useState} from 'react';\nimport cookie from 'js-cookie';\nimport axios from 'axios';\nimport { List, Image } from 'semantic-ui-react';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport './tracks.css'\nimport { Link } from 'react-router-dom';\nimport Modal from '@material-ui/core/Modal';\nimport ArtistPage from '../artist/ArtistPage.js'\nimport TopTracks from './TopTracks.js';\nimport PropTypes from 'prop-types';\nimport PlayCircleOutlineIcon from '@material-ui/icons/PlayCircleOutline';\nimport PlayCircleFilledIcon from '@material-ui/icons/PlayCircleFilled';\nimport Fab from '@material-ui/core/Fab';\n\n\n\n\n\n\n\n\n\n\nclass FetchTracks extends React.Component {\n\n\n    constructor(props) {\n        super(props);\n        console.log(props);\n//        const [tracks, setTracks] = useState([]);\n//        const [track, setTrack] = useState([]);\n//        const [artistId, setArtistId] = useState([]);\n        this.k = 50;\n        this.data = this.props.data;\n         this.state = {value: this.props.data, clicked: this.props.clicked, hovering: new Array(this.k).fill(false)};\n        this.isCardFunction = (this.props.handleChange != null);\n        this.spacer = this.props.clicked ? 4 : 2;\n        this.scroll = this.props.clicked ? 'scroll' : 'hidden';\n        this.hovering = false;\n    }\n\n\n    async componentDidMount() {\n\n        let token = cookie.get('access_token');\n            axios.get(`/api/user/${this.props.data}/${token}/${this.k}`)\n            .then(res => {\n                this.setState(oldState => ({\n                    'value':  this.state['value'],\n                    'tracks': res.data.top_tracks,\n                    'hovering':oldState.hovering\n                }));\n            })\n            .catch(err => {\n                console.log('error :(')\n                console.log(err)\n            })\n    }\n    async componentDidUpdate(prev) {\n\n        if(prev.value != this.props['value']) {\n\n            let token = cookie.get('access_token');\n                axios.get(`/api/user/${this.props.data}/${token}/${this.k}`)\n                .then(res => {\n                    this.setState(oldState => ({\n                        'value':  oldState.value,\n                        'tracks': res.data.top_tracks,\n                        'hovering':oldState.hovering\n                    }));\n                })\n                .catch(err => {\n                    console.log('error :(')\n                    console.log(err)\n                })\n\n        }\n\n     }\n\n\n        handleHover = (index, bool) => {\n            var temp = this.state['hovering'];\n            temp[index] = bool;\n            this.setState(oldState => ({\n                'value':  oldState.value,\n                'tracks': oldState.tracks,\n                'hovering':temp\n            }));\n\n        }\n        render() {\n\n            if('tracks' in this.state) {\n                return(\n\n                <div style={{height: 'auto', overflow: this.scroll}}>\n                    <Grid container className=\"grid-container\"\n                  alignItems=\"center\"\n                  justify=\"center\" spacing={0}>\n\n                         {\n                        this.state['tracks'].map((track,index) =>\n                            <Grid item xs={6} sm={this.spacer} md={this.spacer} lg={this.spacer}>\n                            {this.isCardFunction &&\n                                <Card onMouseEnter={() => this.handleHover(index, true)} onMouseLeave={() => this.handleHover(index, false)}\n                                        onClick={() => this.props.handleChange(track)} className=\"track-card\">\n\n                                <CardMedia className=\"track-img\" image={track.image}></CardMedia>\n\n\n\n\n\n                            </Card>\n                            }\n\n                         </Grid>\n                        )}\n\n                      </Grid>\n                      </div>\n                    );\n            }\n            else {\n                return (<div>Loading...</div>);\n            }\n\n\n\n            }\n\n}\nexport default FetchTracks;\n//\n//           <CardContent className=\"track-info\">\n//                                        <Typography className=\"music-title\" gutterBottom variant=\"h6\" component=\"h6\">{index+1}. {track.track_name} by {track.artist}</Typography>\n//                                    </CardContent>","import React, {useEffect, useState} from 'react';\nimport cookie from 'js-cookie';\nimport axios from 'axios';\nimport { List, Image } from 'semantic-ui-react';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport './tracks.css'\nimport { Link } from 'react-router-dom';\nimport Modal from '@material-ui/core/Modal';\nimport ArtistPage from '../artist/ArtistPage.js'\nimport TopTracks from './TopTracks.js';\nimport PropTypes from 'prop-types'\nimport ListItem from '@material-ui/core/ListItem';\nimport Avatar from '@material-ui/core/Avatar';\nimport Divider from '@material-ui/core/Divider';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\n\n\nclass Alert extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.props = props\n    }\n\n    render() {\n        return <MuiAlert elevation={6} variant=\"filled\" {...this.props} />;\n\n    }\n }\n\n\n\nclass RelatedTracks extends React.Component {\n\n    constructor(props) {\n        super(props);\n        console.log(\"MEEEEEE\");\n            this.added = {};\n            this.chartReference = React.createRef();\n            this.nextProps = this.props;\n            this.state = {value: 'short_term', clicked: false,\n                            data: null, artist:this.props.artist, play: false, notif: false};\n\n\n    }\n\n    componentWillReceiveProps(nextProps) {\n            let token = cookie.get('access_token');\n\n        if(this.props != nextProps) {\n            this.nextProps = nextProps\n            this.componentDidMount();\n\n        }\n    }\n\n    async componentDidMount() {\n        let token = cookie.get('access_token');\n        axios.get(`/api/related_tracks/${this.nextProps.artist.id}/${token}`)\n        .then(res => {\n            fetch = res.data;\n            this.setState({\n                'clicked':true,\n                'artists':fetch.artists,\n                'track_names':fetch.song_names,\n                'images':fetch.images,\n                'previews':fetch.audio,\n                'current':null,\n                'track_ids':fetch.ids,\n                'username':fetch.username,\n                'disabled':new Array(fetch.audio.length).fill(false),\n                'notif': false\n            })\n\n        })\n        .catch(err => {\n            console.log('error :(')\n            console.log(err)\n        })\n\n\n    }\n\n     playTrack = (url, play) => {\n        if(url) {\n            if(url != this.state['current'] && this.state['current']) {\n                this.player.pause();\n                this.player.src = url;\n                this.setState(oldState => ({\n                    'clicked':oldState.clicked,\n                    'artists':oldState.artists,\n                    'track_names':oldState.track_names,\n                    'images':oldState.images,\n                    'previews':oldState.previews,\n                    'play':true,\n                    'current':url,\n                    'track_ids':oldState.track_ids,\n                    'username':oldState.username,\n                    'disabled':oldState.disabled,\n                    'notif': false\n\n                }));\n                this.player.play();\n            }\n            else {\n              this.player.src = url;\n              if(!play) {\n                  this.player.play()\n                   this.setState(oldState => ({\n                        'clicked':oldState.clicked,\n                        'artists':oldState.artists,\n                        'track_names':oldState.track_names,\n                        'images':oldState.images,\n                        'previews':oldState.previews,\n                        'play':true,\n                        'current':url,\n                        'track_ids':oldState.track_ids,\n                        'username':oldState.username,\n                        'disabled':oldState.disabled,\n                        'notif': false\n                    }));\n\n                }\n                else {\n                    this.player.pause();\n                    this.setState(oldState => ({\n                        'clicked':oldState.clicked,\n                        'artists':oldState.artists,\n                        'track_names':oldState.track_names,\n                        'images':oldState.images,\n                        'previews':oldState.previews,\n                        'play':false,\n                        'current':oldState.url,\n                        'track_ids':oldState.track_ids,\n                        'username':oldState.username,\n                        'disabled':oldState.disabled,\n                        'notif':false\n                    }));\n\n                }\n            }\n\n        }\n    }\n\n\n\n        saveTrack = (track, index) => {\n            let token = cookie.get('access_token');\n\n            axios.get(`/api/track/save/${track}/${this.state['username']}/${token}`)\n                    .then(res => {\n                        this.added[track] = true;\n                        var disabled_keys = this.state['disabled'];\n                        disabled_keys[index] = true\n                        this.setState(oldState => ({\n                        'clicked':oldState.clicked,\n                        'artists':oldState.artists,\n                        'track_names':oldState.track_names,\n                        'images':oldState.images,\n                        'previews':oldState.previews,\n                        'play':oldState.play,\n                        'current':oldState.url,\n                        'track_ids':oldState.track_ids,\n                        'username':oldState.username,\n                        'disabled':disabled_keys,\n                        'notif': true\n                    }));\n\n\n\n                    })\n                    .catch(err => {\n\n                        console.log(\"error :(\");\n                    })\n\n    }\n\n            handleClose = (event, reason) => {\n                 this.setState(oldState => ({\n                        'clicked':oldState.clicked,\n                        'artists':oldState.artists,\n                        'track_names':oldState.track_names,\n                        'images':oldState.images,\n                        'previews':oldState.previews,\n                        'play':false,\n                        'current':oldState.url,\n                        'track_ids':oldState.track_ids,\n                        'username':oldState.username,\n                        'disabled':oldState.disabled,\n                        'notif': false\n                  }));\n\n\n            };\n\n\n\n\n            render() {\n\n\n\n            return(\n\n        <div style={{backgroundColor: 'white', overflow: 'scroll'}}>\n\n            <h2 style={{fontWeight: '300', marginTop: '20px', marginBottom: '0px'}}>Related Tracks</h2>\n            <List>\n                {this.state.clicked &&\n                    this.state.artists.map((artist, index) =>\n                        <ListItem>\n                            <ListItemAvatar>\n                                <Avatar alt=\"Image\" src={this.state.images[index]} />\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={this.state.track_names[index]}\n                            secondary={this.state.artists[index]}\n                             />\n\n                             {this.state['previews'][index] &&\n                             <div>\n                             <Button onClick={() => this.playTrack(this.state['previews'][index], this.state['play'])}>\n                             {(!(this.state['play'] && (this.state['current'] == this.state['previews'][index]))) ? \"Play\" : \"Stop\"}\n                             </Button>\n                             </div>\n                             }\n                             {\n                             this.state['username']  && !this.state['disabled'][index] &&\n                             <Button onClick={() => this.saveTrack(this.state['track_ids'][index], index)}>+</Button>\n                               }\n\n                        </ListItem>\n\n                    )\n                }\n            </List>\n\n                        <>\n                        <audio ref={ref => this.player = ref} />\n                        </>\n\n                <Snackbar open={this.state['notif']} autoHideDuration={2000} onClose={this.handleClose}>\n                    <Alert onClose={this.handleClose} severity=\"success\">\n                      Track Added to library!\n                    </Alert>\n                  </Snackbar>\n\n\n              </div>\n            );\n\n            }\n\n}\n\nexport default RelatedTracks;","import React, {useEffect, useState} from 'react';\nimport cookie from 'js-cookie';\nimport axios from 'axios';\nimport { List, Image } from 'semantic-ui-react';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport './tracks.css'\nimport { Link } from 'react-router-dom';\nimport Modal from '@material-ui/core/Modal';\nimport ArtistPage from '../artist/ArtistPage.js'\nimport TopTracks from './TopTracks.js';\nimport PropTypes from 'prop-types'\nimport { Doughnut, Radar, HorizontalBar } from 'react-chartjs-2';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Avatar from '@material-ui/core/Avatar';\nimport RelatedTracks from './RelatedTracks.js';\n\n\n\n\n\nclass TrackGraph extends React.Component {\n\n    constructor(props) {\n        super(props);\n        console.log(this.props);\n\n            this.chartReference = React.createRef();\n            this.nextProps = this.props;\n            this.state = {value: 'short_term', clicked: false,\n                            data: null, artist:this.props.artist};\n\n\n    }\n\n    componentWillReceiveProps(nextProps) {\n            let token = cookie.get('access_token');\n\n//        console.log(nextProps.artist);\n//        console.log(this.props.artist);\n\n        if(this.props != nextProps) {\n            this.nextProps = nextProps\n            this.componentDidMount();\n\n        }\n    }\n\n    async componentDidMount() {\n        let token = cookie.get('access_token');\n        console.log(this.nextProps.artist.artist)\n        axios.get(`/api/track/${this.nextProps.artist.uri}/${token}`)\n        .then(res => {\n            fetch = res.data;\n            console.log(fetch);\n            this.setState({\n                'clicked': true,\n                'dataset': {\n                    data: fetch.scores,\n                    labels: fetch.labels,\n                    backgroundColor: fetch.colors\n                },\n                'data': [{\n                    labels: fetch.labels,\n                    datasets: [{\n                        'data': fetch.scores,\n                        'labels': fetch.labels,\n                        'backgroundColor': fetch.colors\n                    }]\n                }]\n\n            });\n            this.render();\n\n\n        })\n        .catch(err => {\n            console.log('error :(')\n            console.log(err)\n        })\n    }\n\n\n\n\n\n\n            render() {\n            return(\n\n        <div>\n\n\n\n\n        <div style={{backgroundColor: 'white'}}>\n\n        <Card>\n            {this.state.clicked &&\n            <Card class=\"track-chart-container\">\n\n                    <HorizontalBar ref={this.chartReference}\n                                    data={this.state.data[0]} options={{\n                                        legend: {\n                                            display: false\n                                        },\n                                        title: {\n                                            display: true,\n                                            text: 'Feature Scores',\n                                            fontFamily: 'Montserrat',\n                                            fontSize: '18'\n                                        }\n\n\n                                    }}  />\n            </Card>\n            }\n\n\n\n             </Card>\n              </div>\n             </div>\n            );\n\n            }\n\n}\n\nexport default TrackGraph;","import React, { useState, useEffect, Component, setState } from 'react';\nimport cookie from 'js-cookie';\nimport FetchTracks from './FetchTracks.js';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport './tracks.css'\nimport {Distribution, Box, Text} from 'grommet';\nimport TrackGraph from './TrackGraph.js';\nimport RelatedTracks from './RelatedTracks.js';\nimport {\n  BrowserView,\n  MobileView,\n  isBrowser,\n  isMobile\n} from \"react-device-detect\";\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\n\n\nclass TopTracks extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {value: 'short_term', clicked: false};\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.onClick = this.props.onClick;\n        this.showGraph = false;\n        this.graphTrack =  null;\n    }\n    handleChange = (artist) => {\n        if(this.state.artist != artist) {\n            this.setState(oldState => ({\n                value: oldState.value,\n                clicked: true,\n                artist: artist\n            }), () => console.log(this.state.artist.artist));\n\n        }\n\n\n\n      }\n\n\n    handleSubmit = (event, new_value) => {\n        this.setState(oldState => ({\n                value: new_value,\n                clicked: oldState.clicked,\n                artist: oldState.artist\n            }));\n\n    }\n\n\n\n     async componentDidMount() {\n      }\n\n    render(){\n\n        return(\n\n            <div style={{marginLeft: '30px'}} class=\"browser-container\">\n            <BrowserView>\n                <form>\n                    <label>\n                    <Tabs\n                        value={this.state[\"value\"]}\n                        indicatorColor=\"primary\"\n                        textColor=\"primary\"\n                        onChange={this.handleSubmit}\n                        aria-label=\"disabled tabs example\"\n                      >\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\n                      </Tabs>\n                </label>\n                </form>\n\n                {this.state['clicked'] && this.state['value'] && <Distribution style={{maxHeight:'100vh'}} className=\"dist-box-tracks\"\n              values={[\n                { value: 50, className:\"top-tracks\", show: true, data: <FetchTracks clicked={this.state['clicked']} {...this.state} handleChange={this.handleChange} data={this.state['value']} /> },\n                { value: 25, className:\"related-tracks\", show: (this.state.clicked && (this.state.artist)), data: <RelatedTracks {...this.state} artist={this.state.artist} /> },\n                { value: 25, className:\"track-graph\", show: (this.state.clicked && (this.state.artist)), data: <TrackGraph {...this.state} artist={this.state.artist} /> }\n              ]}\n            >\n              {value =>\n                <Box className={value.className} pad=\"small\" fill>\n                  {value.show && value.data}\n                </Box>\n              }\n            </Distribution>\n            }\n            {!this.state['clicked'] && this.state['value'] && <Distribution style={{maxHeight:'100vh'}} className=\"dist-box-tracks\"\n              values={[\n                { value: 100, className:\"top-tracks\", show: true, data: <FetchTracks clicked={this.state['clicked']} handleChange={this.handleChange} {...this.state} data={this.state['value']}  /> }\n              ]}\n            >\n              {value =>\n                <Box className={value.className} pad=\"small\" fill>\n                  {value.show && value.data}\n                </Box>\n              }\n            </Distribution>\n            }\n\n\n            </BrowserView>\n\n            <MobileView>\n            <form>\n                    <label>\n                    <Tabs\n                        value={this.state[\"value\"]}\n                        indicatorColor=\"primary\"\n                        textColor=\"primary\"\n                        onChange={this.handleSubmit}\n                        aria-label=\"disabled tabs example\"\n                      >\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\n                      </Tabs>\n                </label>\n                </form>\n             <FetchTracks handleChange={this.handleChange} {...this.state} data={this.state['value']}  />\n            </MobileView>\n\n            </div>\n\n\n        );\n    }\n}\n\nexport default TopTracks;","import React, { useState, useEffect, Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { getSpotifyUser } from './util/auth';\nimport Login from './components/login';\nimport Home from './components/home/Home';\nimport NavBar from './components/common/navbar/Navbar';\nimport Logout from './components/logout/Logout';\nimport './App.css';\nimport {logout} from './util/auth';\nimport { User } from 'react-spotify-api';\nimport GenreGraphs from './components/graphs/GenreGraphs';\nimport GenreMappings from './components/graphs/GenreMappings';\nimport ArtistPage from './components/artist/ArtistPage';\nimport Dash from './components/dashboard/Dash';\nimport TopArtists from './components/top_artists/TopArtists';\nimport TopAlbums from './components/top_albums/TopAlbums';\n\nimport TopTracks from './components/top_tracks/TopTracks';\nimport { Nav } from 'react-bootstrap';\nimport Sidebar from './components/sidebar/Sidebar';\n\nclass App extends Component{\n\n  constructor(props) {\n    super(props);\n    console.log(props)\n    this.state =  {status: 'Not logged in'};\n  }\n\n\n  setUserInfo = (userInfo) => this.setState({ userInfo });\n\n  async componentDidMount() {\n    const userInfo = await getSpotifyUser();\n    if (userInfo) {\n      this.setUserInfo(userInfo);\n    }\n  }\n  render(){\n    const { userInfo } = this.state;\n    console.log(userInfo);\n    return (\n      <div className=\"App\">\n        <link rel=\"stylesheet\" href=\"//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css\" />\n        <Router>\n          <div style={{height:'100%'}}>\n            <Switch>\n              <Route exact path=\"/login\" component={(props) =>\n                <Login {...props} setUserInfo={this.setUserInfo} userInfo={userInfo} />\n              }/>\n              <Route exact path=\"/\" component={(props) =>\n                (userInfo == 'Not logged in') || !(userInfo) || ('status' in userInfo && userInfo['status'] == 'Not logged in') ?\n                 <Login {...props} setUserInfo={this.setUserInfo} userInfo={userInfo} />\n                 : <div>\n                <Sidebar userInfo={userInfo}/>\n                 <Dash userInfo={userInfo}/>\n                 </div>\n              }/>\n              <Route exact path=\"/logout\" component={(props) =>\n                 <Logout userInfo={userInfo} />\n               }/>\n\n              <Route exact path=\"/top_tracks\">\n                <Sidebar userInfo={userInfo}/>\n                <TopTracks/>\n              </Route>\n              <Route exact path=\"/graphs\">\n                <Sidebar userInfo={userInfo}/>\n                <GenreGraphs />\n              </Route>\n              <Route exact path=\"/artist/:uri\" render={(props) =>\n                <div style={{height:'100%'}}>\n                <Sidebar userInfo={userInfo}/>\n                <ArtistPage style={{height:'100%'}} id={props.match.params} />\n                </div>\n               } />\n               <Route exact path=\"/top_artists\">\n               <Sidebar userInfo={userInfo}/>\n                <TopArtists/>\n               </Route>\n               <Route exact path=\"/top_albums\">\n                 <Sidebar userInfo={userInfo}/>\n                 <TopAlbums/>\n               </Route>\n               <Route exact path=\"/dashboard\">\n                 <Sidebar userInfo={userInfo}/>\n                 <Dash userInfo={userInfo}/>\n               </Route>\n            </Switch>\n          </div>\n        </Router>\n      </div>\n    );\n  }\n}\n\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { SpotifyApiAxiosContext, SpotifyApiContext } from 'react-spotify-api';\nimport axios from 'axios';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}