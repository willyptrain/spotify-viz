(this["webpackJsonpspotify-me"]=this["webpackJsonpspotify-me"]||[]).push([[0],{191:function(e,t,a){},192:function(e,t,a){},230:function(e,t,a){},326:function(e,t,a){},521:function(e,t,a){e.exports=a(863)},526:function(e,t,a){},546:function(e,t,a){},766:function(e,t,a){},773:function(e,t,a){},774:function(e,t,a){},800:function(e,t,a){},860:function(e,t,a){},863:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),l=a.n(s),c=(a(526),a(15)),i=a.n(c),o=a(29),u=a(25),m=a(26),d=a(28),h=a(27),p=a(89),f=a(48),g=a(22),b=a.n(g);function v(){var e={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t,a,n){e[a]=n}));return e}var E=a(18),k=a.n(E);var y={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}};function w(e){return new Promise((function(t,a){var n;b.a.post("/auth/user",{code:(n=e,"string"!==typeof n?"":n.split("#")[0])},y).then((function(e){return t(e.data)}),(function(e){return a(e)}))}))}function _(){return new Promise((function(e,t){b.a.get("/auth/logout").then((function(t){return e(t)}),(function(e){return t(e)}))}))}var C=a(899);function j(e){return console.log(e.url),window.location=e.url,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(C.a,null),"Loading..."))}a(546);var x=a(348),O=a(938),N=a(875),S=a(944),T=a(940),M=a(66),I=a(461),D=a.n(I),P={global:{font:"Montserrat",alignContent:"center",align:"center",alignSelf:"center",justify:"center",gap:"large",colors:{text:{dark:"#DFE0E3",light:"#DFE0E3"}}}},F=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).redirectToSpotify=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){b.a.get("/auth/redirect-spotify").then((function(t){return e(t.data)}),(function(e){return t(e)}))}));case 2:t=e.sent,n.setState({redirectUrl:t});case 4:case"end":return e.stop()}}),e)}))),n.state={redirectUrl:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,n,r,s,l,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v(),a=t.code||null,n=this.props,r=n.setUserInfo,s=n.history,l=n.userInfo,console.log(a),!l||!l.id){e.next=7;break}return s.push("/"),e.abrupt("return");case 7:if(a){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,w(a);case 12:c=e.sent,r(c);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.redirectUrl?r.a.createElement(j,{url:this.state.redirectUrl}):r.a.createElement("div",{id:"full-screen"},r.a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%"}},r.a.createElement(D.a,{params:{particles:{number:{value:200,density:{enable:!0,value_area:1500}}}}})),r.a.createElement(x.a,{elevation:"large",className:"login-card",fill:"true",size:"medium",pad:"small",align:"center",alignSelf:"center",alignContent:"center",width:"40%",justify:"center"},r.a.createElement(O.a,{theme:P},r.a.createElement(x.a,{animation:"fadeIn",border:{size:"medium",color:"#DFE0E3"},responsive:"true",elevation:"xlarge",background:{color:"#1A1919"},basis:"medium",round:"none",pad:"medium",gap:"medium",alignContent:"center",justify:"center",alignSelf:"center",align:"center"},r.a.createElement(N.a,{size:"300%",color:"#DFE0E3",weight:"bold"},"Welcome to Spotipie"),r.a.createElement(T.a,{size:"28%",color:"#DFE0E3",justify:"center"}),r.a.createElement(N.a,{size:"100%",color:"#DFE0E3"},"Explore your Spotify listening history and ",r.a.createElement("br",null)," gain insights about your habits by logging in below."),r.a.createElement("div",{id:"login-button"},r.a.createElement(S.a,{primary:!0,color:"green",label:"Login with Spotify",onClick:this.redirectToSpotify}))))),r.a.createElement("particles",null))}}]),a}(n.Component),R=(a(766),a(941)),L=a(935),A=a(933),z=a(934),B=a(480),U=a(479),W=(r.a.Component,a(157),a(62)),V=a(482),H=a(100),G=a(3),J=a(442),Y=a(30),K=a(93),X=a(907),$=a(910),q=a(904),Q=a(909),Z=a(908),ee=a(488),te=a.n(ee),ae=a(490),ne=a.n(ae),re=a(489),se=a.n(re),le=a(911),ce=a(912),ie=a(913),oe=a(483),ue=a.n(oe),me=a(484),de=a.n(me),he=a(485),pe=a.n(he),fe=a(486),ge=a.n(fe),be=a(487),ve=a.n(be),Ee=(a(773),a(347)),ke=a(914),ye=a(491),we=a.n(ye),_e=a(915),Ce=a(945),je=Object(J.a)((function(e){var t;return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},paper:{background:"red"},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),background:"rgba(21,21,21,1)",color:"#DFE0E3"},drawerClose:(t={transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},Object(H.a)(t,e.breakpoints.up("sm"),{width:e.spacing(9)+1}),Object(H.a)(t,"background","rgba(21,21,21,1)"),Object(H.a)(t,"color","#DFE0E3"),t),toolbar:Object(V.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1),position:"absolute",right:"0px"},e.mixins.toolbar),customizeToolbar:{minHeight:64},content:{flexGrow:1,padding:e.spacing(3)}}})),xe=r.a.createElement("form",{action:"/logout"},r.a.createElement("input",{variant:"outlined",type:"submit",class:"logs-user",value:"Logout"})),Oe=r.a.createElement("form",{action:"/login"},r.a.createElement("input",{variant:"outlined",type:"submit",class:"logs-user",value:"Login"})),Ne=Object(J.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400,float:"right",marginRight:"3%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function Se(e){var t,a,n=je(),s=Ne(),l=Object(Y.a)(),c=r.a.useState(!1),i=Object(W.a)(c,2),o=i[0],u=i[1],m="searchTerm"in e?e.searchTerm:"",d=r.a.useState(m),h=Object(W.a)(d,2),p=h[0],f=h[1],g=r.a.useState(!0),v=Object(W.a)(g,2),E=v[0],y=v[1],w=r.a.useState([]),_=Object(W.a)(w,2),C=_[0],x=_[1],O=[{text:"Home",image:r.a.createElement(ue.a,{style:{color:"#DFE0E3"}}),link:"/dashboard"},{text:"My Tracks",image:r.a.createElement(de.a,{style:{color:"#DFE0E3"}}),link:"/top_tracks"},{text:"My Albums",image:r.a.createElement(pe.a,{style:{color:"#DFE0E3"}}),link:"/top_albums"},{text:"My Artists",image:r.a.createElement(ge.a,{style:{color:"#DFE0E3"}}),link:"/top_artists"}],N=(ve.a,function(e){e.preventDefault()}),S=function(e){console.log(e);var t=k.a.get("access_token");b.a.get("/api/track/search/".concat(e,"/").concat(t)).then((function(e){console.log(e.data),x((function(t){return{tracks:e.data.search.tracks.items,artist_info:e.data.artist_info}}))})).catch((function(e){console.log("error :("),console.log(e)}))},T=r.a.useCallback((function(e){return x(e.value)}),[]);return r.a.createElement("div",{className:n.root},r.a.createElement("div",null,function(){if(e.searchTerm)return r.a.createElement(j,{url:"/search/".concat(e.searchTerm)})}()),r.a.createElement(q.a,null),r.a.createElement(K.a,{variant:"permanent",className:Object(G.a)(n.drawer,(t={},Object(H.a)(t,n.drawerOpen,o),Object(H.a)(t,n.drawerClose,!o),t)),classes:{paper:Object(G.a)((a={},Object(H.a)(a,n.drawerOpen,o),Object(H.a)(a,n.drawerClose,!o),a))}},r.a.createElement(X.a,{style:{backgroundColor:"rgba(21,21,21,1)",color:"#DFE0E3"},className:n.customizeToolbar},!o&&r.a.createElement(Z.a,{color:"inherit","aria-label":"open drawer",onClick:function(){u(!0)},edge:"start",className:Object(G.a)(n.menuButton,Object(H.a)({},n.hide,o))},r.a.createElement(te.a,null)),r.a.createElement("div",{className:n.toolbar},o&&r.a.createElement(Z.a,{onClick:function(){u(!1)}},"rtl"===l.direction?r.a.createElement(se.a,{style:{color:"white"}}):r.a.createElement(ne.a,{style:{color:"white"}})))),r.a.createElement(Q.a,null),r.a.createElement($.a,null,O.map((function(e,t){return r.a.createElement(le.a,{button:!0,component:"a",href:e.link,key:e.text},r.a.createElement(ce.a,null,e.image),r.a.createElement(ie.a,{primary:e.text}))}))),r.a.createElement(Q.a,null),o&&("Not logged in"===e.userInfo.status||null===e.userInfo?Oe:xe)),r.a.createElement("div",{class:"search-bar"},r.a.createElement(Ee.a,{autocomplete:"off",component:"form",onSubmit:N,className:s.root},r.a.createElement(ke.a,{className:s.input,placeholder:p,onKeyDown:function(t){"enter"==t.key.toLowerCase()?(y(!0),f(t.target.value+t.key),e.searchFunc(p)):"backspace"==t.key.toLowerCase()?t.target.value.length<=1?(y(!0),f("")):(y(!1),S(t.target.value),f(t.target.value)):(console.log(t.target.value),t.target.value+t.key!=""?(S(t.target.value+t.key),y(!1)):""==t.target.value?y(!0):(S(t.target.value+t.key),y(!1)),f(t.target.value+t.key))}}),r.a.createElement(Q.a,{className:s.divider,orientation:"vertical"}),r.a.createElement(Z.a,{onClick:N,className:s.iconButton,"aria-label":"search"},r.a.createElement(we.a,{onClick:N}))),r.a.createElement("div",{onChange:T,style:{width:"100%",float:"right",display:E?"none":"block"}},r.a.createElement("div",{className:"autocomplete",onChange:T},"tracks"in C&&C.tracks.length>0&&C.tracks.map((function(e,t){return r.a.createElement(Ee.a,{className:"dropdown-container"},r.a.createElement($.a,null,r.a.createElement(le.a,null,r.a.createElement(_e.a,null,r.a.createElement(Ce.a,{alt:"Album Image",src:e.album.images[0].url})),r.a.createElement(ie.a,{primary:e.name,secondary:e.artists[0].name}))))}))))))}r.a.Component;function Te(e){return console.log(e),Object(n.useEffect)((function(){_()})),r.a.createElement("div",{style:{marginTop:"64px",marginLeft:"84px"}},r.a.createElement("h1",{style:{fontFamily:"Montserrat !important"}},"You are now logged out."),r.a.createElement("p",null,r.a.createElement("a",{style:{fontFamily:"Montserrat !important"},href:"/"},"Click here to return to the home page.")))}a(774);var Me=a(916),Ie=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).username=e.data,n.chartReference=r.a.createRef(),n.token=k.a.get("access_token"),n.state={scores:[],genreLabels:[],dataset:[],data:[]},n}return Object(m.a)(a,[{key:"shouldComponentUpdate",value:function(){return 0==this.state.data.length}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.get("/api/graphs/short_term/".concat(this.token)).then((function(e){t.setState({scores:e.data.scores,genreLabels:e.data.labels,dataset:{data:e.data.scores,label:"User Data",backgroundColor:e.data.colors},data:[{labels:e.data.labels,datasets:[{data:e.data.scores,label:"User Data",backgroundColor:e.data.colors}]}]})})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.data.length>0?r.a.createElement(Me.a,{container:!0,className:"grid-container"},r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement("div",{style:{backgroundColor:"none",border:"1px solid black"}},r.a.createElement(M.a,{ref:this.chartReference,data:this.state.data[0]}))),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement(M.d,{ref:this.chartReference,data:this.state.data[0]})))):r.a.createElement("div",null)}}]),a}(r.a.Component),De=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).logout=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:e.sent.status;case 4:case"end":return e.stop()}}),e)}))),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,t.userInfo,t.history,console.log(this.props);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=r.a.createElement(Ie,{data:this.token});return r.a.createElement("div",null,r.a.createElement("h1",null,"Graphs"),e)}}]),a}(r.a.Component),Pe=a(67),Fe=(a(776),a(783),a(784),a(785),a(248)),Re=a.n(Fe),Le=(a(800),a(918)),Ae=a(135),ze=(a(801),a(923)),Be=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n.chartReference=r.a.createRef(),console.log(n.props),n.onClose=n.props.onClose,console.log(n.props.onClose),n.artist_uri=n.props.id.uri,n.token=k.a.get("access_token"),n.responsive={desktop:{breakpoint:{max:3e3,min:1024},items:3,paritialVisibilityGutter:60},tablet:{breakpoint:{max:1024,min:464},items:2,paritialVisibilityGutter:50},mobile:{breakpoint:{max:464,min:0},items:1,paritialVisibilityGutter:30}},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.get("/api/artist/".concat(this.artist_uri,"/").concat(this.token)).then((function(e){console.log(e.data);var a=e.data.artist_info,n=e.data.albums;console.log({external_url:a.external_urls.spotify,followers:a.followers.total,genres:a.genres,images:a.images,name:a.name,popularity:a.popularity,albums:n.items,genre_data:e.data.genre_data,dataset:{data:e.data.genre_data.scores,labels:e.data.genre_data.labels,backgroundColor:e.data.genre_data.colors},data:[{labels:e.data.genre_data.labels,datasets:[{data:e.data.genre_data.scores,labels:e.data.genre_data.labels,backgroundColor:e.data.genre_data.colors}]}]}),t.setState({external_url:a.external_urls.spotify,followers:a.followers.total,genres:a.genres,images:a.images,name:a.name,popularity:a.popularity,albums:n.items,genre_data:e.data.genre_data,dataset:{data:e.data.genre_data.scores,labels:e.data.genre_data.labels,backgroundColor:["rgba(0,0,0,0.5)"]},data:[{labels:e.data.genre_data.labels,datasets:[{data:e.data.genre_data.scores,labels:e.data.genre_data.labels,backgroundColor:["rgba(90,240,159,0.5)"]}]}]}),console.log(t.state)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleClose",value:function(){this.onClose()}},{key:"render",value:function(){var e=this;if("external_url"in this.state){var t={autoplay:!0,dots:!1,infinite:!0,slidesToShow:5,slidesToScroll:1,speed:2e3,autoplaySpeed:0};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.BrowserView,{style:{height:"100%"}},r.a.createElement(Me.a,{style:{height:"100%",position:"relative",left:"0px",width:"100%"},container:!0,className:"grid-container"},r.a.createElement(Me.a,{style:{height:"100%"},item:!0,sm:10},r.a.createElement(Le.a,{className:"artist-card"},r.a.createElement(Me.a,{container:!0,className:"artist-top-container"},r.a.createElement(Me.a,{style:{height:"100%"},item:!0,sm:6},r.a.createElement("div",{style:{height:"100%"},className:"artist-img-container"},r.a.createElement("a",{href:this.state.external_url},r.a.createElement("img",{className:"artist-img",src:this.state.images[0].url})))),r.a.createElement(Me.a,{style:{height:"100%"},item:!0,sm:6},r.a.createElement("div",{className:"artist-info"},r.a.createElement(Z.a,{className:"exit-artist-modal",onClick:function(){return e.handleClose()}},r.a.createElement(ze.a,{onClick:function(){return e.handleClose()},className:"fa fa-times"})),r.a.createElement("div",{className:"artist-name-container"},r.a.createElement(Ae.a,{className:"artist-name",style:{fontFamily:"Montserrat"},gutterBottom:!0,variant:"h3",component:"h3"},this.state.name)),r.a.createElement("div",{className:"genre-doughnut"},r.a.createElement(M.e,{ref:this.chartReference,data:this.state.data[0],options:{rotation:Math.PI,circumference:Math.PI,title:{display:!0,position:"center",text:"Upcoming Meetings"},scale:{ticks:{display:!1},yAxis:{display:!1},pointLabels:{fontSize:16,fontColor:"#111111",fontFamily:"'Montserrat','Roboto'"}},legend:{display:!1},radius:{fontSize:24}}}))))),r.a.createElement(Me.a,{container:!0,alignItems:"center",justify:"center"},r.a.createElement(Me.a,{style:{height:"100%"},item:!0,sm:11},r.a.createElement("div",null,r.a.createElement(Ee.a,{className:"carousel-bgd",elevation:3},r.a.createElement(Re.a,t,this.state.albums.map((function(e){return r.a.createElement("img",{className:"album-carousel-item",src:e.images[0].url})}))))))))))),r.a.createElement(Pe.MobileView,null,r.a.createElement(Me.a,{container:!0,className:"grid-container"},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement("div",{className:"artist-img"},r.a.createElement("a",{href:this.state.external_url},r.a.createElement("img",{src:this.state.images[0].url,height:this.state.images[1].height,width:this.state.images[1].width})))),r.a.createElement("p",null,this.state.followers))))}return r.a.createElement("p",null)}}]),a}(r.a.Component),Ue=a(932),We=a(936),Ve=a(942);a(191);function He(e){e.preventDefault(),window.location="/top_tracks"}function Ge(e){console.log(e.data);var t=Object(n.useState)([]),a=Object(W.a)(t,2),s=a[0],l=a[1],c=k.a.get("access_token");return Object(n.useEffect)((function(){b.a.get("/api/user/".concat(e.data,"/").concat(c,"/15/")).then((function(e){console.log(e.data.top_tracks),l(e.data.top_tracks)})).catch((function(e){console.log("yo"),console.log(e)}))}),[e.data]),r.a.createElement("div",null,r.a.createElement("h2",{class:"list-title",style:{marginTop:"10px"}},"Top Tracks"),r.a.createElement(We.a,{size:"mini"},s.map((function(e){return r.a.createElement(le.a,null,r.a.createElement(_e.a,null,r.a.createElement(Ce.a,{alt:"Image",src:e.image})),r.a.createElement(ie.a,{primary:e.track_name,secondary:e.artist}))}))),r.a.createElement(Ve.a,{primary:!0,content:"View more...",onClick:He}))}var Je=a(919),Ye=a(921);function Ke(e){var t=e.data;k.a.get("access_token");return console.log(t),r.a.createElement("div",{class:"list-title",style:{height:"100%"}},r.a.createElement(Ye.a,{component:"img",alt:"ProfileImage",height:"300",style:{objectFit:"cover",height:"80%"},image:t.image_url,title:t.username}),r.a.createElement(Je.a,null,r.a.createElement(Ae.a,{gutterBottom:!0,variant:"h5",component:"h2",class:"list-title"},t.username.slice(0,1).toUpperCase()+t.username.slice(1)),r.a.createElement(Ae.a,{component:"p",class:"list-title"},"Followers: ",t.followers.total)))}a(501);function Xe(e){e.preventDefault(),window.location="/top_artists"}function $e(e){console.log(e.data);var t=Object(n.useState)([]),a=Object(W.a)(t,2),s=a[0],l=a[1],c=k.a.get("access_token");return Object(n.useEffect)((function(){b.a.get("/api/user_artists/".concat(e.data,"/").concat(c,"/15/")).then((function(e){console.log(e.data),l(e.data.top_artists)})).catch((function(e){console.log("error :("),console.log(e)}))}),[e.data]),r.a.createElement("div",null,r.a.createElement("h2",{class:"list-title",style:{marginTop:"10px"}},"Top Artists"),r.a.createElement(We.a,{size:"mini"},s.map((function(e){return r.a.createElement(le.a,null,r.a.createElement(_e.a,null,r.a.createElement(Ce.a,{alt:"Image",src:e.image})),r.a.createElement(ie.a,{primary:e.artist_name}))}))),r.a.createElement(Ve.a,{primary:!0,content:"View more...",onClick:Xe}))}function qe(e){e.data;var t=e.range,a=e.chart,n=r.a.createRef(),s=e.mobile;if("short"==e.range)e=[{labels:e.data.short_term_genres.slice(0,5),datasets:[{data:e.data.short_genre_scores.slice(0,5),labels:e.data.short_term_genres.slice(0,5),backgroundColor:"doughnut"==a?["#f1a5ba","#f5b565","#fbd981","#93dcdc","#6cb8ee"]:"rgba(108, 184, 238,0.6)"}]}];else if("long"==e.range)e=[{labels:e.data.long_term_genres.slice(0,5),datasets:[{data:e.data.long_genre_scores.slice(0,5),labels:e.data.long_term_genres.slice(0,5),backgroundColor:"doughnut"==a?["#f1a5ba","#f5b565","#fbd981","#93dcdc","#6cb8ee"]:"rgba(108, 184, 238,0.6)"}]}];k.a.get("access_token");var l={short:"Most Recent Genres",long:"All Time Genres"}[t];return r.a.createElement("div",{style:{height:"25vh"}},"doughnut"==a&&r.a.createElement(M.a,{style:{height:"25vh"},ref:n,data:e[0],options:{title:{display:!0,text:l,fontFamily:"Montserrat",fontSize:"18"},legend:{display:!s},responsive:!s}}),"radar"==a&&r.a.createElement(M.e,{style:{height:"25vh"},ref:n,data:e[0],options:{scale:{angleLines:{display:!1},ticks:{suggestedMin:0,suggestedMax:0,display:!1}},title:{display:!0,text:l,fontFamily:"Montserrat",fontSize:"18"},legend:{position:"bottom",display:!1},responsive:!s}}))}var Qe=a(922),Ze=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.a.get("access_token"),b.a.get("/api/user_info/".concat(t,"/")).then((function(e){console.log(e.data),a.setState(e.data[0])})).catch((function(e){console.log("yo"),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){this.props.userInfo;return r.a.createElement("div",{style:{overflow:"hidden",marginTop:"2vh",marginLeft:"84px",width:"92%"}},r.a.createElement(Pe.BrowserView,null,this.state.username&&r.a.createElement(O.a,{style:{overflow:"hidden",width:"100%",backgroundColor:"#EBEBEB"},full:!0},r.a.createElement(Ue.a,{style:{overflow:"hidden"},margin:"xsmall",gap:"none",fill:!0,values:[{value:30,color:"white",overflow:!1,title:"Short term genres",data:r.a.createElement(qe,{mobile:!1,data:this.state,chart:"doughnut",range:"short"})},{value:30,color:"white",overflow:!1,title:"Long term genres",data:r.a.createElement(qe,{mobile:!1,data:this.state,chart:"radar",range:"long"})},{value:30,color:"white",overflow:!1,title:"",data:r.a.createElement(Ke,{data:this.state})},{value:25,color:"white",overflow:!0,data:r.a.createElement(Ge,{data:"long_term"})},{value:25,color:"white",overflow:!0,data:r.a.createElement($e,{data:"long_term"})}]},(function(e){return r.a.createElement(Le.a,{width:"100%",height:"100%",style:{backgroundColor:"white",overflow:e.overflow?"scroll":"hidden"},className:"userinfo-card"},e.data)}))),!this.state.username&&r.a.createElement("div",{class:"loading"},r.a.createElement(Qe.a,null))),r.a.createElement(Pe.MobileView,null,this.state.username&&r.a.createElement("div",{style:{width:"80%"}},r.a.createElement(Le.a,{style:{backgroundColor:"white"},className:"userinfo-card"},r.a.createElement(Ke,{data:this.state})),r.a.createElement(Le.a,{height:"25vh",style:{backgroundColor:"white",height:"25vh"},className:"userinfo-card"},r.a.createElement(qe,{height:"25vh",mobile:!0,style:{height:"25vh"},data:this.state,chart:"doughnut",range:"short"})),r.a.createElement(Le.a,{style:{backgroundColor:"white"},className:"userinfo-card"},r.a.createElement(qe,{data:this.state,mobile:!0,chart:"radar",range:"long"})))))}}]),a}(r.a.Component),et=a(98);a(326);function tt(e){console.log(e.data);var t=Object(n.useState)([]),a=Object(W.a)(t,2),s=a[0],l=a[1],c=null!=e.handleChange,i=e.clicked?3:2,o=k.a.get("access_token");return Object(n.useEffect)((function(){b.a.get("/api/user_artists/".concat(e.data,"/").concat(o,"/50/")).then((function(e){console.log(e.data),l(e.data.top_artists)})).catch((function(e){console.log("error :("),console.log(e)}))}),[e.data]),r.a.createElement("div",null,r.a.createElement(Me.a,{container:!0,className:"grid-container",alignItems:"center",justify:"center",spacing:0},s.map((function(t,a){return r.a.createElement(Me.a,{item:!0,xs:6,sm:i},c&&r.a.createElement(Le.a,{onClick:function(){return e.handleChange(t)},className:"topartists-card"},r.a.createElement(Ye.a,{className:"topartists-img",image:t.image}),r.a.createElement(Je.a,{className:"topartists-info"},r.a.createElement(Ae.a,{className:"music-title",gutterBottom:!0,variant:"h6",component:"h6"},a+1,". ",t.artist_name))))}))))}var at=a(939),nt=a(925),rt=(a(458),a(332)),st=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).chartReference=r.a.createRef(),n.nextProps=n.props,n.state={value:"short_term",clicked:!1,data:[],artist:n.props.artist},n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){k.a.get("access_token");this.props!=e&&(this.nextProps=e,this.componentDidMount())}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.a.get("access_token"),console.log(this.nextProps),b.a.get("/api/artist/".concat(this.nextProps.artist.uri,"/").concat(t)).then((function(e){fetch=e.data,a.setState((function(e){return{clicked:!0,artist_info:fetch.info,albums:fetch.albums.items}}))})).catch((function(e){console.log("error :("),console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={autoplay:!0,dots:!1,infinite:!0,slidesToShow:3,slidesToScroll:1,speed:2e3,autoplaySpeed:0};if(this.state.artist_info){var t=this.state.artist_info.genres;return r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement(Le.a,null,r.a.createElement(Je.a,null,r.a.createElement("img",{style:{height:"250px",width:"250px",borderRadius:"100%",boxShadow:"2px 2px 5px 0.1px black"},src:this.state.artist_info.images[0].url}),r.a.createElement("h1",null,this.state.artist_info.name.toUpperCase()),r.a.createElement(Me.a,{container:!0,className:"artist-grid-container"},r.a.createElement(Me.a,{item:!0,sm:12},r.a.createElement("div",{class:"genre-container"},r.a.createElement("h4",null,"Genres:"),r.a.createElement("p",null,"\xa0",t.slice(0,Math.min(t.length,4)).join(", ")))),r.a.createElement(Me.a,{item:!0,sm:12},r.a.createElement("div",{class:"genre-container",style:{backgroundColor:"white"}},r.a.createElement("h4",null,"Popularity: "),r.a.createElement("p",null,"\xa0",this.state.artist_info.popularity)))),r.a.createElement(Re.a,e,this.state.albums.map((function(e){return r.a.createElement(Le.a,null,r.a.createElement("img",{className:"album-carousel-item",src:e.images[0].url}))}))))))}return r.a.createElement("div",null,r.a.createElement("h4",null,"Loading..."))}}]),a}(r.a.Component),lt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){console.log(e),n.state.artist!=e&&n.setState((function(t){return{value:t.value,clicked:!0,artist:e,artist_side:70}}))},n.handleSubmit=function(e,t){n.setState({value:t,clicked:!1,artist_side:100})},n.state={value:"short_term",artist_side:100},n.handleChange=n.handleChange.bind(Object(et.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(et.a)(n)),n.value="short_term",n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){this.state.value;return r.a.createElement("div",{style:{marginLeft:"30px"}},r.a.createElement(Pe.BrowserView,null,r.a.createElement("div",{class:"browser-container",style:{marginLeft:"0px"}},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement(at.a,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleSubmit,"aria-label":"disabled tabs example"},r.a.createElement(nt.a,{className:"track-tab",value:"short_term",label:"Week"}),r.a.createElement(nt.a,{className:"track-tab",value:"medium_term",label:"Month"}),r.a.createElement(nt.a,{className:"track-tab",value:"long_term",label:"All Time"})))),this.state.clicked&&r.a.createElement(Ue.a,{values:[{value:this.state.artist_side,className:"top-tracks",show:!0,data:r.a.createElement(tt,{clicked:this.state.clicked,handleChange:this.handleChange,data:this.state.value})},{value:100-this.state.artist_side,className:"track-graph",show:this.state.clicked&&this.state.artist,data:r.a.createElement(st,Object.assign({handleChange:this.handleChange},this.state))}]},(function(e){return r.a.createElement(x.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)})),!this.state.clicked&&r.a.createElement(Ue.a,{values:[{value:100,className:"top-tracks",show:!0,data:r.a.createElement(tt,{clicked:this.state.clicked,handleChange:this.handleChange,data:this.state.value})}]},(function(e){return r.a.createElement(x.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)})))),r.a.createElement(Pe.MobileView,null,r.a.createElement("div",{style:{marginTop:"0px",marginLeft:"30px"}},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement(at.a,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleChange,"aria-label":"disabled tabs example"},r.a.createElement(nt.a,{className:"track-tab",value:"short_term",label:"Week"}),r.a.createElement(nt.a,{className:"track-tab",value:"medium_term",label:"Month"}),r.a.createElement(nt.a,{className:"track-tab",value:"long_term",label:"All Time"})))),r.a.createElement(Ue.a,{values:[{value:100,className:"top-tracks",show:!0,data:r.a.createElement(tt,{clicked:this.state.clicked,handleChange:this.handleChange,data:this.state.value})}]},(function(e){return r.a.createElement(x.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)})))))}}]),a}(r.a.Component);a(192);function ct(e){var t=Object(n.useState)([]),a=Object(W.a)(t,2),s=a[0],l=a[1],c=null!=e.handleChange,i=e.scroll?"scroll":"hidden",o=e.scroll?3:2,u=k.a.get("access_token");return Object(n.useEffect)((function(){var t=!0;return b.a.get("/api/user_albums/".concat(e.data,"/").concat(u,"/50")).then((function(e){t&&(console.log(e.data),l(e.data.albums))})),function(){t=!1}}),[e.data]),r.a.createElement("div",{style:{overflow:i,height:"auto"}},r.a.createElement(Me.a,{container:!0,className:"grid-container",alignItems:"center",justify:"center",spacing:0},s.map((function(t,a){return r.a.createElement(Me.a,{item:!0,xs:6,sm:o,md:o,lg:o},c&&r.a.createElement(Le.a,{onClick:function(){return e.handleChange(t)},className:"track-card"},r.a.createElement(Ye.a,{className:"topalbums-img",image:t.images[0].url}),r.a.createElement(Je.a,{className:"topalbums-info"},r.a.createElement(Ae.a,{className:"music-title",gutterBottom:!0,variant:"h6",component:"h6"},a+1,". ",t.name," by ",t.artists[0].name))))}))))}var it=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),n=t.call(this,e),console.log(n.props),n.nextProps=n.props,n.chartReference=r.a.createRef(),n.mounted=!1,n.state={value:"short_term",clicked:!1,data:[],artist:n.props.artist,feature:"valence"},n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){k.a.get("access_token");this.props.artist.uri!=e.artist.uri&&(this.nextProps=e,this.componentDidMount())}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.a.get("access_token"),this.mounted=!0,b.a.get("/api/album/".concat(this.nextProps.artist.uri,"/").concat(t)).then((function(e){return a.mounted&&(fetch=e.data,a.chartReference=r.a.createRef(),fetch.scores[a.state.feature].length>1?a.setState((function(e){return{clicked:!0,album_info:fetch.album_info,data:[{labels:fetch.names,datasets:[{data:fetch.scores[e.feature],labels:e.feature,fill:!0,backgroundColor:"rgba(75,192,192,0.2)",borderColor:"rgba(75,192,192,1)"}]}]}})):a.setState((function(e){return{clicked:!0,album_info:fetch.album_info,data:null}}))),console.log(a.state),function(){a.mounted=!1}})).catch((function(e){console.log("error :("),console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){if(this.state.data)return r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement(Le.a,null,this.state.clicked&&this.state.data[0].datasets[0].data.length>1&&r.a.createElement(M.c,{ref:this.chartReference,data:this.state.data[0],options:{title:{display:!0,text:"Positivity Score by Track",fontSize:20,fontFamily:"Montserrat"},legend:{display:!1},scales:{yAxes:[{gridLines:{drawBorder:!1},display:!1}]},plugins:{filler:{propagate:!0}}}})));var e=this.state.album_info;return r.a.createElement(Le.a,null,r.a.createElement(Je.a,null,r.a.createElement("p",null,"Cannot construct graph for songs in ",e.name)))}}]),a}(r.a.Component),ot=a(920),ut=a(917),mt=a(924),dt=a(937),ht=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).props=e,n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(dt.a,Object.assign({elevation:6,variant:"filled"},this.props))}}]),a}(r.a.Component),pt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).playTrack=function(e,t){e&&(e!=n.state.current&&n.state.current?(n.player.pause(),n.player.src=e,n.setState((function(t){return{clicked:!0,album_name:t.album_name,album_info:t.album_info,popularities:t.popularities,track_names:t.track_names,previews:t.previews,play:!0,current:e,username:t.username,disabled:t.disabled,notif:!1}})),n.player.play()):(n.player.src=e,t?(n.player.pause(),n.setState((function(t){return{clicked:!0,album_name:t.album_name,album_info:t.album_info,popularities:t.popularities,track_names:t.track_names,previews:t.previews,play:!1,current:e,username:t.username,disabled:t.disabled,notif:!1}}))):(n.player.play(),n.setState((function(t){return{clicked:!0,album_name:t.album_name,album_info:t.album_info,popularities:t.popularities,track_names:t.track_names,previews:t.previews,play:!0,current:e,username:t.username,disabled:t.disabled,notif:!1}})))))},n.saveTrack=function(e,t){console.log(e);var a=k.a.get("access_token");b.a.get("/api/track/save/".concat(e.id,"/").concat(n.state.username,"/").concat(a)).then((function(e){var a=n.state.disabled;console.log(a),a[t]=!0,n.setState((function(e){return{clicked:!0,album_name:e.album_name,album_info:e.album_info,popularities:e.popularities,track_names:e.track_names,previews:e.previews,play:e.play,current:e.current,username:e.username,disabled:a,notif:!0}}))})).catch((function(e){console.log(e),console.log("error :(")}))},n.handleClose=function(e,t){n.setState((function(e){return{clicked:!0,album_name:e.album_name,album_info:e.album_info,popularities:e.popularities,track_names:e.track_names,previews:e.previews,play:e.play,current:e.current,username:e.username,disabled:e.disabled,notif:!1}}))},console.log(n.props),n.nextProps=n.props,n.mounted=!1,n.state={value:"short_term",clicked:!1,data:null,artist:n.props.artist},console.log("WEEEEE2222E"),n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){k.a.get("access_token");this.props!=e&&(this.nextProps=e,this.componentDidMount())}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.a.get("access_token"),this.mounted=!0,console.log(this.nextProps.artist.artist),b.a.get("/api/album_track_info/".concat(this.nextProps.artist.id,"/").concat(t)).then((function(e){return fetch=e.data,a.mounted&&a.setState((function(e){return{clicked:!0,album_name:fetch.album_name,album_info:fetch.tracks_in_album,popularities:fetch.popularities,track_names:fetch.track_names,previews:fetch.audio,current:null,username:fetch.username,disabled:new Array(fetch.audio.length).fill(!1),notif:!1}})),function(){a.mounted=!1}})).catch((function(e){console.log("error :("),console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this;this.state.play;return this.state.album_info?r.a.createElement("div",{style:{backgroundColor:"white",overflow:"scroll"}},r.a.createElement(Le.a,null,r.a.createElement(ot.a,{style:{fontFamily:"Montserrat !important"},title:this.state.album_name,subheader:"Tracks in Album"}),r.a.createElement(Je.a,null,r.a.createElement(We.a,null,this.state.clicked&&this.state.previews.map((function(t,a){return r.a.createElement("div",null,r.a.createElement(le.a,null,r.a.createElement(ie.a,{primary:e.state.track_names[a]}),e.state.previews[a]&&r.a.createElement("div",null,r.a.createElement(ut.a,{onClick:function(){return e.playTrack(e.state.previews[a],e.state.play)}},e.state.play&&e.state.current==e.state.previews[a]?"Stop":"Play")),e.state.username&&!e.state.disabled[a]&&r.a.createElement(ut.a,{onClick:function(){return e.saveTrack(e.state.album_info[a],a)}},"+")),r.a.createElement(Q.a,null))}))))),r.a.createElement(r.a.Fragment,null,r.a.createElement("audio",{ref:function(t){return e.player=t}})),r.a.createElement(mt.a,{open:this.state.notif,autoHideDuration:2e3,onClose:this.handleClose},r.a.createElement(ht,{onClose:this.handleClose,severity:"success"},"Track Added to library!"))):r.a.createElement("div",null,"Loading...")}}]),a}(r.a.Component),ft=(r.a.Component,function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.state.artist&&n.state.artist.id==e.id?n.setState((function(t){return{value:t.value,clicked:!0,artist:e,sidePane:50}})):(n.setState((function(t){return{value:t.value,clicked:!0,artist:e,sidePane:50}})),n.render())},n.changeTab=function(e,t){e.preventDefault(),n.setState({value:t})},n.handleSubmit=function(e,t){console.log(e),console.log(t),e.preventDefault(),n.setState({value:t})},n.state={value:"short_term",sidePane:100},n.handleChange=n.handleChange.bind(Object(et.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(et.a)(n)),n.value="short_term",console.log("YEEEEEE"),n}return Object(m.a)(a,[{key:"render",value:function(){this.state.value;return r.a.createElement("div",{style:{marginLeft:"30px"},class:"browser-container"},r.a.createElement(Pe.BrowserView,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement(at.a,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleSubmit,"aria-label":"disabled tabs example"},r.a.createElement(nt.a,{className:"track-tab",value:"short_term",label:"Week"}),r.a.createElement(nt.a,{className:"track-tab",value:"medium_term",label:"Month"}),r.a.createElement(nt.a,{className:"track-tab",value:"long_term",label:"All Time"})))),r.a.createElement("div",null,100!=this.state.sidePane&&r.a.createElement(Ue.a,{style:{maxHeight:"100vh"},className:"dist-box-albums",values:[{value:50,className:"top-albums",show:!0,data:r.a.createElement(ct,{scroll:100!=this.state.sidePane,handleChange:this.handleChange,data:this.state.value})},{value:25,className:"album-graph",show:this.state.clicked&&this.state.artist,data:r.a.createElement(it,Object.assign({style:{maxHeight:"35vh"}},this.state,{artist:this.state.artist}))},{value:25,className:"related-albums",show:this.state.clicked&&this.state.artist,data:r.a.createElement(pt,Object.assign({style:{maxHeight:"35vh"}},this.state))}]},(function(e){return r.a.createElement(x.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)})),100==this.state.sidePane&&r.a.createElement(Ue.a,{style:{maxHeight:"100vh"},className:"dist-box-albums",values:[{value:this.state.sidePane,className:"top-albums",show:!0,data:r.a.createElement(ct,{handleChange:this.handleChange,data:this.state.value})}]},(function(e){return r.a.createElement(x.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)})))),r.a.createElement(Pe.MobileView,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement(at.a,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleSubmit,"aria-label":"disabled tabs example"},r.a.createElement(nt.a,{className:"track-tab",value:"short_term",label:"Week"}),r.a.createElement(nt.a,{className:"track-tab",value:"medium_term",label:"Month"}),r.a.createElement(nt.a,{className:"track-tab",value:"long_term",label:"All Time"})))),r.a.createElement(ct,{handleChange:this.handleChange,data:this.state.value})))}}]),a}(r.a.Component)),gt=(a(860),a(926)),bt=a(927),vt=a(928),Et=a(929),kt=a(930),yt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),n=t.call(this,e),console.log(e.id.term),n.state={id:e.id.term,tracks:[],sort_by:"track"},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.a.get("access_token"),b.a.get("/api/track/search/".concat(this.state.id,"/").concat(t)).then((function(e){console.log(e.data),a.setState((function(t){return{id:t.id,tracks:e.data.search.tracks.items,artist_info:e.data.artist_info}}))})).catch((function(e){console.log("error :("),console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{position:"relative",marginLeft:"84px",width:"90%"}},r.a.createElement("h1",{className:"search-header"},"Search Results"),r.a.createElement(vt.a,{style:{marginLeft:"10px"},component:Ee.a},r.a.createElement(gt.a,{"aria-label":"simple table"},r.a.createElement(Et.a,null,r.a.createElement(kt.a,null,r.a.createElement(bt.a,{size:"medium",className:"table-header",classes:"table-header",align:"left"},"Track Name"),r.a.createElement(bt.a,{size:"medium",className:"table-header",classes:"table-header",align:"left"},"Artist"),r.a.createElement(bt.a,{size:"medium",className:"table-header",classes:"table-header",align:"right"},"Duration"),r.a.createElement(bt.a,{size:"medium",className:"table-header",classes:"table-header",align:"right"},"Popularity"),r.a.createElement(bt.a,{size:"medium",className:"table-header",classes:"table-header",align:"center"},"Genre"))),this.state.tracks&&this.state.tracks.map((function(t,a){return r.a.createElement(kt.a,{key:t.name},r.a.createElement(bt.a,{className:"table-results",component:"th",scope:"row"},r.a.createElement("div",{className:"avatar-head"},r.a.createElement(Ce.a,{className:"table-avatar",src:t.album.images.length>0?t.album.images[0].url:""}),"\u2003 ",r.a.createElement("h6",{className:"track-name"},t.name))),r.a.createElement(bt.a,{className:"table-results",align:"left"},t.artists[0].name),r.a.createElement(bt.a,{className:"table-results",align:"right"},Math.trunc(t.duration_ms/6e4)+":"+Math.trunc(60*(t.duration_ms/6e4-Math.trunc(t.duration_ms/6e4)))),r.a.createElement(bt.a,{className:"table-results",align:"right"},t.popularity),r.a.createElement(bt.a,{className:"table-results",align:"center"},e.state.artist_info[a].genres.join(", ")))})))))}}]),a}(r.a.Component),wt=(a(230),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleHover=function(e,t){var a=n.state.hovering;a[e]=t,n.setState((function(e){return{value:e.value,tracks:e.tracks,hovering:a}}))},console.log(e),n.k=50,n.data=n.props.data,n.state={value:n.props.data,clicked:n.props.clicked,hovering:new Array(n.k).fill(!1)},n.isCardFunction=null!=n.props.handleChange,n.spacer=n.props.clicked?4:2,n.scroll=n.props.clicked?"scroll":"hidden",n.hovering=!1,n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.a.get("access_token"),b.a.get("/api/user/".concat(this.props.data,"/").concat(t,"/").concat(this.k)).then((function(e){a.setState((function(t){return{value:a.state.value,tracks:e.data.top_tracks,hovering:t.hovering}}))})).catch((function(e){console.log("error :("),console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.value!=this.props.value&&(a=k.a.get("access_token"),b.a.get("/api/user/".concat(this.props.data,"/").concat(a,"/").concat(this.k)).then((function(e){n.setState((function(t){return{value:t.value,tracks:e.data.top_tracks,hovering:t.hovering}}))})).catch((function(e){console.log("error :("),console.log(e)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return"tracks"in this.state?r.a.createElement("div",{style:{height:"auto",overflow:this.scroll}},r.a.createElement(Me.a,{container:!0,className:"grid-container",alignItems:"center",justify:"center",spacing:0},this.state.tracks.map((function(t,a){return r.a.createElement(Me.a,{item:!0,xs:6,sm:e.spacer,md:e.spacer,lg:e.spacer},e.isCardFunction&&r.a.createElement(Le.a,{onMouseEnter:function(){return e.handleHover(a,!0)},onMouseLeave:function(){return e.handleHover(a,!1)},onClick:function(){return e.props.handleChange(t)},className:"track-card"},r.a.createElement(Ye.a,{className:"track-img",image:t.image})))})))):r.a.createElement("div",null,"Loading...")}}]),a}(r.a.Component)),_t=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).props=e,n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(dt.a,Object.assign({elevation:6,variant:"filled"},this.props))}}]),a}(r.a.Component),Ct=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).playTrack=function(e,t){e&&(e!=n.state.current&&n.state.current?(n.player.pause(),n.player.src=e,n.setState((function(t){return{clicked:t.clicked,artists:t.artists,track_names:t.track_names,images:t.images,previews:t.previews,play:!0,current:e,track_ids:t.track_ids,username:t.username,disabled:t.disabled,notif:!1}})),n.player.play()):(n.player.src=e,t?(n.player.pause(),n.setState((function(e){return{clicked:e.clicked,artists:e.artists,track_names:e.track_names,images:e.images,previews:e.previews,play:!1,current:e.url,track_ids:e.track_ids,username:e.username,disabled:e.disabled,notif:!1}}))):(n.player.play(),n.setState((function(t){return{clicked:t.clicked,artists:t.artists,track_names:t.track_names,images:t.images,previews:t.previews,play:!0,current:e,track_ids:t.track_ids,username:t.username,disabled:t.disabled,notif:!1}})))))},n.saveTrack=function(e,t){var a=k.a.get("access_token");b.a.get("/api/track/save/".concat(e,"/").concat(n.state.username,"/").concat(a)).then((function(a){n.added[e]=!0;var r=n.state.disabled;r[t]=!0,n.setState((function(e){return{clicked:e.clicked,artists:e.artists,track_names:e.track_names,images:e.images,previews:e.previews,play:e.play,current:e.url,track_ids:e.track_ids,username:e.username,disabled:r,notif:!0}}))})).catch((function(e){console.log("error :(")}))},n.handleClose=function(e,t){n.setState((function(e){return{clicked:e.clicked,artists:e.artists,track_names:e.track_names,images:e.images,previews:e.previews,play:!1,current:e.url,track_ids:e.track_ids,username:e.username,disabled:e.disabled,notif:!1}}))},console.log("MEEEEEE"),n.added={},n.chartReference=r.a.createRef(),n.nextProps=n.props,n.state={value:"short_term",clicked:!1,data:null,artist:n.props.artist,play:!1,notif:!1},n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){k.a.get("access_token");this.props!=e&&(this.nextProps=e,this.componentDidMount())}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.a.get("access_token"),b.a.get("/api/related_tracks/".concat(this.nextProps.artist.id,"/").concat(t)).then((function(e){fetch=e.data,a.setState({clicked:!0,artists:fetch.artists,track_names:fetch.song_names,images:fetch.images,previews:fetch.audio,current:null,track_ids:fetch.ids,username:fetch.username,disabled:new Array(fetch.audio.length).fill(!1),notif:!1})})).catch((function(e){console.log("error :("),console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{backgroundColor:"white",overflow:"scroll"}},r.a.createElement("h2",{style:{fontWeight:"300",marginTop:"20px",marginBottom:"0px"}},"Related Tracks"),r.a.createElement(We.a,null,this.state.clicked&&this.state.artists.map((function(t,a){return r.a.createElement(le.a,null,r.a.createElement(_e.a,null,r.a.createElement(Ce.a,{alt:"Image",src:e.state.images[a]})),r.a.createElement(ie.a,{primary:e.state.track_names[a],secondary:e.state.artists[a]}),e.state.previews[a]&&r.a.createElement("div",null,r.a.createElement(ut.a,{onClick:function(){return e.playTrack(e.state.previews[a],e.state.play)}},e.state.play&&e.state.current==e.state.previews[a]?"Stop":"Play")),e.state.username&&!e.state.disabled[a]&&r.a.createElement(ut.a,{onClick:function(){return e.saveTrack(e.state.track_ids[a],a)}},"+"))}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("audio",{ref:function(t){return e.player=t}})),r.a.createElement(mt.a,{open:this.state.notif,autoHideDuration:2e3,onClose:this.handleClose},r.a.createElement(_t,{onClose:this.handleClose,severity:"success"},"Track Added to library!")))}}]),a}(r.a.Component),jt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),n=t.call(this,e),console.log(n.props),n.chartReference=r.a.createRef(),n.nextProps=n.props,n.state={value:"short_term",clicked:!1,data:null,artist:n.props.artist},n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){k.a.get("access_token");this.props!=e&&(this.nextProps=e,this.componentDidMount())}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.a.get("access_token"),console.log(this.nextProps.artist.artist),b.a.get("/api/track/".concat(this.nextProps.artist.uri,"/").concat(t)).then((function(e){fetch=e.data,console.log(fetch),a.setState({clicked:!0,dataset:{data:fetch.scores,labels:fetch.labels,backgroundColor:fetch.colors},data:[{labels:fetch.labels,datasets:[{data:fetch.scores,labels:fetch.labels,backgroundColor:fetch.colors}]}]}),a.render()})).catch((function(e){console.log("error :("),console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement(Le.a,null,this.state.clicked&&r.a.createElement(Le.a,{class:"track-chart-container"},r.a.createElement(M.b,{ref:this.chartReference,data:this.state.data[0],options:{legend:{display:!1},title:{display:!0,text:"Feature Scores",fontFamily:"Montserrat",fontSize:"18"}}})))))}}]),a}(r.a.Component),xt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.state.artist!=e&&n.setState((function(t){return{value:t.value,clicked:!0,artist:e}}),(function(){return console.log(n.state.artist.artist)}))},n.handleSubmit=function(e,t){n.setState((function(e){return{value:t,clicked:e.clicked,artist:e.artist}}))},n.state={value:"short_term",clicked:!1},n.handleChange=n.handleChange.bind(Object(et.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(et.a)(n)),n.onClick=n.props.onClick,n.showGraph=!1,n.graphTrack=null,n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{style:{marginLeft:"30px"},class:"browser-container"},r.a.createElement(Pe.BrowserView,null,r.a.createElement("form",null,r.a.createElement("label",null,r.a.createElement(at.a,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleSubmit,"aria-label":"disabled tabs example"},r.a.createElement(nt.a,{className:"track-tab",value:"short_term",label:"Week"}),r.a.createElement(nt.a,{className:"track-tab",value:"medium_term",label:"Month"}),r.a.createElement(nt.a,{className:"track-tab",value:"long_term",label:"All Time"})))),this.state.clicked&&this.state.value&&r.a.createElement(Ue.a,{style:{maxHeight:"100vh"},className:"dist-box-tracks",values:[{value:50,className:"top-tracks",show:!0,data:r.a.createElement(wt,Object.assign({clicked:this.state.clicked},this.state,{handleChange:this.handleChange,data:this.state.value}))},{value:25,className:"related-tracks",show:this.state.clicked&&this.state.artist,data:r.a.createElement(Ct,Object.assign({},this.state,{artist:this.state.artist}))},{value:25,className:"track-graph",show:this.state.clicked&&this.state.artist,data:r.a.createElement(jt,Object.assign({},this.state,{artist:this.state.artist}))}]},(function(e){return r.a.createElement(x.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)})),!this.state.clicked&&this.state.value&&r.a.createElement(Ue.a,{style:{maxHeight:"100vh"},className:"dist-box-tracks",values:[{value:100,className:"top-tracks",show:!0,data:r.a.createElement(wt,Object.assign({clicked:this.state.clicked,handleChange:this.handleChange},this.state,{data:this.state.value}))}]},(function(e){return r.a.createElement(x.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)}))),r.a.createElement(Pe.MobileView,null,r.a.createElement("form",null,r.a.createElement("label",null,r.a.createElement(at.a,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleSubmit,"aria-label":"disabled tabs example"},r.a.createElement(nt.a,{className:"track-tab",value:"short_term",label:"Week"}),r.a.createElement(nt.a,{className:"track-tab",value:"medium_term",label:"Month"}),r.a.createElement(nt.a,{className:"track-tab",value:"long_term",label:"All Time"})))),r.a.createElement(wt,Object.assign({handleChange:this.handleChange},this.state,{data:this.state.value}))))}}]),a}(r.a.Component),Ot=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).search=function(e){console.log(n.state);var t="status"in n.state?n.state.status:null,a="userInfo"in n.state?n.state.userInfo:null;n.setState({status:t,userInfo:a,searchTerm:e},console.log("EMEMEMEMEM"+t+", "+a))},n.setUserInfo=function(e){return n.setState({userInfo:e})},console.log(e),n.state={status:"Not logged in"},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){b.a.get("/auth/user").then((function(t){return e(t.data)}),(function(e){return t(e)}))}));case 2:(t=e.sent)&&this.setUserInfo(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.userInfo;return console.log(t),r.a.createElement("div",{className:"App"},r.a.createElement("link",{rel:"stylesheet",href:"//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css"}),r.a.createElement(p.a,null,r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/login",component:function(a){return r.a.createElement(F,Object.assign({},a,{setUserInfo:e.setUserInfo,userInfo:t}))}}),r.a.createElement(f.a,{exact:!0,path:"/",component:function(a){return"Not logged in"==t||!t||"status"in t&&"Not logged in"==t.status?r.a.createElement(F,Object.assign({},a,{setUserInfo:e.setUserInfo,userInfo:t})):r.a.createElement("div",null,r.a.createElement(Se,{searchFunc:e.search,searchTerm:e.state.searchTerm,userInfo:t}),r.a.createElement(Ze,{userInfo:t}))}}),r.a.createElement(f.a,{exact:!0,path:"/logout",component:function(e){return r.a.createElement(Te,{userInfo:t})}}),r.a.createElement(f.a,{exact:!0,path:"/top_tracks"},r.a.createElement(Se,{searchFunc:this.search,searchTerm:this.state.searchTerm,userInfo:t}),r.a.createElement(xt,null)),r.a.createElement(f.a,{exact:!0,path:"/graphs"},r.a.createElement(Se,{searchFunc:this.search,searchTerm:this.state.searchTerm,userInfo:t}),r.a.createElement(De,null)),r.a.createElement(f.a,{exact:!0,path:"/artist/:uri",render:function(a){return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Se,{searchFunc:e.search,searchTerm:e.state.searchTerm,userInfo:t}),r.a.createElement(Be,{style:{height:"100%"},id:a.match.params}))}}),r.a.createElement(f.a,{exact:!0,path:"/search/:term",render:function(a){return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Se,{searchFunc:e.search,searchTerm:e.state.searchTerm,userInfo:t}),r.a.createElement(yt,{style:{height:"100%"},id:a.match.params}))}}),r.a.createElement(f.a,{exact:!0,path:"/top_artists"},r.a.createElement(Se,{searchFunc:this.search,searchTerm:this.state.searchTerm,userInfo:t}),r.a.createElement(lt,null)),r.a.createElement(f.a,{exact:!0,path:"/top_albums"},r.a.createElement(Se,{searchFunc:this.search,searchTerm:this.state.searchTerm,userInfo:t}),r.a.createElement(ft,null)),r.a.createElement(f.a,{exact:!0,path:"/dashboard"},r.a.createElement(Se,{searchFunc:this.search,searchTerm:this.state.searchTerm,userInfo:t}),r.a.createElement(Ze,{userInfo:t}))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(862);l.a.render(r.a.createElement(Ot,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[521,1,2]]]);
//# sourceMappingURL=main.414a3133.chunk.js.map