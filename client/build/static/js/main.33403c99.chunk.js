(this["webpackJsonpspotify-me"]=this["webpackJsonpspotify-me"]||[]).push([[0],{172:function(e,t,a){},173:function(e,t,a){},209:function(e,t,a){},292:function(e,t,a){},472:function(e,t,a){e.exports=a(675)},477:function(e,t,a){},497:function(e,t,a){},498:function(e,t,a){},505:function(e,t,a){},506:function(e,t,a){},610:function(e,t,a){},675:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(20),l=a.n(s),c=(a(477),a(15)),i=a.n(c),o=a(28),u=a(23),m=a(24),d=a(26),h=a(25),p=a(80),f=a(44),g=a(22),b=a.n(g);function v(){var e={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t,a,n){e[a]=n}));return e}var E=a(17),k=a.n(E);var y={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}};function w(e){return new Promise((function(t,a){var n;b.a.post("/auth/user",{code:(n=e,"string"!==typeof n?"":n.split("#")[0])},y).then((function(e){return t(e.data)}),(function(e){return a(e)}))}))}function _(){return new Promise((function(e,t){b.a.get("/auth/logout").then((function(t){return e(t)}),(function(e){return t(e)}))}))}var C=a(713),j=a(709);function x(e){return window.location=e.url,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(j.a,null),"Loading..."))}a(497);var O=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).redirectToSpotify=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){b.a.get("/auth/redirect-spotify").then((function(t){return e(t.data)}),(function(e){return t(e)}))}));case 2:t=e.sent,n.setState({redirectUrl:t});case 4:case"end":return e.stop()}}),e)}))),n.state={redirectUrl:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,n,r,s,l,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v(),a=t.code||null,n=this.props,r=n.setUserInfo,s=n.history,l=n.userInfo,console.log(a),!l||!l.id){e.next=7;break}return s.push("/"),e.abrupt("return");case 7:if(a){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,w(a);case 12:c=e.sent,r(c);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.redirectUrl?r.a.createElement(x,{url:this.state.redirectUrl}):r.a.createElement("div",{class:"landing-page-body"},r.a.createElement("h1",{className:"welcome-title"},"Welcome"),r.a.createElement("h1",{className:"welcome-subtitle"},"Spotify Dashboard"),r.a.createElement(C.a,{className:"login-btn",variant:"contained",onClick:this.redirectToSpotify},"Login with Spotify"))}}]),a}(n.Component),N=(a(498),a(743)),S=a(738),M=a(736),I=a(737),P=a(417),T=a(416),D=(r.a.Component,a(136),a(70)),R=a(419),F=a(89),L=a(3),A=a(377),B=a(27),U=a(83),W=a(717),V=a(720),H=a(714),z=a(719),G=a(718),J=a(425),Y=a.n(J),X=a(427),$=a.n(X),q=a(426),K=a.n(q),Q=a(721),Z=a(722),ee=a(723),te=a(420),ae=a.n(te),ne=a(421),re=a.n(ne),se=a(422),le=a.n(se),ce=a(423),ie=a.n(ce),oe=a(424),ue=a.n(oe),me=(a(505),Object(A.a)((function(e){var t;return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},paper:{background:"red"},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),background:"rgba(21,21,21,1)",color:"#DFE0E3"},drawerClose:(t={transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},Object(F.a)(t,e.breakpoints.up("sm"),{width:e.spacing(9)+1}),Object(F.a)(t,"background","rgba(21,21,21,1)"),Object(F.a)(t,"color","#DFE0E3"),t),toolbar:Object(R.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1),position:"absolute",right:"0px"},e.mixins.toolbar),customizeToolbar:{minHeight:64},content:{flexGrow:1,padding:e.spacing(3)}}}))),de=r.a.createElement("form",{action:"/logout"},r.a.createElement("input",{variant:"outlined",type:"submit",class:"logs-user",value:"Logout"})),he=r.a.createElement("form",{action:"/login"},r.a.createElement("input",{variant:"outlined",type:"submit",class:"logs-user",value:"Login"}));function pe(e){var t,a,n=me(),s=Object(B.a)(),l=r.a.useState(!1),c=Object(D.a)(l,2),i=c[0],o=c[1],u=[{text:"Home",image:r.a.createElement(ae.a,{style:{color:"#DFE0E3"}}),link:"/dashboard"},{text:"My Tracks",image:r.a.createElement(re.a,{style:{color:"#DFE0E3"}}),link:"/top_tracks"},{text:"My Albums",image:r.a.createElement(le.a,{style:{color:"#DFE0E3"}}),link:"/top_albums"},{text:"My Artists",image:r.a.createElement(ie.a,{style:{color:"#DFE0E3"}}),link:"/top_artists"}];ue.a;return console.log(e.userInfo),r.a.createElement("div",{className:n.root},r.a.createElement(H.a,null),r.a.createElement(U.a,{variant:"permanent",className:Object(L.a)(n.drawer,(t={},Object(F.a)(t,n.drawerOpen,i),Object(F.a)(t,n.drawerClose,!i),t)),classes:{paper:Object(L.a)((a={},Object(F.a)(a,n.drawerOpen,i),Object(F.a)(a,n.drawerClose,!i),a))}},r.a.createElement(W.a,{style:{backgroundColor:"rgba(21,21,21,1)",color:"#DFE0E3"},className:n.customizeToolbar},!i&&r.a.createElement(G.a,{color:"inherit","aria-label":"open drawer",onClick:function(){o(!0)},edge:"start",className:Object(L.a)(n.menuButton,Object(F.a)({},n.hide,i))},r.a.createElement(Y.a,null)),r.a.createElement("div",{className:n.toolbar},i&&r.a.createElement(G.a,{onClick:function(){o(!1)}},"rtl"===s.direction?r.a.createElement(K.a,{style:{color:"white"}}):r.a.createElement($.a,{style:{color:"white"}})))),r.a.createElement(z.a,null),r.a.createElement(V.a,null,u.map((function(e,t){return r.a.createElement(Q.a,{button:!0,component:"a",href:e.link,key:e.text},r.a.createElement(Z.a,null,e.image),r.a.createElement(ee.a,{primary:e.text}))}))),r.a.createElement(z.a,null),i&&("Not logged in"===e.userInfo.status||null===e.userInfo?he:de)),r.a.createElement("div",{class:"search-bar"},r.a.createElement("p",null,"Hello")))}r.a.Component;function fe(e){return console.log(e),Object(n.useEffect)((function(){_()})),r.a.createElement("div",{style:{marginTop:"64px",marginLeft:"84px"}},r.a.createElement("h1",{style:{fontFamily:"Montserrat !important"}},"You are now logged out."),r.a.createElement("p",null,r.a.createElement("a",{style:{fontFamily:"Montserrat !important"},href:"/"},"Click here to return to the home page.")))}a(506);var ge=a(63),be=a(724),ve=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).username=e.data,n.chartReference=r.a.createRef(),n.token=k.a.get("access_token"),n.state={scores:[],genreLabels:[],dataset:[],data:[]},n}return Object(m.a)(a,[{key:"shouldComponentUpdate",value:function(){return 0==this.state.data.length}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.get("/api/graphs/short_term/".concat(this.token)).then((function(e){t.setState({scores:e.data.scores,genreLabels:e.data.labels,dataset:{data:e.data.scores,label:"User Data",backgroundColor:e.data.colors},data:[{labels:e.data.labels,datasets:[{data:e.data.scores,label:"User Data",backgroundColor:e.data.colors}]}]})})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.data.length>0?r.a.createElement(be.a,{container:!0,className:"grid-container"},r.a.createElement(be.a,{item:!0,xs:12,sm:6},r.a.createElement("div",{style:{backgroundColor:"none",border:"1px solid black"}},r.a.createElement(ge.a,{ref:this.chartReference,data:this.state.data[0]}))),r.a.createElement(be.a,{item:!0,xs:12,sm:6},r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement(ge.d,{ref:this.chartReference,data:this.state.data[0]})))):r.a.createElement("div",null)}}]),a}(r.a.Component),Ee=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).logout=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:e.sent.status;case 4:case"end":return e.stop()}}),e)}))),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,t.userInfo,t.history,console.log(this.props);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=r.a.createElement(ve,{data:this.token});return r.a.createElement("div",null,r.a.createElement("h1",null,"Graphs"),e)}}]),a}(r.a.Component),ke=a(66),ye=(a(580),a(593),a(594),a(595),a(225)),we=a.n(ye),_e=(a(610),a(725)),Ce=a(119),je=a(309),xe=(a(611),a(730)),Oe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n.chartReference=r.a.createRef(),console.log(n.props),n.onClose=n.props.onClose,console.log(n.props.onClose),n.artist_uri=n.props.id.uri,n.token=k.a.get("access_token"),n.responsive={desktop:{breakpoint:{max:3e3,min:1024},items:3,paritialVisibilityGutter:60},tablet:{breakpoint:{max:1024,min:464},items:2,paritialVisibilityGutter:50},mobile:{breakpoint:{max:464,min:0},items:1,paritialVisibilityGutter:30}},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.get("/api/artist/".concat(this.artist_uri,"/").concat(this.token)).then((function(e){console.log(e.data);var a=e.data.artist_info,n=e.data.albums;console.log({external_url:a.external_urls.spotify,followers:a.followers.total,genres:a.genres,images:a.images,name:a.name,popularity:a.popularity,albums:n.items,genre_data:e.data.genre_data,dataset:{data:e.data.genre_data.scores,labels:e.data.genre_data.labels,backgroundColor:e.data.genre_data.colors},data:[{labels:e.data.genre_data.labels,datasets:[{data:e.data.genre_data.scores,labels:e.data.genre_data.labels,backgroundColor:e.data.genre_data.colors}]}]}),t.setState({external_url:a.external_urls.spotify,followers:a.followers.total,genres:a.genres,images:a.images,name:a.name,popularity:a.popularity,albums:n.items,genre_data:e.data.genre_data,dataset:{data:e.data.genre_data.scores,labels:e.data.genre_data.labels,backgroundColor:["rgba(0,0,0,0.5)"]},data:[{labels:e.data.genre_data.labels,datasets:[{data:e.data.genre_data.scores,labels:e.data.genre_data.labels,backgroundColor:["rgba(90,240,159,0.5)"]}]}]}),console.log(t.state)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleClose",value:function(){this.onClose()}},{key:"render",value:function(){var e=this;if("external_url"in this.state){var t={autoplay:!0,dots:!1,infinite:!0,slidesToShow:5,slidesToScroll:1,speed:2e3,autoplaySpeed:0};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.BrowserView,{style:{height:"100%"}},r.a.createElement(be.a,{style:{height:"100%",position:"relative",left:"0px",width:"100%"},container:!0,className:"grid-container"},r.a.createElement(be.a,{style:{height:"100%"},item:!0,sm:10},r.a.createElement(_e.a,{className:"artist-card"},r.a.createElement(be.a,{container:!0,className:"artist-top-container"},r.a.createElement(be.a,{style:{height:"100%"},item:!0,sm:6},r.a.createElement("div",{style:{height:"100%"},className:"artist-img-container"},r.a.createElement("a",{href:this.state.external_url},r.a.createElement("img",{className:"artist-img",src:this.state.images[0].url})))),r.a.createElement(be.a,{style:{height:"100%"},item:!0,sm:6},r.a.createElement("div",{className:"artist-info"},r.a.createElement(G.a,{className:"exit-artist-modal",onClick:function(){return e.handleClose()}},r.a.createElement(xe.a,{onClick:function(){return e.handleClose()},className:"fa fa-times"})),r.a.createElement("div",{className:"artist-name-container"},r.a.createElement(Ce.a,{className:"artist-name",style:{fontFamily:"Montserrat"},gutterBottom:!0,variant:"h3",component:"h3"},this.state.name)),r.a.createElement("div",{className:"genre-doughnut"},r.a.createElement(ge.e,{ref:this.chartReference,data:this.state.data[0],options:{rotation:Math.PI,circumference:Math.PI,title:{display:!0,position:"center",text:"Upcoming Meetings"},scale:{ticks:{display:!1},yAxis:{display:!1},pointLabels:{fontSize:16,fontColor:"#111111",fontFamily:"'Montserrat','Roboto'"}},legend:{display:!1},radius:{fontSize:24}}}))))),r.a.createElement(be.a,{container:!0,alignItems:"center",justify:"center"},r.a.createElement(be.a,{style:{height:"100%"},item:!0,sm:11},r.a.createElement("div",null,r.a.createElement(je.a,{className:"carousel-bgd",elevation:3},r.a.createElement(we.a,t,this.state.albums.map((function(e){return r.a.createElement("img",{className:"album-carousel-item",src:e.images[0].url})}))))))))))),r.a.createElement(ke.MobileView,null,r.a.createElement(be.a,{container:!0,className:"grid-container"},r.a.createElement(be.a,{item:!0,xs:12},r.a.createElement("div",{className:"artist-img"},r.a.createElement("a",{href:this.state.external_url},r.a.createElement("img",{src:this.state.images[0].url,height:this.state.images[1].height,width:this.state.images[1].width})))),r.a.createElement("p",null,this.state.followers))))}return r.a.createElement("p",null)}}]),a}(r.a.Component),Ne=a(741),Se=a(747),Me=a(739),Ie=a(744),Pe=a(731),Te=a(748);a(172);function De(e){e.preventDefault(),window.location="/top_tracks"}function Re(e){console.log(e.data);var t=Object(n.useState)([]),a=Object(D.a)(t,2),s=a[0],l=a[1],c=k.a.get("access_token");return Object(n.useEffect)((function(){b.a.get("/api/user/".concat(e.data,"/").concat(c,"/15/")).then((function(e){console.log(e.data.top_tracks),l(e.data.top_tracks)})).catch((function(e){console.log("yo"),console.log(e)}))}),[e.data]),r.a.createElement("div",null,r.a.createElement("h2",{class:"list-title",style:{marginTop:"10px"}},"Top Tracks"),r.a.createElement(Me.a,{size:"mini"},s.map((function(e){return r.a.createElement(Q.a,null,r.a.createElement(Pe.a,null,r.a.createElement(Te.a,{alt:"Image",src:e.image})),r.a.createElement(ee.a,{primary:e.track_name,secondary:e.artist}))}))),r.a.createElement(Ie.a,{primary:!0,content:"View more...",onClick:De}))}var Fe=a(726),Le=a(728);function Ae(e){var t=e.data;k.a.get("access_token");return console.log(t),r.a.createElement("div",{class:"list-title",style:{height:"100%"}},r.a.createElement(Le.a,{component:"img",alt:"ProfileImage",height:"300",style:{objectFit:"cover",height:"80%"},image:t.image_url,title:t.username}),r.a.createElement(Fe.a,null,r.a.createElement(Ce.a,{gutterBottom:!0,variant:"h5",component:"h2",class:"list-title"},t.username.slice(0,1).toUpperCase()+t.username.slice(1)),r.a.createElement(Ce.a,{component:"p",class:"list-title"},"Followers: ",t.followers.total)))}a(451);function Be(e){e.preventDefault(),window.location="/top_artists"}function Ue(e){console.log(e.data);var t=Object(n.useState)([]),a=Object(D.a)(t,2),s=a[0],l=a[1],c=k.a.get("access_token");return Object(n.useEffect)((function(){b.a.get("/api/user_artists/".concat(e.data,"/").concat(c,"/15/")).then((function(e){console.log(e.data),l(e.data.top_artists)})).catch((function(e){console.log("error :("),console.log(e)}))}),[e.data]),r.a.createElement("div",null,r.a.createElement("h2",{class:"list-title",style:{marginTop:"10px"}},"Top Artists"),r.a.createElement(Me.a,{size:"mini"},s.map((function(e){return r.a.createElement(Q.a,null,r.a.createElement(Pe.a,null,r.a.createElement(Te.a,{alt:"Image",src:e.image})),r.a.createElement(ee.a,{primary:e.artist_name}))}))),r.a.createElement(Ie.a,{primary:!0,content:"View more...",onClick:Be}))}function We(e){e.data;var t=e.range,a=e.chart,n=r.a.createRef(),s=e.mobile;if("short"==e.range)e=[{labels:e.data.short_term_genres.slice(0,5),datasets:[{data:e.data.short_genre_scores.slice(0,5),labels:e.data.short_term_genres.slice(0,5),backgroundColor:"doughnut"==a?["#f1a5ba","#f5b565","#fbd981","#93dcdc","#6cb8ee"]:"rgba(108, 184, 238,0.6)"}]}];else if("long"==e.range)e=[{labels:e.data.long_term_genres.slice(0,5),datasets:[{data:e.data.long_genre_scores.slice(0,5),labels:e.data.long_term_genres.slice(0,5),backgroundColor:"doughnut"==a?["#f1a5ba","#f5b565","#fbd981","#93dcdc","#6cb8ee"]:"rgba(108, 184, 238,0.6)"}]}];k.a.get("access_token");var l={short:"Most Recent Genres",long:"All Time Genres"}[t];return r.a.createElement("div",{style:{height:"25vh"}},"doughnut"==a&&r.a.createElement(ge.a,{style:{height:"25vh"},ref:n,data:e[0],options:{title:{display:!0,text:l,fontFamily:"Montserrat",fontSize:"18"},legend:{display:!s},responsive:!s}}),"radar"==a&&r.a.createElement(ge.e,{style:{height:"25vh"},ref:n,data:e[0],options:{scale:{angleLines:{display:!1},ticks:{suggestedMin:0,suggestedMax:0,display:!1}},title:{display:!0,text:l,fontFamily:"Montserrat",fontSize:"18"},legend:{position:"bottom",display:!1},responsive:!s}}))}var Ve=a(729),He=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.a.get("access_token"),b.a.get("/api/user_info/".concat(t,"/")).then((function(e){console.log(e.data),a.setState(e.data[0])})).catch((function(e){console.log("yo"),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){this.props.userInfo;return r.a.createElement("div",{style:{overflow:"hidden",marginTop:"2vh",marginLeft:"84px",width:"92%"}},r.a.createElement(ke.BrowserView,null,this.state.username&&r.a.createElement(Ne.a,{style:{overflow:"hidden",width:"100%",backgroundColor:"#EBEBEB"},full:!0},r.a.createElement(Se.a,{style:{overflow:"hidden"},margin:"xsmall",gap:"none",fill:!0,values:[{value:30,color:"white",overflow:!1,title:"Short term genres",data:r.a.createElement(We,{mobile:!1,data:this.state,chart:"doughnut",range:"short"})},{value:30,color:"white",overflow:!1,title:"Long term genres",data:r.a.createElement(We,{mobile:!1,data:this.state,chart:"radar",range:"long"})},{value:30,color:"white",overflow:!1,title:"",data:r.a.createElement(Ae,{data:this.state})},{value:25,color:"white",overflow:!0,data:r.a.createElement(Re,{data:"long_term"})},{value:25,color:"white",overflow:!0,data:r.a.createElement(Ue,{data:"long_term"})}]},(function(e){return r.a.createElement(_e.a,{width:"100%",height:"100%",style:{backgroundColor:"white",overflow:e.overflow?"scroll":"hidden"},className:"userinfo-card"},e.data)}))),!this.state.username&&r.a.createElement("div",{class:"loading"},r.a.createElement(Ve.a,null))),r.a.createElement(ke.MobileView,null,this.state.username&&r.a.createElement("div",{style:{width:"80%"}},r.a.createElement(_e.a,{style:{backgroundColor:"white"},className:"userinfo-card"},r.a.createElement(Ae,{data:this.state})),r.a.createElement(_e.a,{height:"25vh",style:{backgroundColor:"white",height:"25vh"},className:"userinfo-card"},r.a.createElement(We,{height:"25vh",mobile:!0,style:{height:"25vh"},data:this.state,chart:"doughnut",range:"short"})),r.a.createElement(_e.a,{style:{backgroundColor:"white"},className:"userinfo-card"},r.a.createElement(We,{data:this.state,mobile:!0,chart:"radar",range:"long"})))))}}]),a}(r.a.Component),ze=a(87);a(292);function Ge(e){console.log(e.data);var t=Object(n.useState)([]),a=Object(D.a)(t,2),s=a[0],l=a[1],c=null!=e.handleChange,i=e.clicked?3:2,o=k.a.get("access_token");return Object(n.useEffect)((function(){b.a.get("/api/user_artists/".concat(e.data,"/").concat(o,"/50/")).then((function(e){console.log(e.data),l(e.data.top_artists)})).catch((function(e){console.log("error :("),console.log(e)}))}),[e.data]),r.a.createElement("div",null,r.a.createElement(be.a,{container:!0,className:"grid-container",alignItems:"center",justify:"center",spacing:0},s.map((function(t,a){return r.a.createElement(be.a,{item:!0,xs:6,sm:i},c&&r.a.createElement(_e.a,{onClick:function(){return e.handleChange(t)},className:"topartists-card"},r.a.createElement(Le.a,{className:"topartists-img",image:t.image}),r.a.createElement(Fe.a,{className:"topartists-info"},r.a.createElement(Ce.a,{className:"music-title",gutterBottom:!0,variant:"h6",component:"h6"},a+1,". ",t.artist_name))))}))))}var Je=a(742),Ye=a(733),Xe=a(745),$e=(a(411),a(297)),qe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).chartReference=r.a.createRef(),n.nextProps=n.props,n.state={value:"short_term",clicked:!1,data:[],artist:n.props.artist},n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){k.a.get("access_token");this.props!=e&&(this.nextProps=e,this.componentDidMount())}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.a.get("access_token"),console.log(this.nextProps),b.a.get("/api/artist/".concat(this.nextProps.artist.uri,"/").concat(t)).then((function(e){fetch=e.data,a.setState((function(e){return{clicked:!0,artist_info:fetch.info,albums:fetch.albums.items}}))})).catch((function(e){console.log("error :("),console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={autoplay:!0,dots:!1,infinite:!0,slidesToShow:3,slidesToScroll:1,speed:2e3,autoplaySpeed:0};if(this.state.artist_info){var t=this.state.artist_info.genres;return r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement(_e.a,null,r.a.createElement(Fe.a,null,r.a.createElement("img",{style:{height:"250px",width:"250px",borderRadius:"100%",boxShadow:"2px 2px 5px 0.1px black"},src:this.state.artist_info.images[0].url}),r.a.createElement("h1",null,this.state.artist_info.name.toUpperCase()),r.a.createElement(be.a,{container:!0,className:"artist-grid-container"},r.a.createElement(be.a,{item:!0,sm:12},r.a.createElement("div",{class:"genre-container"},r.a.createElement("h4",null,"Genres:"),r.a.createElement("p",null,"\xa0",t.slice(0,Math.min(t.length,4)).join(", ")))),r.a.createElement(be.a,{item:!0,sm:12},r.a.createElement("div",{class:"genre-container",style:{backgroundColor:"white"}},r.a.createElement("h4",null,"Popularity: "),r.a.createElement("p",null,"\xa0",this.state.artist_info.popularity)))),r.a.createElement(we.a,e,this.state.albums.map((function(e){return r.a.createElement(_e.a,null,r.a.createElement("img",{className:"album-carousel-item",src:e.images[0].url}))}))))))}return r.a.createElement("div",null,r.a.createElement("h4",null,"Loading..."))}}]),a}(r.a.Component),Ke=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){console.log(e),n.state.artist!=e&&n.setState((function(t){return{value:t.value,clicked:!0,artist:e,artist_side:70}}))},n.handleSubmit=function(e,t){n.setState({value:t,clicked:!1,artist_side:100})},n.state={value:"short_term",artist_side:100},n.handleChange=n.handleChange.bind(Object(ze.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(ze.a)(n)),n.value="short_term",n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){this.state.value;return r.a.createElement("div",{style:{marginLeft:"30px"}},r.a.createElement(ke.BrowserView,null,r.a.createElement("div",{class:"browser-container",style:{marginLeft:"0px"}},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement(Je.a,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleSubmit,"aria-label":"disabled tabs example"},r.a.createElement(Ye.a,{className:"track-tab",value:"short_term",label:"Week"}),r.a.createElement(Ye.a,{className:"track-tab",value:"medium_term",label:"Month"}),r.a.createElement(Ye.a,{className:"track-tab",value:"long_term",label:"All Time"})))),this.state.clicked&&r.a.createElement(Se.a,{values:[{value:this.state.artist_side,className:"top-tracks",show:!0,data:r.a.createElement(Ge,{clicked:this.state.clicked,handleChange:this.handleChange,data:this.state.value})},{value:100-this.state.artist_side,className:"track-graph",show:this.state.clicked&&this.state.artist,data:r.a.createElement(qe,Object.assign({handleChange:this.handleChange},this.state))}]},(function(e){return r.a.createElement(Xe.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)})),!this.state.clicked&&r.a.createElement(Se.a,{values:[{value:100,className:"top-tracks",show:!0,data:r.a.createElement(Ge,{clicked:this.state.clicked,handleChange:this.handleChange,data:this.state.value})}]},(function(e){return r.a.createElement(Xe.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)})))),r.a.createElement(ke.MobileView,null,r.a.createElement("div",{style:{marginTop:"0px",marginLeft:"30px"}},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement(Je.a,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleChange,"aria-label":"disabled tabs example"},r.a.createElement(Ye.a,{className:"track-tab",value:"short_term",label:"Week"}),r.a.createElement(Ye.a,{className:"track-tab",value:"medium_term",label:"Month"}),r.a.createElement(Ye.a,{className:"track-tab",value:"long_term",label:"All Time"})))),r.a.createElement(Se.a,{values:[{value:100,className:"top-tracks",show:!0,data:r.a.createElement(Ge,{clicked:this.state.clicked,handleChange:this.handleChange,data:this.state.value})}]},(function(e){return r.a.createElement(Xe.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)})))))}}]),a}(r.a.Component);a(173);function Qe(e){var t=Object(n.useState)([]),a=Object(D.a)(t,2),s=a[0],l=a[1],c=null!=e.handleChange,i=e.scroll?"scroll":"hidden",o=e.scroll?3:2,u=k.a.get("access_token");return Object(n.useEffect)((function(){var t=!0;return b.a.get("/api/user_albums/".concat(e.data,"/").concat(u,"/50")).then((function(e){t&&(console.log(e.data),l(e.data.albums))})),function(){t=!1}}),[e.data]),r.a.createElement("div",{style:{overflow:i,height:"auto"}},r.a.createElement(be.a,{container:!0,className:"grid-container",alignItems:"center",justify:"center",spacing:0},s.map((function(t,a){return r.a.createElement(be.a,{item:!0,xs:6,sm:o,md:o,lg:o},c&&r.a.createElement(_e.a,{onClick:function(){return e.handleChange(t)},className:"track-card"},r.a.createElement(Le.a,{className:"topalbums-img",image:t.images[0].url}),r.a.createElement(Fe.a,{className:"topalbums-info"},r.a.createElement(Ce.a,{className:"music-title",gutterBottom:!0,variant:"h6",component:"h6"},a+1,". ",t.name," by ",t.artists[0].name))))}))))}var Ze=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),n=t.call(this,e),console.log(n.props),n.nextProps=n.props,n.chartReference=r.a.createRef(),n.mounted=!1,n.state={value:"short_term",clicked:!1,data:[],artist:n.props.artist,feature:"valence"},n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){k.a.get("access_token");this.props.artist.uri!=e.artist.uri&&(this.nextProps=e,this.componentDidMount())}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.a.get("access_token"),this.mounted=!0,b.a.get("/api/album/".concat(this.nextProps.artist.uri,"/").concat(t)).then((function(e){return a.mounted&&(fetch=e.data,a.chartReference=r.a.createRef(),fetch.scores[a.state.feature].length>1?a.setState((function(e){return{clicked:!0,album_info:fetch.album_info,data:[{labels:fetch.names,datasets:[{data:fetch.scores[e.feature],labels:e.feature,fill:!0,backgroundColor:"rgba(75,192,192,0.2)",borderColor:"rgba(75,192,192,1)"}]}]}})):a.setState((function(e){return{clicked:!0,album_info:fetch.album_info,data:null}}))),console.log(a.state),function(){a.mounted=!1}})).catch((function(e){console.log("error :("),console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){if(this.state.data)return r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement(_e.a,null,this.state.clicked&&this.state.data[0].datasets[0].data.length>1&&r.a.createElement(ge.c,{ref:this.chartReference,data:this.state.data[0],options:{title:{display:!0,text:"Positivity Score by Track",fontSize:20,fontFamily:"Montserrat"},legend:{display:!1},scales:{yAxes:[{gridLines:{drawBorder:!1},display:!1}]},plugins:{filler:{propagate:!0}}}})));var e=this.state.album_info;return r.a.createElement(_e.a,null,r.a.createElement(Fe.a,null,r.a.createElement("p",null,"Cannot construct graph for songs in ",e.name)))}}]),a}(r.a.Component),et=a(727),tt=a(732),at=a(740),nt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).props=e,n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(at.a,Object.assign({elevation:6,variant:"filled"},this.props))}}]),a}(r.a.Component),rt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).playTrack=function(e,t){e&&(e!=n.state.current&&n.state.current?(n.player.pause(),n.player.src=e,n.setState((function(t){return{clicked:!0,album_name:t.album_name,album_info:t.album_info,popularities:t.popularities,track_names:t.track_names,previews:t.previews,play:!0,current:e,username:t.username,disabled:t.disabled,notif:!1}})),n.player.play()):(n.player.src=e,t?(n.player.pause(),n.setState((function(t){return{clicked:!0,album_name:t.album_name,album_info:t.album_info,popularities:t.popularities,track_names:t.track_names,previews:t.previews,play:!1,current:e,username:t.username,disabled:t.disabled,notif:!1}}))):(n.player.play(),n.setState((function(t){return{clicked:!0,album_name:t.album_name,album_info:t.album_info,popularities:t.popularities,track_names:t.track_names,previews:t.previews,play:!0,current:e,username:t.username,disabled:t.disabled,notif:!1}})))))},n.saveTrack=function(e,t){console.log(e);var a=k.a.get("access_token");b.a.get("/api/track/save/".concat(e.id,"/").concat(n.state.username,"/").concat(a)).then((function(e){var a=n.state.disabled;console.log(a),a[t]=!0,n.setState((function(e){return{clicked:!0,album_name:e.album_name,album_info:e.album_info,popularities:e.popularities,track_names:e.track_names,previews:e.previews,play:e.play,current:e.current,username:e.username,disabled:a,notif:!0}}))})).catch((function(e){console.log(e),console.log("error :(")}))},n.handleClose=function(e,t){n.setState((function(e){return{clicked:!0,album_name:e.album_name,album_info:e.album_info,popularities:e.popularities,track_names:e.track_names,previews:e.previews,play:e.play,current:e.current,username:e.username,disabled:e.disabled,notif:!1}}))},console.log(n.props),n.nextProps=n.props,n.mounted=!1,n.state={value:"short_term",clicked:!1,data:null,artist:n.props.artist},console.log("WEEEEE2222E"),n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){k.a.get("access_token");this.props!=e&&(this.nextProps=e,this.componentDidMount())}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.a.get("access_token"),this.mounted=!0,console.log(this.nextProps.artist.artist),b.a.get("/api/album_track_info/".concat(this.nextProps.artist.id,"/").concat(t)).then((function(e){return fetch=e.data,a.mounted&&a.setState((function(e){return{clicked:!0,album_name:fetch.album_name,album_info:fetch.tracks_in_album,popularities:fetch.popularities,track_names:fetch.track_names,previews:fetch.audio,current:null,username:fetch.username,disabled:new Array(fetch.audio.length).fill(!1),notif:!1}})),function(){a.mounted=!1}})).catch((function(e){console.log("error :("),console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this;this.state.play;return this.state.album_info?r.a.createElement("div",{style:{backgroundColor:"white",overflow:"scroll"}},r.a.createElement(_e.a,null,r.a.createElement(et.a,{style:{fontFamily:"Montserrat !important"},title:this.state.album_name,subheader:"Tracks in Album"}),r.a.createElement(Fe.a,null,r.a.createElement(Me.a,null,this.state.clicked&&this.state.previews.map((function(t,a){return r.a.createElement("div",null,r.a.createElement(Q.a,null,r.a.createElement(ee.a,{primary:e.state.track_names[a]}),e.state.previews[a]&&r.a.createElement("div",null,r.a.createElement(C.a,{onClick:function(){return e.playTrack(e.state.previews[a],e.state.play)}},e.state.play&&e.state.current==e.state.previews[a]?"Stop":"Play")),e.state.username&&!e.state.disabled[a]&&r.a.createElement(C.a,{onClick:function(){return e.saveTrack(e.state.album_info[a],a)}},"+")),r.a.createElement(z.a,null))}))))),r.a.createElement(r.a.Fragment,null,r.a.createElement("audio",{ref:function(t){return e.player=t}})),r.a.createElement(tt.a,{open:this.state.notif,autoHideDuration:2e3,onClose:this.handleClose},r.a.createElement(nt,{onClose:this.handleClose,severity:"success"},"Track Added to library!"))):r.a.createElement("div",null,"Loading...")}}]),a}(r.a.Component),st=(r.a.Component,function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.state.artist&&n.state.artist.id==e.id?n.setState((function(t){return{value:t.value,clicked:!0,artist:e,sidePane:50}})):(n.setState((function(t){return{value:t.value,clicked:!0,artist:e,sidePane:50}})),n.render())},n.changeTab=function(e,t){e.preventDefault(),n.setState({value:t})},n.handleSubmit=function(e,t){console.log(e),console.log(t),e.preventDefault(),n.setState({value:t})},n.state={value:"short_term",sidePane:100},n.handleChange=n.handleChange.bind(Object(ze.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(ze.a)(n)),n.value="short_term",console.log("YEEEEEE"),n}return Object(m.a)(a,[{key:"render",value:function(){this.state.value;return r.a.createElement("div",{style:{marginLeft:"30px"},class:"browser-container"},r.a.createElement(ke.BrowserView,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement(Je.a,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleSubmit,"aria-label":"disabled tabs example"},r.a.createElement(Ye.a,{className:"track-tab",value:"short_term",label:"Week"}),r.a.createElement(Ye.a,{className:"track-tab",value:"medium_term",label:"Month"}),r.a.createElement(Ye.a,{className:"track-tab",value:"long_term",label:"All Time"})))),r.a.createElement("div",null,100!=this.state.sidePane&&r.a.createElement(Se.a,{style:{maxHeight:"100vh"},className:"dist-box-albums",values:[{value:50,className:"top-albums",show:!0,data:r.a.createElement(Qe,{scroll:100!=this.state.sidePane,handleChange:this.handleChange,data:this.state.value})},{value:25,className:"album-graph",show:this.state.clicked&&this.state.artist,data:r.a.createElement(Ze,Object.assign({style:{maxHeight:"35vh"}},this.state,{artist:this.state.artist}))},{value:25,className:"related-albums",show:this.state.clicked&&this.state.artist,data:r.a.createElement(rt,Object.assign({style:{maxHeight:"35vh"}},this.state))}]},(function(e){return r.a.createElement(Xe.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)})),100==this.state.sidePane&&r.a.createElement(Se.a,{style:{maxHeight:"100vh"},className:"dist-box-albums",values:[{value:this.state.sidePane,className:"top-albums",show:!0,data:r.a.createElement(Qe,{handleChange:this.handleChange,data:this.state.value})}]},(function(e){return r.a.createElement(Xe.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)})))),r.a.createElement(ke.MobileView,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement(Je.a,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleSubmit,"aria-label":"disabled tabs example"},r.a.createElement(Ye.a,{className:"track-tab",value:"short_term",label:"Week"}),r.a.createElement(Ye.a,{className:"track-tab",value:"medium_term",label:"Month"}),r.a.createElement(Ye.a,{className:"track-tab",value:"long_term",label:"All Time"})))),r.a.createElement(Qe,{handleChange:this.handleChange,data:this.state.value})))}}]),a}(r.a.Component)),lt=(a(209),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleHover=function(e,t){var a=n.state.hovering;a[e]=t,n.setState((function(e){return{value:e.value,tracks:e.tracks,hovering:a}}))},console.log(e),n.k=50,n.data=n.props.data,n.state={value:n.props.data,clicked:n.props.clicked,hovering:new Array(n.k).fill(!1)},n.isCardFunction=null!=n.props.handleChange,n.spacer=n.props.clicked?4:2,n.scroll=n.props.clicked?"scroll":"hidden",n.hovering=!1,n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.a.get("access_token"),b.a.get("/api/user/".concat(this.props.data,"/").concat(t,"/").concat(this.k)).then((function(e){a.setState((function(t){return{value:a.state.value,tracks:e.data.top_tracks,hovering:t.hovering}}))})).catch((function(e){console.log("error :("),console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.value!=this.props.value&&(a=k.a.get("access_token"),b.a.get("/api/user/".concat(this.props.data,"/").concat(a,"/").concat(this.k)).then((function(e){n.setState((function(t){return{value:t.value,tracks:e.data.top_tracks,hovering:t.hovering}}))})).catch((function(e){console.log("error :("),console.log(e)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return"tracks"in this.state?r.a.createElement("div",{style:{height:"auto",overflow:this.scroll}},r.a.createElement(be.a,{container:!0,className:"grid-container",alignItems:"center",justify:"center",spacing:0},this.state.tracks.map((function(t,a){return r.a.createElement(be.a,{item:!0,xs:6,sm:e.spacer,md:e.spacer,lg:e.spacer},e.isCardFunction&&r.a.createElement(_e.a,{onMouseEnter:function(){return e.handleHover(a,!0)},onMouseLeave:function(){return e.handleHover(a,!1)},onClick:function(){return e.props.handleChange(t)},className:"track-card"},r.a.createElement(Le.a,{className:"track-img",image:t.image})))})))):r.a.createElement("div",null,"Loading...")}}]),a}(r.a.Component)),ct=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).props=e,n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(at.a,Object.assign({elevation:6,variant:"filled"},this.props))}}]),a}(r.a.Component),it=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).playTrack=function(e,t){e&&(e!=n.state.current&&n.state.current?(n.player.pause(),n.player.src=e,n.setState((function(t){return{clicked:t.clicked,artists:t.artists,track_names:t.track_names,images:t.images,previews:t.previews,play:!0,current:e,track_ids:t.track_ids,username:t.username,disabled:t.disabled,notif:!1}})),n.player.play()):(n.player.src=e,t?(n.player.pause(),n.setState((function(e){return{clicked:e.clicked,artists:e.artists,track_names:e.track_names,images:e.images,previews:e.previews,play:!1,current:e.url,track_ids:e.track_ids,username:e.username,disabled:e.disabled,notif:!1}}))):(n.player.play(),n.setState((function(t){return{clicked:t.clicked,artists:t.artists,track_names:t.track_names,images:t.images,previews:t.previews,play:!0,current:e,track_ids:t.track_ids,username:t.username,disabled:t.disabled,notif:!1}})))))},n.saveTrack=function(e,t){var a=k.a.get("access_token");b.a.get("/api/track/save/".concat(e,"/").concat(n.state.username,"/").concat(a)).then((function(a){n.added[e]=!0;var r=n.state.disabled;r[t]=!0,n.setState((function(e){return{clicked:e.clicked,artists:e.artists,track_names:e.track_names,images:e.images,previews:e.previews,play:e.play,current:e.url,track_ids:e.track_ids,username:e.username,disabled:r,notif:!0}}))})).catch((function(e){console.log("error :(")}))},n.handleClose=function(e,t){n.setState((function(e){return{clicked:e.clicked,artists:e.artists,track_names:e.track_names,images:e.images,previews:e.previews,play:!1,current:e.url,track_ids:e.track_ids,username:e.username,disabled:e.disabled,notif:!1}}))},console.log("MEEEEEE"),n.added={},n.chartReference=r.a.createRef(),n.nextProps=n.props,n.state={value:"short_term",clicked:!1,data:null,artist:n.props.artist,play:!1,notif:!1},n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){k.a.get("access_token");this.props!=e&&(this.nextProps=e,this.componentDidMount())}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.a.get("access_token"),b.a.get("/api/related_tracks/".concat(this.nextProps.artist.id,"/").concat(t)).then((function(e){fetch=e.data,a.setState({clicked:!0,artists:fetch.artists,track_names:fetch.song_names,images:fetch.images,previews:fetch.audio,current:null,track_ids:fetch.ids,username:fetch.username,disabled:new Array(fetch.audio.length).fill(!1),notif:!1})})).catch((function(e){console.log("error :("),console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{backgroundColor:"white",overflow:"scroll"}},r.a.createElement("h2",{style:{fontWeight:"300",marginTop:"20px",marginBottom:"0px"}},"Related Tracks"),r.a.createElement(Me.a,null,this.state.clicked&&this.state.artists.map((function(t,a){return r.a.createElement(Q.a,null,r.a.createElement(Pe.a,null,r.a.createElement(Te.a,{alt:"Image",src:e.state.images[a]})),r.a.createElement(ee.a,{primary:e.state.track_names[a],secondary:e.state.artists[a]}),e.state.previews[a]&&r.a.createElement("div",null,r.a.createElement(C.a,{onClick:function(){return e.playTrack(e.state.previews[a],e.state.play)}},e.state.play&&e.state.current==e.state.previews[a]?"Stop":"Play")),e.state.username&&!e.state.disabled[a]&&r.a.createElement(C.a,{onClick:function(){return e.saveTrack(e.state.track_ids[a],a)}},"+"))}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("audio",{ref:function(t){return e.player=t}})),r.a.createElement(tt.a,{open:this.state.notif,autoHideDuration:2e3,onClose:this.handleClose},r.a.createElement(ct,{onClose:this.handleClose,severity:"success"},"Track Added to library!")))}}]),a}(r.a.Component),ot=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),n=t.call(this,e),console.log(n.props),n.chartReference=r.a.createRef(),n.nextProps=n.props,n.state={value:"short_term",clicked:!1,data:null,artist:n.props.artist},n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){k.a.get("access_token");this.props!=e&&(this.nextProps=e,this.componentDidMount())}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.a.get("access_token"),console.log(this.nextProps.artist.artist),b.a.get("/api/track/".concat(this.nextProps.artist.uri,"/").concat(t)).then((function(e){fetch=e.data,console.log(fetch),a.setState({clicked:!0,dataset:{data:fetch.scores,labels:fetch.labels,backgroundColor:fetch.colors},data:[{labels:fetch.labels,datasets:[{data:fetch.scores,labels:fetch.labels,backgroundColor:fetch.colors}]}]}),a.render()})).catch((function(e){console.log("error :("),console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement(_e.a,null,this.state.clicked&&r.a.createElement(_e.a,{class:"track-chart-container"},r.a.createElement(ge.b,{ref:this.chartReference,data:this.state.data[0],options:{legend:{display:!1},title:{display:!0,text:"Feature Scores",fontFamily:"Montserrat",fontSize:"18"}}})))))}}]),a}(r.a.Component),ut=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.state.artist!=e&&n.setState((function(t){return{value:t.value,clicked:!0,artist:e}}),(function(){return console.log(n.state.artist.artist)}))},n.handleSubmit=function(e,t){n.setState((function(e){return{value:t,clicked:e.clicked,artist:e.artist}}))},n.state={value:"short_term",clicked:!1},n.handleChange=n.handleChange.bind(Object(ze.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(ze.a)(n)),n.onClick=n.props.onClick,n.showGraph=!1,n.graphTrack=null,n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{style:{marginLeft:"30px"},class:"browser-container"},r.a.createElement(ke.BrowserView,null,r.a.createElement("form",null,r.a.createElement("label",null,r.a.createElement(Je.a,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleSubmit,"aria-label":"disabled tabs example"},r.a.createElement(Ye.a,{className:"track-tab",value:"short_term",label:"Week"}),r.a.createElement(Ye.a,{className:"track-tab",value:"medium_term",label:"Month"}),r.a.createElement(Ye.a,{className:"track-tab",value:"long_term",label:"All Time"})))),this.state.clicked&&this.state.value&&r.a.createElement(Se.a,{style:{maxHeight:"100vh"},className:"dist-box-tracks",values:[{value:50,className:"top-tracks",show:!0,data:r.a.createElement(lt,Object.assign({clicked:this.state.clicked},this.state,{handleChange:this.handleChange,data:this.state.value}))},{value:25,className:"related-tracks",show:this.state.clicked&&this.state.artist,data:r.a.createElement(it,Object.assign({},this.state,{artist:this.state.artist}))},{value:25,className:"track-graph",show:this.state.clicked&&this.state.artist,data:r.a.createElement(ot,Object.assign({},this.state,{artist:this.state.artist}))}]},(function(e){return r.a.createElement(Xe.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)})),!this.state.clicked&&this.state.value&&r.a.createElement(Se.a,{style:{maxHeight:"100vh"},className:"dist-box-tracks",values:[{value:100,className:"top-tracks",show:!0,data:r.a.createElement(lt,Object.assign({clicked:this.state.clicked,handleChange:this.handleChange},this.state,{data:this.state.value}))}]},(function(e){return r.a.createElement(Xe.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)}))),r.a.createElement(ke.MobileView,null,r.a.createElement("form",null,r.a.createElement("label",null,r.a.createElement(Je.a,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleSubmit,"aria-label":"disabled tabs example"},r.a.createElement(Ye.a,{className:"track-tab",value:"short_term",label:"Week"}),r.a.createElement(Ye.a,{className:"track-tab",value:"medium_term",label:"Month"}),r.a.createElement(Ye.a,{className:"track-tab",value:"long_term",label:"All Time"})))),r.a.createElement(lt,Object.assign({handleChange:this.handleChange},this.state,{data:this.state.value}))))}}]),a}(r.a.Component),mt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).setUserInfo=function(e){return n.setState({userInfo:e})},console.log(e),n.state={status:"Not logged in"},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){b.a.get("/auth/user").then((function(t){return e(t.data)}),(function(e){return t(e)}))}));case 2:(t=e.sent)&&this.setUserInfo(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.userInfo;return console.log(t),r.a.createElement("div",{className:"App"},r.a.createElement("link",{rel:"stylesheet",href:"//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css"}),r.a.createElement(p.a,null,r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/login",component:function(a){return r.a.createElement(O,Object.assign({},a,{setUserInfo:e.setUserInfo,userInfo:t}))}}),r.a.createElement(f.a,{exact:!0,path:"/",component:function(a){return"Not logged in"==t||!t||"status"in t&&"Not logged in"==t.status?r.a.createElement(O,Object.assign({},a,{setUserInfo:e.setUserInfo,userInfo:t})):r.a.createElement("div",null,r.a.createElement(pe,{userInfo:t}),r.a.createElement(He,{userInfo:t}))}}),r.a.createElement(f.a,{exact:!0,path:"/logout",component:function(e){return r.a.createElement(fe,{userInfo:t})}}),r.a.createElement(f.a,{exact:!0,path:"/top_tracks"},r.a.createElement(pe,{userInfo:t}),r.a.createElement(ut,null)),r.a.createElement(f.a,{exact:!0,path:"/graphs"},r.a.createElement(pe,{userInfo:t}),r.a.createElement(Ee,null)),r.a.createElement(f.a,{exact:!0,path:"/artist/:uri",render:function(e){return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(pe,{userInfo:t}),r.a.createElement(Oe,{style:{height:"100%"},id:e.match.params}))}}),r.a.createElement(f.a,{exact:!0,path:"/top_artists"},r.a.createElement(pe,{userInfo:t}),r.a.createElement(Ke,null)),r.a.createElement(f.a,{exact:!0,path:"/top_albums"},r.a.createElement(pe,{userInfo:t}),r.a.createElement(st,null)),r.a.createElement(f.a,{exact:!0,path:"/dashboard"},r.a.createElement(pe,{userInfo:t}),r.a.createElement(He,{userInfo:t}))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(674);l.a.render(r.a.createElement(mt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[472,1,2]]]);
//# sourceMappingURL=main.33403c99.chunk.js.map