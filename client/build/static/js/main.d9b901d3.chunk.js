(this["webpackJsonpspotify-me"]=this["webpackJsonpspotify-me"]||[]).push([[0],{215:function(e,t,a){},216:function(e,t,a){},273:function(e,t,a){},274:function(e,t,a){},516:function(e,t,a){e.exports=a.p+"static/media/final.202a6d83.png"},580:function(e,t,a){e.exports=a(948)},585:function(e,t,a){},605:function(e,t,a){},825:function(e,t,a){},832:function(e,t,a){},851:function(e,t,a){},872:function(e,t,a){},931:function(e,t,a){},932:function(e,t,a){},945:function(e,t,a){},948:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(28),c=a.n(s),l=(a(585),a(14)),i=a.n(l),o=a(30),u=a(22),m=a(23),d=a(25),h=a(24),f=a(82),p=a(54),g=a(17),v=a.n(g);function b(){var e={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t,a,n){e[a]=n}));return e}var k=a(13),E=a.n(k);var y={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}};function _(e){return new Promise((function(t,a){var n;v.a.post("/auth/user",{code:(n=e,"string"!==typeof n?"":n.split("#")[0])},y).then((function(e){return t(e.data)}),(function(e){return a(e)}))}))}function w(){return new Promise((function(e,t){v.a.get("/auth/logout").then((function(t){return e(t)}),(function(e){return t(e)}))}))}var C=a(983);function j(e){return console.log(e.url),window.location=e.url,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(C.a,null),"Loading..."))}a(605);var x=a(986),O=a(516),N=a.n(O),S=a(1025),T=a(1021),M=a(65),P=a(518),D=a.n(P),F=a(485),I={global:{font:"Montserrat",alignContent:"center",align:"center",alignSelf:"center",justify:"center",gap:"large",colors:{text:{dark:"#DFE0E3",light:"#DFE0E3"}}}},R=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).redirectToSpotify=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){v.a.get("/auth/redirect-spotify").then((function(t){return e(t.data)}),(function(e){return t(e)}))}));case 2:t=e.sent,n.setState({redirectUrl:t});case 4:case"end":return e.stop()}}),e)}))),n.state={redirectUrl:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,n,r,s,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=b(),a=t.code||null,n=this.props,r=n.setUserInfo,s=n.history,c=n.userInfo,console.log(a),!c||!c.id){e.next=7;break}return s.push("/"),e.abrupt("return");case 7:if(a){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,_(a);case 12:l=e.sent,r(l);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.redirectUrl?r.a.createElement(j,{url:this.state.redirectUrl}):r.a.createElement("div",{id:"full-screen"},r.a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%"}},r.a.createElement(D.a,{style:{position:"absolute",left:"0px",backgroundSize:"cover",width:"100%",height:"100%"},params:{particles:{number:{value:100,density:{enable:!0,value_area:800}}}}})),r.a.createElement(F.a,{container:!0,className:"grid-container",alignItems:"center",justify:"center",spacing:0},r.a.createElement(F.a,{style:{marginTop:"20vh"},item:!0,xs:3,sm:3,md:3,lg:3},r.a.createElement(S.a,{elevation:"large",className:"login-card",fill:"true",size:"medium",pad:"small",align:"center",alignSelf:"center",alignContent:"center",justify:"center"},r.a.createElement(T.a,{theme:I},r.a.createElement(S.a,{style:{borderRadius:"1%",opacity:"0.9"},animation:"fadeIn",border:{size:"medium",color:"#DFE0E3"},responsive:"true",elevation:"xlarge",background:{color:"#1A1919"},basis:"medium",round:"none",pad:"medium",gap:"medium",alignContent:"center",justify:"center",alignSelf:"center",align:"center"},r.a.createElement("img",{src:N.a,style:{height:"100px"}}),r.a.createElement("h4",{style:{position:"relative",top:"-18px"},size:"100%",color:"#DFE0E3"},"Explore your Spotify listening history and ",r.a.createElement("br",null)," gain insights about your habits by logging in below."),r.a.createElement("div",{id:"login-button"},r.a.createElement(x.a,{className:"login-btn-item",style:{background:"#6fd862"},primary:!0,label:"Login with Spotify",onClick:this.redirectToSpotify},"Login with Spotify"))))))),r.a.createElement("particles",null))}}]),a}(n.Component),L=(a(825),a(1023)),A=a(1018),z=a(1016),U=a(1017),B=a(537),H=a(536),V=(r.a.Component,a(177),a(51)),W=a(227),G=a(107),J=a(3),Y=a(488),K=a(31),X=a(100),$=a(990),q=a(954),Q=a(987),Z=a(992),ee=a(991),te=a(545),ae=a.n(te),ne=a(547),re=a.n(ne),se=a(546),ce=a.n(se),le=a(955),ie=a(993),oe=a(994),ue=a(539),me=a.n(ue),de=a(540),he=a.n(de),fe=a(541),pe=a.n(fe),ge=a(542),ve=a.n(ge),be=a(544),ke=a.n(be),Ee=(a(832),a(157)),ye=a(567),_e=a(548),we=a.n(_e),Ce=a(996),je=a(1028),xe=a(123),Oe=a.n(xe),Ne=a(995),Se=a(538),Te=a(370),Me=a.n(Te),Pe=a(292),De=a.n(Pe),Fe=a(543),Ie=a.n(Fe),Re=a(64),Le=Object(Y.a)((function(e){var t;return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},paper:{background:"red"},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),background:"rgba(21,21,21,1)",color:"#DFE0E3"},drawerClose:(t={transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},Object(G.a)(t,e.breakpoints.up("sm"),{width:e.spacing(9)+1}),Object(G.a)(t,"background","rgba(21,21,21,1)"),Object(G.a)(t,"color","#DFE0E3"),t),toolbar:Object(W.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1),position:"absolute",right:"0px"},e.mixins.toolbar),customizeToolbar:{minHeight:64},content:{flexGrow:1,padding:e.spacing(3)}}})),Ae=r.a.createElement("form",{action:"/logout"},r.a.createElement("input",{variant:"outlined",type:"submit",class:"logs-user",value:"Logout"})),ze=r.a.createElement("form",{action:"/login"},r.a.createElement("input",{variant:"outlined",type:"submit",class:"logs-user",value:"Login"})),Ue=Object(Y.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400,float:"right",marginRight:"3%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function Be(e){var t,a,n=Le(),s=Ue(),c=Object(K.a)(),l=r.a.useState(!1),i=Object(V.a)(l,2),o=i[0],u=i[1],m="searchTerm"in e?e.searchTerm:"",d=r.a.useState(m),h=Object(V.a)(d,2),f=h[0],p=h[1],g=r.a.useState(!0),b=Object(V.a)(g,2),k=b[0],y=b[1],_=r.a.useState([]),w=Object(V.a)(_,2),C=w[0],x=w[1],O=r.a.useState(!1),N=Object(V.a)(O,2),S=N[0],T=N[1];e.id&&e.playback&&function(e){var t=e.uri,a=E.a.get("access_token");v.a.get("/api/trackPage/".concat(t,"/").concat(a,"/")).then((function(e){console.log(e.data),T(e.data.track.preview_url),console.log(e.data.track.preview_url)})).catch((function(e){console.log("yo"),console.log(e)}))}(e.id);var M=[{text:"Home",image:r.a.createElement(me.a,{style:{color:"#DFE0E3"}}),link:"/dashboard"},{text:"My Tracks",image:r.a.createElement(he.a,{style:{color:"#DFE0E3"}}),link:"/top_tracks"},{text:"My Albums",image:r.a.createElement(pe.a,{style:{color:"#DFE0E3"}}),link:"/top_albums"},{text:"My Artists",image:r.a.createElement(ve.a,{style:{color:"#DFE0E3"}}),link:"/top_artists"},{text:"My Favorites",image:r.a.createElement(Oe.a,{style:{color:"#DFE0E3"}}),link:"/favorites"},{text:"Recommended",image:r.a.createElement(Ie.a,{style:{color:"#DFE0E3"}}),link:"/recommended"}],P=(ke.a,function(e){e.preventDefault()}),D=function(e){console.log(e);var t=E.a.get("access_token");v.a.get("/api/track/search/".concat(e,"/").concat(t)).then((function(e){console.log(e.data),x((function(t){return{tracks:e.data.search.tracks.items,artist_info:e.data.artist_info}}))})).catch((function(e){console.log("error :("),console.log(e)}))},F=r.a.useCallback((function(e){return x(e.value)}),[]),I=Me()({palette:{type:"light",primary:De.a,secondary:De.a}});return r.a.createElement("div",{className:n.root},r.a.createElement("div",null,function(){if(e.searchTerm)return r.a.createElement(j,{url:"/search/".concat(e.searchTerm)})}()),r.a.createElement(Q.a,null),r.a.createElement(X.a,{variant:"permanent",className:Object(J.a)(n.drawer,(t={},Object(G.a)(t,n.drawerOpen,o),Object(G.a)(t,n.drawerClose,!o),t)),classes:{paper:Object(J.a)((a={},Object(G.a)(a,n.drawerOpen,o),Object(G.a)(a,n.drawerClose,!o),a))}},r.a.createElement($.a,{style:{backgroundColor:"rgba(21,21,21,1)",color:"#DFE0E3"},className:n.customizeToolbar},!o&&r.a.createElement(ee.a,{color:"inherit","aria-label":"open drawer",onClick:function(){u(!0)},edge:"start",className:Object(J.a)(n.menuButton,Object(G.a)({},n.hide,o))},r.a.createElement(ae.a,null)),r.a.createElement("div",{className:n.toolbar},o&&r.a.createElement(ee.a,{onClick:function(){u(!1)}},"rtl"===c.direction?r.a.createElement(ce.a,{style:{color:"white"}}):r.a.createElement(re.a,{style:{color:"white"}})))),r.a.createElement(Z.a,null),r.a.createElement(q.a,null,M.map((function(e,t){return r.a.createElement(le.a,{button:!0,component:"a",href:e.link,key:e.text},r.a.createElement(ie.a,null,e.image),r.a.createElement(oe.a,{primary:e.text}))}))),r.a.createElement(Z.a,null),o&&("Not logged in"===e.userInfo.status||null===e.userInfo?ze:Ae)),e.playback&&S&&r.a.createElement("div",{className:"playback"},r.a.createElement(Ne.a,{theme:I},r.a.createElement(Se.AudioPlayer,{src:S,autoPlay:!1,classNames:{loopIcon:"loop-icon",text:"text-audio"}}))),r.a.createElement("div",{class:"search-bar"},r.a.createElement(Ee.a,{autocomplete:"off",component:"form",onSubmit:P,className:s.root},r.a.createElement(ye.a,{className:s.input,placeholder:f,onKeyDown:function(t){"enter"==t.key.toLowerCase()?(y(!0),p(t.target.value+t.key),e.searchFunc(f)):"backspace"==t.key.toLowerCase()?t.target.value.length<=1?(y(!0),p("")):(y(!1),D(t.target.value),p(t.target.value)):(console.log(t.target.value),t.target.value+t.key!=""?(D(t.target.value+t.key),y(!1)):""==t.target.value?y(!0):(D(t.target.value+t.key),y(!1)),p(t.target.value+t.key))}}),r.a.createElement(Z.a,{className:s.divider,orientation:"vertical"}),r.a.createElement(ee.a,{onClick:P,className:s.iconButton,"aria-label":"search"},r.a.createElement(we.a,{onClick:P}))),r.a.createElement("div",{onChange:F,style:{width:"100%",float:"right",display:k?"none":"block"}},r.a.createElement("div",{className:"autocomplete",onChange:F},"tracks"in C&&C.tracks.length>0&&r.a.createElement(Ee.a,{className:"dropdown-container"},r.a.createElement(q.a,null,C.tracks.map((function(e,t){return r.a.createElement(le.a,{divider:!0,component:"a",href:"/track/".concat(e.id)},r.a.createElement(Ce.a,null,r.a.createElement(je.a,{alt:"Album Image",src:e.album.images[0].url})),r.a.createElement(oe.a,{primary:e.name,secondary:e.artists[0].name}),r.a.createElement(Z.a,null))}))))))))}r.a.Component;function He(e){return console.log(e),Object(n.useEffect)((function(){w()})),r.a.createElement("div",{style:{marginTop:"64px",marginLeft:"84px"}},r.a.createElement("h1",{style:{fontFamily:"Montserrat !important"}},"You are now logged out."),r.a.createElement("p",null,r.a.createElement("a",{style:{fontFamily:"Montserrat !important"},href:"/"},"Click here to return to the home page.")))}a(851);var Ve=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).username=e.data,n.chartReference=r.a.createRef(),n.token=E.a.get("access_token"),n.state={scores:[],genreLabels:[],dataset:[],data:[]},n}return Object(m.a)(a,[{key:"shouldComponentUpdate",value:function(){return 0==this.state.data.length}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.get("/api/graphs/short_term/".concat(this.token)).then((function(e){t.setState({scores:e.data.scores,genreLabels:e.data.labels,dataset:{data:e.data.scores,label:"User Data",backgroundColor:e.data.colors},data:[{labels:e.data.labels,datasets:[{data:e.data.scores,label:"User Data",backgroundColor:e.data.colors}]}]})})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.data.length>0?r.a.createElement(F.a,{container:!0,className:"grid-container"},r.a.createElement(F.a,{item:!0,xs:12,sm:6},r.a.createElement("div",{style:{backgroundColor:"none",border:"1px solid black"}},r.a.createElement(M.a,{ref:this.chartReference,data:this.state.data[0]}))),r.a.createElement(F.a,{item:!0,xs:12,sm:6},r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement(M.d,{ref:this.chartReference,data:this.state.data[0]})))):r.a.createElement("div",null)}}]),a}(r.a.Component),We=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).logout=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:e.sent.status;case 4:case"end":return e.stop()}}),e)}))),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,t.userInfo,t.history,console.log(this.props);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=r.a.createElement(Ve,{data:this.token});return r.a.createElement("div",null,r.a.createElement("h1",null,"Graphs"),e)}}]),a}(r.a.Component),Ge=(a(352),a(354),a(355),a(356),a(223)),Je=a.n(Ge),Ye=(a(872),a(1e3)),Ke=a(115),Xe=(a(357),a(1006)),$e=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n.chartReference=r.a.createRef(),console.log(n.props),n.onClose=n.props.onClose,console.log(n.props.onClose),n.artist_uri=n.props.id.uri,n.token=E.a.get("access_token"),n.responsive={desktop:{breakpoint:{max:3e3,min:1024},items:3,paritialVisibilityGutter:60},tablet:{breakpoint:{max:1024,min:464},items:2,paritialVisibilityGutter:50},mobile:{breakpoint:{max:464,min:0},items:1,paritialVisibilityGutter:30}},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.get("/api/artist/".concat(this.artist_uri,"/").concat(this.token)).then((function(e){console.log(e.data);var a=e.data.artist_info,n=e.data.albums;console.log({external_url:a.external_urls.spotify,followers:a.followers.total,genres:a.genres,images:a.images,name:a.name,popularity:a.popularity,albums:n.items,genre_data:e.data.genre_data,dataset:{data:e.data.genre_data.scores,labels:e.data.genre_data.labels,backgroundColor:e.data.genre_data.colors},data:[{labels:e.data.genre_data.labels,datasets:[{data:e.data.genre_data.scores,labels:e.data.genre_data.labels,backgroundColor:e.data.genre_data.colors}]}]}),t.setState({external_url:a.external_urls.spotify,followers:a.followers.total,genres:a.genres,images:a.images,name:a.name,popularity:a.popularity,albums:n.items,genre_data:e.data.genre_data,dataset:{data:e.data.genre_data.scores,labels:e.data.genre_data.labels,backgroundColor:["rgba(0,0,0,0.5)"]},data:[{labels:e.data.genre_data.labels,datasets:[{data:e.data.genre_data.scores,labels:e.data.genre_data.labels,backgroundColor:["rgba(90,240,159,0.5)"]}]}]}),console.log(t.state)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleClose",value:function(){this.onClose()}},{key:"render",value:function(){var e=this;if("external_url"in this.state){var t={autoplay:!0,dots:!1,infinite:!0,slidesToShow:5,slidesToScroll:1,speed:2e3,autoplaySpeed:0};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.BrowserView,{style:{height:"100%"}},r.a.createElement(F.a,{style:{height:"100%",position:"relative",left:"0px",width:"100%"},container:!0,className:"grid-container"},r.a.createElement(F.a,{style:{height:"100%"},item:!0,sm:10},r.a.createElement(Ye.a,{className:"artist-card"},r.a.createElement(F.a,{container:!0,className:"artist-top-container"},r.a.createElement(F.a,{style:{height:"100%"},item:!0,sm:6},r.a.createElement("div",{style:{height:"100%"},className:"artist-img-container"},r.a.createElement("a",{href:this.state.external_url},r.a.createElement("img",{className:"artist-img",src:this.state.images[0].url})))),r.a.createElement(F.a,{style:{height:"100%"},item:!0,sm:6},r.a.createElement("div",{className:"artist-info"},r.a.createElement(ee.a,{className:"exit-artist-modal",onClick:function(){return e.handleClose()}},r.a.createElement(Xe.a,{onClick:function(){return e.handleClose()},className:"fa fa-times"})),r.a.createElement("div",{className:"artist-name-container"},r.a.createElement(Ke.a,{className:"artist-name",style:{fontFamily:"Montserrat"},gutterBottom:!0,variant:"h3",component:"h3"},this.state.name)),r.a.createElement("div",{className:"genre-doughnut"},r.a.createElement(M.e,{ref:this.chartReference,data:this.state.data[0],options:{rotation:Math.PI,circumference:Math.PI,title:{display:!0,position:"center",text:"Upcoming Meetings"},scale:{ticks:{display:!1},yAxis:{display:!1},pointLabels:{fontSize:16,fontColor:"#111111",fontFamily:"'Montserrat','Roboto'"}},legend:{display:!1},radius:{fontSize:24}}}))))),r.a.createElement(F.a,{container:!0,alignItems:"center",justify:"center"},r.a.createElement(F.a,{style:{height:"100%"},item:!0,sm:11},r.a.createElement("div",null,r.a.createElement(Ee.a,{className:"carousel-bgd",elevation:3},r.a.createElement(Je.a,t,this.state.albums.map((function(e){return r.a.createElement("img",{className:"album-carousel-item",src:e.images[0].url})}))))))))))),r.a.createElement(Re.MobileView,null,r.a.createElement(F.a,{container:!0,className:"grid-container"},r.a.createElement(F.a,{item:!0,xs:12},r.a.createElement("div",{className:"artist-img"},r.a.createElement("a",{href:this.state.external_url},r.a.createElement("img",{src:this.state.images[0].url,height:this.state.images[1].height,width:this.state.images[1].width})))),r.a.createElement("p",null,this.state.followers))))}return r.a.createElement("p",null)}}]),a}(r.a.Component),qe=a(1027),Qe=a(1019),Ze=a(1024);a(215);function et(e){e.preventDefault(),window.location="/top_tracks"}function tt(e){console.log(e.data);var t=Object(n.useState)([]),a=Object(V.a)(t,2),s=a[0],c=a[1],l=E.a.get("access_token");return Object(n.useEffect)((function(){v.a.get("/api/user/".concat(e.data,"/").concat(l,"/15/")).then((function(e){console.log(e.data.top_tracks),c(e.data.top_tracks)})).catch((function(e){console.log("yo"),console.log(e)}))}),[e.data]),r.a.createElement("div",null,r.a.createElement("h2",{class:"list-title",style:{marginTop:"10px"}},"Top Tracks"),r.a.createElement(Qe.a,{size:"mini"},s.map((function(e){return r.a.createElement(le.a,null,r.a.createElement(Ce.a,null,r.a.createElement(je.a,{alt:"Image",src:e.image})),r.a.createElement(oe.a,{primary:e.track_name,secondary:e.artist}))}))),r.a.createElement(Ze.a,{primary:!0,content:"View more...",onClick:et}))}var at=a(1001),nt=a(1003);function rt(e){var t=e.data;E.a.get("access_token");return console.log(t),r.a.createElement("div",{class:"list-title",style:{height:"100%"}},r.a.createElement(nt.a,{component:"img",alt:"ProfileImage",height:"300",style:{objectFit:"cover",height:"80%"},image:t.image_url,title:t.username}),r.a.createElement(at.a,null,r.a.createElement(Ke.a,{gutterBottom:!0,variant:"h5",component:"h2",class:"list-title"},t.username.slice(0,1).toUpperCase()+t.username.slice(1)),r.a.createElement(Ke.a,{style:{position:"relative",bottom:"10px"},component:"p",class:"list-title"},"Followers: ",t.followers.total)))}a(562);function st(e){e.preventDefault(),window.location="/top_artists"}function ct(e){console.log(e.data);var t=Object(n.useState)([]),a=Object(V.a)(t,2),s=a[0],c=a[1],l=E.a.get("access_token");return Object(n.useEffect)((function(){v.a.get("/api/user_artists/".concat(e.data,"/").concat(l,"/15/")).then((function(e){console.log(e.data),c(e.data.top_artists)})).catch((function(e){console.log("error :("),console.log(e)}))}),[e.data]),r.a.createElement("div",null,r.a.createElement("h2",{class:"list-title",style:{marginTop:"10px"}},"Top Artists"),r.a.createElement(Qe.a,{size:"mini"},s.map((function(e){return r.a.createElement(le.a,null,r.a.createElement(Ce.a,null,r.a.createElement(je.a,{alt:"Image",src:e.image})),r.a.createElement(oe.a,{primary:e.artist_name}))}))),r.a.createElement(Ze.a,{primary:!0,content:"View more...",onClick:st}))}function lt(e){e.data;var t=e.range,a=e.chart,n=r.a.createRef(),s=e.mobile;if("short"==e.range)e=[{labels:e.data.short_term_genres.slice(0,5),datasets:[{data:e.data.short_genre_scores.slice(0,5),labels:e.data.short_term_genres.slice(0,5),backgroundColor:"doughnut"==a?["#f1a5ba","#f5b565","#fbd981","#93dcdc","#6cb8ee"]:"rgba(108, 184, 238,0.6)"}]}];else if("long"==e.range)e=[{labels:e.data.long_term_genres.slice(0,5),datasets:[{data:e.data.long_genre_scores.slice(0,5),labels:e.data.long_term_genres.slice(0,5),backgroundColor:"doughnut"==a?["#f1a5ba","#f5b565","#fbd981","#93dcdc","#6cb8ee"]:"rgba(108, 184, 238,0.6)"}]}];E.a.get("access_token");var c={short:"Most Recent Genres",long:"All Time Genres"}[t];return r.a.createElement("div",{style:{height:"25vh"}},"doughnut"==a&&r.a.createElement(M.a,{style:{height:"25vh"},ref:n,data:e[0],options:{title:{display:!0,text:c,fontFamily:"Montserrat",fontSize:"18"},legend:{display:!s},responsive:!s}}),"radar"==a&&r.a.createElement(M.e,{style:{height:"25vh"},ref:n,data:e[0],options:{scale:{angleLines:{display:!1},ticks:{suggestedMin:0,suggestedMax:0,display:!1}},title:{display:!0,text:c,fontFamily:"Montserrat",fontSize:"18"},legend:{position:"bottom",display:!1},responsive:!s}}))}var it=a(1004),ot=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=E.a.get("access_token"),v.a.get("/api/user_info/".concat(t,"/")).then((function(e){console.log(e.data),a.setState(e.data[0])})).catch((function(e){console.log("yo"),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){this.props.userInfo;return r.a.createElement("div",{style:{overflow:"hidden",marginTop:"2vh",marginLeft:"84px",width:"92%"}},r.a.createElement(Re.BrowserView,null,this.state.username&&r.a.createElement(T.a,{style:{overflow:"hidden",width:"100%",backgroundColor:"#EBEBEB"},full:!0},r.a.createElement(qe.a,{style:{overflow:"hidden"},margin:"xsmall",gap:"none",fill:!0,values:[{value:30,color:"white",overflow:!1,title:"Short term genres",data:r.a.createElement(lt,{mobile:!1,data:this.state,chart:"doughnut",range:"short"})},{value:30,color:"white",overflow:!1,title:"Long term genres",data:r.a.createElement(lt,{mobile:!1,data:this.state,chart:"radar",range:"long"})},{value:30,color:"white",overflow:!1,title:"",data:r.a.createElement(rt,{data:this.state})},{value:25,color:"white",overflow:!0,data:r.a.createElement(tt,{data:"long_term"})},{value:25,color:"white",overflow:!0,data:r.a.createElement(ct,{data:"long_term"})}]},(function(e){return r.a.createElement(Ye.a,{width:"100%",height:"100%",style:{backgroundColor:"white",overflow:e.overflow?"scroll":"hidden"},className:"userinfo-card"},e.data)}))),!this.state.username&&r.a.createElement("div",{class:"loading"},r.a.createElement(it.a,null))),r.a.createElement(Re.MobileView,null,this.state.username&&r.a.createElement("div",{style:{width:"80%"}},r.a.createElement(Ye.a,{style:{backgroundColor:"white"},className:"userinfo-card"},r.a.createElement(rt,{data:this.state})),r.a.createElement(Ye.a,{height:"25vh",style:{backgroundColor:"white",height:"25vh"},className:"userinfo-card"},r.a.createElement(lt,{height:"25vh",mobile:!0,style:{height:"25vh"},data:this.state,chart:"doughnut",range:"short"})),r.a.createElement(Ye.a,{style:{backgroundColor:"white"},className:"userinfo-card"},r.a.createElement(lt,{data:this.state,mobile:!0,chart:"radar",range:"long"})))))}}]),a}(r.a.Component),ut=a(93);a(273);function mt(e){console.log(e.data);var t=Object(n.useState)([]),a=Object(V.a)(t,2),s=a[0],c=a[1],l=null!=e.handleChange,i=e.clicked?3:2,o=E.a.get("access_token");return Object(n.useEffect)((function(){v.a.get("/api/user_artists/".concat(e.data,"/").concat(o,"/50/")).then((function(e){console.log(e.data),c(e.data.top_artists)})).catch((function(e){console.log("error :("),console.log(e)}))}),[e.data]),r.a.createElement("div",null,r.a.createElement(F.a,{container:!0,className:"grid-container",alignItems:"center",justify:"center",spacing:0},s.map((function(t,a){return r.a.createElement(F.a,{item:!0,xs:6,sm:i},l&&r.a.createElement(Ye.a,{onClick:function(){return e.handleChange(t)},className:"topartists-card"},r.a.createElement(nt.a,{className:"topartists-img",image:t.image}),r.a.createElement(at.a,{className:"topartists-info"},r.a.createElement(Ke.a,{className:"music-title",gutterBottom:!0,variant:"h6",component:"h6"},a+1,". ",t.artist_name))))}))))}var dt=a(1022),ht=a(1009),ft=(a(509),a(374)),pt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).chartReference=r.a.createRef(),n.nextProps=n.props,n.state={value:"short_term",clicked:!1,data:[],artist:n.props.artist},n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){E.a.get("access_token");this.props!=e&&(this.nextProps=e,this.componentDidMount())}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=E.a.get("access_token"),console.log(this.nextProps),v.a.get("/api/artist/".concat(this.nextProps.artist.uri,"/").concat(t)).then((function(e){fetch=e.data,a.setState((function(e){return{clicked:!0,artist_info:fetch.info,albums:fetch.albums.items}}))})).catch((function(e){console.log("error :("),console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={autoplay:!0,dots:!1,infinite:!0,slidesToShow:3,slidesToScroll:1,speed:2e3,autoplaySpeed:0};if(this.state.artist_info){var t=this.state.artist_info.genres;return r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement(Ye.a,null,r.a.createElement(at.a,null,r.a.createElement("img",{style:{height:"250px",width:"250px",borderRadius:"100%",boxShadow:"2px 2px 5px 0.1px black"},src:this.state.artist_info.images[0].url}),r.a.createElement("h1",null,this.state.artist_info.name.toUpperCase()),r.a.createElement(F.a,{container:!0,className:"artist-grid-container"},r.a.createElement(F.a,{item:!0,sm:12},r.a.createElement("div",{class:"genre-container"},r.a.createElement("h4",null,"Genres:"),r.a.createElement("p",null,"\xa0",t.slice(0,Math.min(t.length,4)).join(", ")))),r.a.createElement(F.a,{item:!0,sm:12},r.a.createElement("div",{class:"genre-container",style:{backgroundColor:"white"}},r.a.createElement("h4",null,"Popularity: "),r.a.createElement("p",null,"\xa0",this.state.artist_info.popularity)))),r.a.createElement(Je.a,e,this.state.albums.map((function(e){return r.a.createElement(Ye.a,null,r.a.createElement("img",{className:"album-carousel-item",src:e.images[0].url}))}))))))}return r.a.createElement("div",null,r.a.createElement("h4",null,"Loading..."))}}]),a}(r.a.Component),gt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){console.log(e),n.state.artist!=e&&n.setState((function(t){return{value:t.value,clicked:!0,artist:e,artist_side:70}}))},n.handleSubmit=function(e,t){n.setState({value:t,clicked:!1,artist_side:100})},n.state={value:"short_term",artist_side:100},n.handleChange=n.handleChange.bind(Object(ut.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(ut.a)(n)),n.value="short_term",n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){this.state.value;return r.a.createElement("div",{style:{marginLeft:"30px"}},r.a.createElement(Re.BrowserView,null,r.a.createElement("div",{class:"browser-container",style:{marginLeft:"0px"}},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement(dt.a,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleSubmit,"aria-label":"disabled tabs example"},r.a.createElement(ht.a,{className:"track-tab",value:"short_term",label:"Month"}),r.a.createElement(ht.a,{className:"track-tab",value:"medium_term",label:"6 Months"}),r.a.createElement(ht.a,{className:"track-tab",value:"long_term",label:"All Time"})))),this.state.clicked&&r.a.createElement(qe.a,{values:[{value:this.state.artist_side,className:"top-tracks",show:!0,data:r.a.createElement(mt,{clicked:this.state.clicked,handleChange:this.handleChange,data:this.state.value})},{value:100-this.state.artist_side,className:"track-graph",show:this.state.clicked&&this.state.artist,data:r.a.createElement(pt,Object.assign({handleChange:this.handleChange},this.state))}]},(function(e){return r.a.createElement(S.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)})),!this.state.clicked&&r.a.createElement(qe.a,{values:[{value:100,className:"top-tracks",show:!0,data:r.a.createElement(mt,{clicked:this.state.clicked,handleChange:this.handleChange,data:this.state.value})}]},(function(e){return r.a.createElement(S.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)})))),r.a.createElement(Re.MobileView,null,r.a.createElement("div",{style:{marginTop:"0px",marginLeft:"30px"}},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement(dt.a,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleChange,"aria-label":"disabled tabs example"},r.a.createElement(ht.a,{className:"track-tab",value:"short_term",label:"Week"}),r.a.createElement(ht.a,{className:"track-tab",value:"medium_term",label:"Month"}),r.a.createElement(ht.a,{className:"track-tab",value:"long_term",label:"All Time"})))),r.a.createElement(qe.a,{values:[{value:100,className:"top-tracks",show:!0,data:r.a.createElement(mt,{clicked:this.state.clicked,handleChange:this.handleChange,data:this.state.value})}]},(function(e){return r.a.createElement(S.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)})))))}}]),a}(r.a.Component);a(216);function vt(e){var t=Object(n.useState)([]),a=Object(V.a)(t,2),s=a[0],c=a[1],l=null!=e.handleChange,i=e.scroll?"scroll":"hidden",o=e.scroll?3:2,u=E.a.get("access_token");return Object(n.useEffect)((function(){var t=!0;return v.a.get("/api/user_albums/".concat(e.data,"/").concat(u,"/50")).then((function(e){t&&(console.log(e.data),c(e.data.albums))})),function(){t=!1}}),[e.data]),r.a.createElement("div",{style:{overflow:i,height:"auto"}},r.a.createElement(F.a,{container:!0,className:"grid-container",alignItems:"center",justify:"center",spacing:0},s.map((function(t,a){return r.a.createElement(F.a,{item:!0,xs:6,sm:o,md:o,lg:o},l&&r.a.createElement(Ye.a,{onClick:function(){return e.handleChange(t)},className:"track-card"},r.a.createElement(nt.a,{className:"topalbums-img",image:t.images[0].url}),r.a.createElement(at.a,{className:"topalbums-info"},r.a.createElement(Ke.a,{className:"music-title",gutterBottom:!0,variant:"h6",component:"h6"},a+1,". ",t.name," by ",t.artists[0].name))))}))))}var bt=a(1007),kt=a(492),Et=a(1030),yt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).changeFeature=function(){var e=E.a.get("access_token");n.mounted=!0,v.a.get("/api/album/".concat(n.nextProps.artist.uri,"/").concat(e)).then((function(e){return n.mounted&&(fetch=e.data,n.chartReference=r.a.createRef(),fetch.scores[n.state.feature].length>1?n.setState((function(e){return{clicked:!0,labels:fetch.labels,album_info:fetch.album_info,data:[{labels:fetch.names,datasets:[{data:fetch.scores[e.feature],labels:e.feature,fill:!0,backgroundColor:"rgba(75,192,192,0.2)",borderColor:"rgba(75,192,192,1)"}]}]}})):n.setState((function(e){return{clicked:!0,album_info:fetch.album_info,data:null}}))),console.log(n.state),function(){n.mounted=!1}})).catch((function(e){console.log("error :("),console.log(e)}))},n.handleChange=function(e){n.setState({feature:e.target.value}),n.changeFeature()},n.useStyles=Object(Y.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),console.log(n.props),n.nextProps=n.props,n.chartReference=r.a.createRef(),n.mounted=!1,n.state={value:"short_term",clicked:!1,data:[],artist:n.props.artist,feature:"valence",classes:null},n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){E.a.get("access_token");this.props.artist.uri!=e.artist.uri&&(this.nextProps=e,this.componentDidMount())}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=E.a.get("access_token"),this.mounted=!0,v.a.get("/api/album/".concat(this.nextProps.artist.uri,"/").concat(t)).then((function(e){return a.mounted&&(fetch=e.data,console.log(fetch.labels),a.chartReference=r.a.createRef(),fetch.scores[a.state.feature].length>1?a.setState((function(e){return{clicked:!0,labels:fetch.labels,album_info:fetch.album_info,data:[{labels:fetch.names,datasets:[{data:fetch.scores[e.feature],labels:e.feature,fill:!0,backgroundColor:"rgba(75,192,192,0.2)",borderColor:"rgba(75,192,192,1)"}]}]}})):a.setState((function(e){return{clicked:!0,album_info:fetch.album_info,data:null}}))),console.log(a.state),function(){a.mounted=!1}})).catch((function(e){console.log("error :("),console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){if(this.state.data)return r.a.createElement("div",{style:{backgroundColor:"white",marginBottom:"200px"}},r.a.createElement(kt.a,null,r.a.createElement(Et.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:this.state.feature,onChange:this.handleChange},r.a.createElement(bt.a,{value:"valence"},"Positivity"),r.a.createElement(bt.a,{value:"danceability"},"Danceability"),r.a.createElement(bt.a,{value:"energy"},"Energy"),r.a.createElement(bt.a,{value:"instrumentalness"},"Instrumentalness"),r.a.createElement(bt.a,{value:"liveness"},"Liveness"))),r.a.createElement(Ye.a,null,this.state.clicked&&this.state.data[0].datasets[0].data.length>1&&r.a.createElement(M.c,{ref:this.chartReference,data:this.state.data[0],options:{title:{display:!0,text:"".concat(this.state.labels[this.state.feature]," Score by Track"),fontSize:20,fontFamily:"Montserrat"},legend:{display:!1},scales:{yAxes:[{gridLines:{drawBorder:!1},display:!1}]},plugins:{filler:{propagate:!0}}}})));var e=this.state.album_info;return r.a.createElement(Ye.a,null,r.a.createElement(at.a,null,r.a.createElement("p",null,"Cannot construct graph for songs in ",e.name)))}}]),a}(r.a.Component),_t=a(1002),wt=a(1008),Ct=a(1020),jt=a(195),xt=a.n(jt),Ot=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).props=e,n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(Ct.a,Object.assign({elevation:6,variant:"filled"},this.props))}}]),a}(r.a.Component),Nt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).playTrack=function(e,t){e&&(e!=n.state.current&&n.state.current?(n.player.pause(),n.player.src=e,n.setState((function(t){return{clicked:!0,album_name:t.album_name,album_info:t.album_info,popularities:t.popularities,track_names:t.track_names,previews:t.previews,play:!0,current:e,username:t.username,disabled:t.disabled,notif:!1}})),n.player.play()):(n.player.src=e,t?(n.player.pause(),n.setState((function(t){return{clicked:!0,album_name:t.album_name,album_info:t.album_info,popularities:t.popularities,track_names:t.track_names,previews:t.previews,play:!1,current:e,username:t.username,disabled:t.disabled,notif:!1}}))):(n.player.play(),n.setState((function(t){return{clicked:!0,album_name:t.album_name,album_info:t.album_info,popularities:t.popularities,track_names:t.track_names,previews:t.previews,play:!0,current:e,username:t.username,disabled:t.disabled,notif:!1}})))))},n.saveTrack=function(e,t){var a=E.a.get("access_token");v.a.get("/api/track/save/".concat(e.id,"/").concat(n.state.username,"/").concat(a)).then((function(e){var a=n.state.disabled;a[t]=!0,n.setState((function(e){return{clicked:!0,album_name:e.album_name,album_info:e.album_info,popularities:e.popularities,track_names:e.track_names,previews:e.previews,play:e.play,current:e.current,username:e.username,disabled:a,notif:!0}}))})).catch((function(e){console.log(e),console.log("error :(")}))},n.favoriteTrack=function(e,t){var a=E.a.get("access_token");v.a.get("/api/save_to_db/".concat(e,"/").concat(a)).then((function(a){n.added[e]=!1;var r=n.state.favorited;r[e]=!0,n.state.disabled[t]=!0,n.setState((function(e){return{clicked:!0,album_name:e.album_name,album_info:e.album_info,popularities:e.popularities,track_names:e.track_names,previews:e.previews,play:e.play,username:e.username,disabled:e.disabled,notif:!1,favorited:r}})),console.log(n.state.favorited)})).catch((function(e){console.log(e),console.log("error :((")}))},n.unfavoriteTrack=function(e,t){var a=E.a.get("access_token");v.a.get("/api/delete_from_db/".concat(e,"/favorites/").concat(a)).then((function(a){n.added[e]=!1,n.state.favorited[e]=!1,n.state.disabled[t]=!0,n.setState((function(e){return{clicked:!0,album_name:e.album_name,album_info:e.album_info,popularities:e.popularities,track_names:e.track_names,previews:e.previews,play:e.play,username:e.username,disabled:e.disabled,notif:!1,in_favorites:n.in_favorites,favorited:n.favorited}}))})).catch((function(e){console.log("error :(")}))},n.handleClose=function(e,t){n.setState((function(e){return{clicked:!0,album_name:e.album_name,album_info:e.album_info,popularities:e.popularities,track_names:e.track_names,previews:e.previews,play:e.play,current:e.current,username:e.username,disabled:e.disabled,notif:!1}}))},n.nextProps=n.props,n.mounted=!1,n.added={},n.state={value:"short_term",clicked:!1,data:null,artist:n.props.artist,favorited:{}},n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){E.a.get("access_token");this.props!=e&&(this.nextProps=e,this.componentDidMount())}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=E.a.get("access_token"),this.mounted=!0,v.a.get("/api/album_track_info/".concat(this.nextProps.artist.id,"/").concat(t)).then((function(e){return fetch=e.data,a.mounted&&a.setState((function(e){return{clicked:!0,album_name:fetch.album_name,album_info:fetch.tracks_in_album,popularities:fetch.popularities,track_names:fetch.track_names,track_ids:fetch.ids,previews:fetch.audio,current:null,username:fetch.username,disabled:new Array(fetch.audio.length).fill(!1),notif:!1}})),function(){a.mounted=!1}})).catch((function(e){console.log("error :("),console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this;this.state.play;return this.state.album_info?r.a.createElement("div",{style:{backgroundColor:"white",overflow:"scroll"}},r.a.createElement(Ye.a,null,r.a.createElement(_t.a,{style:{fontFamily:"Montserrat !important"},title:this.state.album_name,subheader:"Tracks in Album"}),r.a.createElement(at.a,null,r.a.createElement(Qe.a,null,this.state.clicked&&this.state.track_names.map((function(t,a){return r.a.createElement(le.a,null,r.a.createElement(oe.a,{primary:t,secondary:e.state.artist.artists[0].name}),e.state.favorited[e.state.track_ids[a]]&&r.a.createElement(x.a,{onClick:function(){return e.unfavoriteTrack(e.state.track_ids[a],a)}},r.a.createElement(Oe.a,null)),!e.state.favorited[e.state.track_ids[a]]&&r.a.createElement(x.a,{onClick:function(){return e.favoriteTrack(e.state.track_ids[a],a)}},r.a.createElement(xt.a,null)),e.state.previews[a]&&r.a.createElement("div",null,r.a.createElement(x.a,{onClick:function(){return e.playTrack(e.state.previews[a],e.state.play)}},e.state.play&&e.state.current==e.state.previews[a]?"Stop":"Play")),e.state.username&&!e.state.disabled[a]&&r.a.createElement(x.a,{onClick:function(){return e.saveTrack(e.state.track_ids[a],a)}},"+"))}))))),r.a.createElement(r.a.Fragment,null,r.a.createElement("audio",{ref:function(t){return e.player=t}})),r.a.createElement(wt.a,{open:this.state.notif,autoHideDuration:2e3,onClose:this.handleClose},r.a.createElement(Ot,{onClose:this.handleClose,severity:"success"},"Track Added to library!"))):r.a.createElement("div",null,"Loading...")}}]),a}(r.a.Component),St=(r.a.Component,function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.state.artist&&n.state.artist.id==e.id?n.setState((function(t){return{value:t.value,clicked:!0,artist:e,sidePane:50}})):(n.setState((function(t){return{value:t.value,clicked:!0,artist:e,sidePane:50}})),n.render())},n.changeTab=function(e,t){e.preventDefault(),n.setState({value:t})},n.handleSubmit=function(e,t){console.log(e),console.log(t),e.preventDefault(),n.setState({value:t})},n.state={value:"short_term",sidePane:100},n.handleChange=n.handleChange.bind(Object(ut.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(ut.a)(n)),n.value="short_term",console.log("YEEEEEE"),n}return Object(m.a)(a,[{key:"render",value:function(){this.state.value;return r.a.createElement("div",{style:{marginLeft:"30px"},class:"browser-container"},r.a.createElement(Re.BrowserView,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement(dt.a,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleSubmit,"aria-label":""},r.a.createElement(ht.a,{className:"track-tab",value:"short_term",label:"Month"}),r.a.createElement(ht.a,{className:"track-tab",value:"medium_term",label:"6 Months"}),r.a.createElement(ht.a,{className:"track-tab",value:"long_term",label:"All Time"})))),r.a.createElement("div",null,100!=this.state.sidePane&&r.a.createElement(qe.a,{style:{maxHeight:"100vh"},className:"dist-box-albums",values:[{value:50,className:"top-albums",show:!0,data:r.a.createElement(vt,{scroll:100!=this.state.sidePane,handleChange:this.handleChange,data:this.state.value})},{value:25,className:"album-graph",show:this.state.clicked&&this.state.artist,data:r.a.createElement(yt,Object.assign({style:{maxHeight:"35vh"}},this.state,{artist:this.state.artist}))},{value:25,className:"related-albums",show:this.state.clicked&&this.state.artist,data:r.a.createElement(Nt,Object.assign({style:{maxHeight:"35vh"}},this.state))}]},(function(e){return r.a.createElement(S.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)})),100==this.state.sidePane&&r.a.createElement(qe.a,{style:{maxHeight:"100vh"},className:"dist-box-albums",values:[{value:this.state.sidePane,className:"top-albums",show:!0,data:r.a.createElement(vt,{handleChange:this.handleChange,data:this.state.value})}]},(function(e){return r.a.createElement(S.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)})))),r.a.createElement(Re.MobileView,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement(dt.a,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleSubmit,"aria-label":"disabled tabs example"},r.a.createElement(ht.a,{className:"track-tab",value:"short_term",label:"Week"}),r.a.createElement(ht.a,{className:"track-tab",value:"medium_term",label:"Month"}),r.a.createElement(ht.a,{className:"track-tab",value:"long_term",label:"All Time"})))),r.a.createElement(vt,{handleChange:this.handleChange,data:this.state.value})))}}]),a}(r.a.Component)),Tt=(a(931),a(1010)),Mt=a(1011),Pt=a(1012),Dt=a(1013),Ft=a(1014),It=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),n=t.call(this,e),console.log(e.id.term),n.state={id:e.id.term,tracks:[],sort_by:"track"},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=E.a.get("access_token"),v.a.get("/api/track/search/".concat(this.state.id,"/").concat(t)).then((function(e){console.log(e.data),a.setState((function(t){return{id:t.id,tracks:e.data.search.tracks.items,artist_info:e.data.artist_info}}))})).catch((function(e){console.log("error :("),console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{position:"relative",marginLeft:"84px",width:"90%"}},r.a.createElement("h1",{className:"search-header"},"Search Results"),r.a.createElement(Pt.a,{style:{marginLeft:"10px"},component:Ee.a},r.a.createElement(Tt.a,{"aria-label":"simple table"},r.a.createElement(Dt.a,null,r.a.createElement(Ft.a,null,r.a.createElement(Mt.a,{size:"medium",className:"table-header",classes:"table-header",align:"left"},"Track Name"),r.a.createElement(Mt.a,{size:"medium",className:"table-header",classes:"table-header",align:"left"},"Artist"),r.a.createElement(Mt.a,{size:"medium",className:"table-header",classes:"table-header",align:"right"},"Duration"),r.a.createElement(Mt.a,{size:"medium",className:"table-header",classes:"table-header",align:"right"},"Popularity"),r.a.createElement(Mt.a,{size:"medium",className:"table-header",classes:"table-header",align:"center"},"Genre"))),this.state.tracks&&this.state.tracks.map((function(t,a){return r.a.createElement(Ft.a,{key:t.name,component:"a",href:"/track/".concat(t.id)},r.a.createElement(Mt.a,{className:"table-results",component:"th",scope:"row"},r.a.createElement("div",{className:"avatar-head"},r.a.createElement(je.a,{className:"table-avatar",src:t.album.images.length>0?t.album.images[0].url:""}),"\u2003 ",r.a.createElement("h6",{className:"track-name"},t.name))),r.a.createElement(Mt.a,{className:"table-results",align:"left"},t.artists[0].name),r.a.createElement(Mt.a,{className:"table-results",align:"right"},Math.trunc(t.duration_ms/6e4)+":"+Math.trunc(60*(t.duration_ms/6e4-Math.trunc(t.duration_ms/6e4)))),r.a.createElement(Mt.a,{className:"table-results",align:"right"},t.popularity),r.a.createElement(Mt.a,{className:"table-results",align:"center"},e.state.artist_info[a].genres.join(", ")))})))))}}]),a}(r.a.Component),Rt=(a(274),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleHover=function(e,t){var a=n.state.hovering;a[e]=t,n.setState((function(e){return{value:e.value,tracks:e.tracks,hovering:a}}))},console.log(e),n.k=50,n.data=n.props.data,n.state={value:n.props.data,clicked:n.props.clicked,hovering:new Array(n.k).fill(!1)},n.isCardFunction=null!=n.props.handleChange,n.spacer=n.props.clicked?4:2,n.scroll=n.props.clicked?"scroll":"hidden",n.hovering=!1,n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=E.a.get("access_token"),v.a.get("/api/user/".concat(this.props.data,"/").concat(t,"/").concat(this.k)).then((function(e){a.setState((function(t){return{value:a.state.value,tracks:e.data.top_tracks,hovering:t.hovering}}))})).catch((function(e){console.log("error :("),console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.value!=this.props.value&&(a=E.a.get("access_token"),v.a.get("/api/user/".concat(this.props.data,"/").concat(a,"/").concat(this.k)).then((function(e){n.setState((function(t){return{value:t.value,tracks:e.data.top_tracks,hovering:t.hovering}}))})).catch((function(e){console.log("error :("),console.log(e)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return"tracks"in this.state?r.a.createElement("div",{style:{height:"auto",overflow:this.scroll}},r.a.createElement(F.a,{container:!0,className:"grid-container",alignItems:"center",justify:"center",spacing:0},this.state.tracks.map((function(t,a){return r.a.createElement(F.a,{item:!0,xs:6,sm:e.spacer,md:e.spacer,lg:e.spacer},e.isCardFunction&&r.a.createElement(Ye.a,{onMouseEnter:function(){return e.handleHover(a,!0)},onMouseLeave:function(){return e.handleHover(a,!1)},onClick:function(){return e.props.handleChange(t)},className:"track-card"},r.a.createElement(nt.a,{className:"track-img",image:t.image})))})))):r.a.createElement("div",null,"Loading...")}}]),a}(r.a.Component)),Lt=a(559),At=a.n(Lt),zt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).props=e,n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(Ct.a,Object.assign({elevation:6,variant:"filled"},this.props))}}]),a}(r.a.Component),Ut=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).playTrack=function(e,t){e&&(e!=n.state.current&&n.state.current?(n.player.pause(),n.player.src=e,n.setState((function(t){return{clicked:t.clicked,artists:t.artists,track_names:t.track_names,images:t.images,previews:t.previews,play:!0,current:e,track_ids:t.track_ids,username:t.username,disabled:t.disabled,notif:!1,in_favorites:t.in_favorites}})),n.player.play()):(n.player.src=e,t?(n.player.pause(),n.setState((function(e){return{clicked:e.clicked,artists:e.artists,track_names:e.track_names,images:e.images,previews:e.previews,play:!1,current:e.url,track_ids:e.track_ids,username:e.username,disabled:e.disabled,in_favorites:e.in_favorites,notif:!1}}))):(n.player.play(),n.setState((function(t){return{clicked:t.clicked,artists:t.artists,track_names:t.track_names,images:t.images,previews:t.previews,play:!0,current:e,track_ids:t.track_ids,username:t.username,disabled:t.disabled,in_favorites:t.in_favorites,notif:!1}})))))},n.saveTrack=function(e,t){var a=E.a.get("access_token");v.a.get("/api/track/save/".concat(e,"/").concat(n.state.username,"/").concat(a)).then((function(a){n.added[e]=!0;var r=n.state.disabled;r[t]=!0,n.setState((function(e){return{clicked:e.clicked,artists:e.artists,track_names:e.track_names,images:e.images,previews:e.previews,play:e.play,current:e.url,track_ids:e.track_ids,username:e.username,disabled:r,in_favorites:e.in_favorites,favorited:n.state.favorited,notif:!0}}))})).catch((function(e){console.log("error :(")}))},n.favoriteTrack=function(e,t){var a=E.a.get("access_token");v.a.get("/api/save_to_db/".concat(e,"/").concat(a)).then((function(a){n.added[e]=!1;var r=n.state.favorited;r[e]=!0;var s=n.state.disabled;s[t]=!0,n.setState((function(e){return{clicked:e.clicked,artists:e.artists,track_names:e.track_names,images:e.images,previews:e.previews,play:e.play,current:e.url,track_ids:e.track_ids,username:e.username,disabled:s,in_favorites:n.in_favorites,favorited:r,notif:!1}})),console.log(n.state.favorited)})).catch((function(e){console.log(e),console.log("error :((")}))},n.unfavoriteTrack=function(e,t){var a=E.a.get("access_token");v.a.get("/api/delete_from_db/".concat(e,"/favorites/").concat(a)).then((function(a){n.added[e]=!1,n.state.favorited[e]=!1;var r=n.state.disabled;r[t]=!0,n.setState((function(e){return{clicked:e.clicked,artists:e.artists,track_names:e.track_names,images:e.images,previews:e.previews,play:e.play,current:e.url,track_ids:e.track_ids,username:e.username,disabled:r,in_favorites:n.in_favorites,notif:!1}}))})).catch((function(e){console.log("error :(")}))},n.handleClose=function(e,t){n.setState((function(e){return{clicked:e.clicked,artists:e.artists,track_names:e.track_names,images:e.images,previews:e.previews,play:!1,current:e.url,track_ids:e.track_ids,username:e.username,disabled:e.disabled,in_favorites:e.in_favorites,notif:!1}}))},n.added={},n.chartReference=r.a.createRef(),n.nextProps=n.props,n.state={value:"short_term",clicked:!1,data:null,artist:n.props.artist,play:!1,notif:!1,favorited:{}},n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){E.a.get("access_token");this.props!=e&&(this.nextProps=e,this.componentDidMount())}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=E.a.get("access_token"),v.a.get("/api/related_tracks/".concat(this.nextProps.artist.id,"/").concat(t)).then((function(e){fetch=e.data,a.setState({clicked:!0,artists:fetch.artists,track_names:fetch.song_names,images:fetch.images,previews:fetch.audio,current:null,track_ids:fetch.ids,username:fetch.username,disabled:new Array(fetch.audio.length).fill(!1),notif:!1,in_favorites:fetch.in_favorites})})).catch((function(e){console.log("error :("),console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"refresh_related",value:function(){var e=this,t=E.a.get("access_token");v.a.get("/api/related_tracks/".concat(this.nextProps.artist.id,"/").concat(t)).then((function(t){fetch=t.data,e.setState({clicked:!0,artists:fetch.artists,track_names:fetch.song_names,images:fetch.images,previews:fetch.audio,current:null,track_ids:fetch.ids,username:fetch.username,disabled:new Array(fetch.audio.length).fill(!1),notif:!1})})).catch((function(e){console.log("error :("),console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{backgroundColor:"white",overflow:"scroll"}},"header"in this.props&&this.props.header&&r.a.createElement("h2",{style:{fontWeight:"300",marginTop:"20px",marginBottom:"0px"}},"Related Tracks"),"tableHeader"in this.props&&this.props.tableHeader&&r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("h3",{style:{float:"left",marginTop:"2vh",marginLeft:"2vh",fontFamily:"Montserrat"}},"Track Name",r.a.createElement(ee.a,{onClick:function(){e.refresh_related()},"aria-label":"refresh"},r.a.createElement(At.a,null))),r.a.createElement("h3",{style:{float:"right",marginRight:"9vh",fontFamily:"Montserrat"}},"Preview")),r.a.createElement(Qe.a,null,this.state.clicked&&this.state.artists.map((function(t,a){return r.a.createElement(le.a,null,r.a.createElement("a",{style:{position:"relative",width:"100%",display:"inline-flex"},href:"/track/".concat(e.state.track_ids[a])},r.a.createElement(Ce.a,null,r.a.createElement(je.a,{alt:"Image",src:e.state.images[a]})),r.a.createElement(oe.a,{primary:e.state.track_names[a],secondary:e.state.artists[a]})),e.state.favorited[e.state.track_ids[a]]&&r.a.createElement(x.a,{onClick:function(){return e.unfavoriteTrack(e.state.track_ids[a],a)}},r.a.createElement(Oe.a,null)),!e.state.favorited[e.state.track_ids[a]]&&r.a.createElement(x.a,{onClick:function(){return e.favoriteTrack(e.state.track_ids[a],a)}},r.a.createElement(xt.a,null)),e.state.previews[a]&&r.a.createElement("div",null,r.a.createElement(x.a,{onClick:function(){return e.playTrack(e.state.previews[a],e.state.play)}},e.state.play&&e.state.current==e.state.previews[a]?"Stop":"Play")),e.state.username&&!e.state.disabled[a]&&r.a.createElement(x.a,{onClick:function(){return e.saveTrack(e.state.track_ids[a],a)}},"+"))}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("audio",{ref:function(t){return e.player=t}})),r.a.createElement(wt.a,{open:this.state.notif,autoHideDuration:2e3,onClose:this.handleClose},r.a.createElement(zt,{onClose:this.handleClose,severity:"success"},"Track Added to library!")))}}]),a}(r.a.Component),Bt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),n=t.call(this,e),console.log(n.props),n.chartReference=r.a.createRef(),n.nextProps=n.props,n.state={value:"short_term",clicked:!1,data:null,artist:n.props.artist},n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){E.a.get("access_token");this.props!=e&&(this.nextProps=e,this.componentDidMount())}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=E.a.get("access_token"),console.log(this.nextProps.artist.artist),v.a.get("/api/track/".concat(this.nextProps.artist.uri,"/").concat(t)).then((function(e){fetch=e.data,console.log(fetch),a.setState({clicked:!0,dataset:{data:fetch.scores,labels:fetch.labels,backgroundColor:fetch.colors},data:[{labels:fetch.labels,datasets:[{data:fetch.scores,labels:fetch.labels,backgroundColor:fetch.colors}]}]}),a.render()})).catch((function(e){console.log("error :("),console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement(Ye.a,null,this.state.clicked&&r.a.createElement(Ye.a,{class:"track-chart-container"},r.a.createElement(M.b,{ref:this.chartReference,data:this.state.data[0],options:{legend:{display:!1},title:{display:!0,text:"Feature Scores",fontFamily:"Montserrat",fontSize:"18"}}})))))}}]),a}(r.a.Component),Ht=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.state.artist!=e&&n.setState((function(t){return{value:t.value,clicked:!0,artist:e}}),(function(){return console.log(n.state.artist.artist)}))},n.handleSubmit=function(e,t){n.setState((function(e){return{value:t,clicked:e.clicked,artist:e.artist}}))},n.state={value:"short_term",clicked:!1},n.handleChange=n.handleChange.bind(Object(ut.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(ut.a)(n)),n.onClick=n.props.onClick,n.showGraph=!1,n.graphTrack=null,n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{style:{marginLeft:"30px"},class:"browser-container"},r.a.createElement(Re.BrowserView,null,r.a.createElement("form",null,r.a.createElement("label",null,r.a.createElement(dt.a,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleSubmit,"aria-label":"disabled tabs example"},r.a.createElement(ht.a,{className:"track-tab",value:"short_term",label:"Month"}),r.a.createElement(ht.a,{className:"track-tab",value:"medium_term",label:"6 Months"}),r.a.createElement(ht.a,{className:"track-tab",value:"long_term",label:"All Time"})))),this.state.clicked&&this.state.value&&r.a.createElement(qe.a,{style:{maxHeight:"100vh"},className:"dist-box-tracks",values:[{value:50,className:"top-tracks",show:!0,data:r.a.createElement(Rt,Object.assign({clicked:this.state.clicked},this.state,{handleChange:this.handleChange,data:this.state.value}))},{value:25,className:"related-tracks",show:this.state.clicked&&this.state.artist,data:r.a.createElement(Ut,Object.assign({},this.state,{header:!0,artist:this.state.artist}))},{value:25,className:"track-graph",show:this.state.clicked&&this.state.artist,data:r.a.createElement(Bt,Object.assign({},this.state,{artist:this.state.artist}))}]},(function(e){return r.a.createElement(S.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)})),!this.state.clicked&&this.state.value&&r.a.createElement(qe.a,{style:{maxHeight:"100vh"},className:"dist-box-tracks",values:[{value:100,className:"top-tracks",show:!0,data:r.a.createElement(Rt,Object.assign({clicked:this.state.clicked,handleChange:this.handleChange},this.state,{data:this.state.value}))}]},(function(e){return r.a.createElement(S.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)}))),r.a.createElement(Re.MobileView,null,r.a.createElement("form",null,r.a.createElement("label",null,r.a.createElement(dt.a,{value:this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleSubmit,"aria-label":"disabled tabs example"},r.a.createElement(ht.a,{className:"track-tab",value:"short_term",label:"Week"}),r.a.createElement(ht.a,{className:"track-tab",value:"medium_term",label:"Month"}),r.a.createElement(ht.a,{className:"track-tab",value:"long_term",label:"All Time"})))),r.a.createElement(Rt,Object.assign({handleChange:this.handleChange},this.state,{data:this.state.value}))))}}]),a}(r.a.Component),Vt=a(375),Wt=a.n(Vt),Gt=a(560),Jt=a.n(Gt),Yt=(a(932),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).userHasPlaylist=function(){var e=E.a.get("access_token");v.a.get("/api/user_has_playlist/".concat(e)).then((function(e){fetch=e.data,console.log(e.data),n.setState({hasPlaylist:fetch.hasPlaylist})})).catch((function(e){console.log("error :("),console.log(e)}))},n.getUserPlaylist=function(){var e=E.a.get("access_token");v.a.get("/api/get_favorites_playlist_url/".concat(e)).then((function(e){fetch=e.data,console.log(e.data),n.setState({playlistUrl:fetch.url})})).catch((function(e){console.log("error :("),console.log(e)}))},n.deleteFavoritesPlaylist=function(){var e=E.a.get("access_token");v.a.get("/api/delete_favorites_playlist/".concat(e)).then((function(e){n.setState({hasPlaylist:!1})})).catch((function(e){console.log("error :("),console.log(e)}))},n.createFavoritesPlaylist=function(){var e=E.a.get("access_token");v.a.get("/api/create_playlist/".concat(e)).then((function(e){n.setState({hasPlaylist:!0,playlistId:e.data.playlist_id,playlistUrl:n.getUserPlaylist()})})).catch((function(e){console.log("error :("),console.log(e)}))},n.clearFavorites=function(){var e=E.a.get("access_token");v.a.get("/api/clear_favorites/".concat(e)).then((function(e){n.setState({})})).catch((function(e){console.log("error :("),console.log(e)}))},n.clearFavsHelper=function(){n.clearFavorites(),window.location.reload()},n.nextProps=n.props,n.state={hasPlaylist:!1,playlistId:null,playlistUrl:null},n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){E.a.get("access_token");this.props!=e&&(this.nextProps=e,this.componentDidMount())}},{key:"componentDidMount",value:function(){this.userHasPlaylist(),this.getUserPlaylist()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{id:"black-buttons",align:"right",style:{marginRight:"20px"}},!this.state.hasPlaylist&&r.a.createElement(x.a,{onClick:function(){return e.createFavoritesPlaylist()},variant:"contained",className:"black-buttons",style:{color:"#DFE0E3",backgroundColor:"#313331"}}," ",r.a.createElement(Wt.a,{color:"white"}),"Sync to Spotify Playlist"),this.state.hasPlaylist&&r.a.createElement(x.a,{style:{color:"#DFE0E3",backgroundColor:"#313331"},onClick:function(){return window.open(e.state.playlistUrl,"_blank")},variant:"contained"},"View Playlist"),this.state.hasPlaylist&&r.a.createElement(x.a,{onClick:function(){return e.deleteFavoritesPlaylist()},variant:"contained",style:{color:"#DFE0E3",backgroundColor:"red"}}," ",r.a.createElement(Jt.a,{color:"white"}),"Delete Spotify Playlist")),r.a.createElement(x.a,{style:{color:"#DFE0E3",backgroundColor:"#313331"},variant:"contained",onClick:function(){return e.clearFavsHelper()},className:"black-buttons"}," Clear Favorites"))}}]),a}(r.a.Component)),Kt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).props=e,n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(Ct.a,Object.assign({elevation:6,variant:"filled"},this.props))}}]),a}(r.a.Component),Xt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).playTrack=function(e,t){e&&(e!=n.state.current&&n.state.current?(n.player.pause(),n.player.src=e,n.setState((function(t){return{clicked:t.clicked,artists:t.artists,track_names:t.track_names,images:t.images,previews:t.previews,play:!0,current:e,track_ids:t.track_ids,username:t.username,disabled:t.disabled,notif:!1,in_favorites:t.in_favorites}})),n.player.play()):(n.player.src=e,t?(n.player.pause(),n.setState((function(e){return{clicked:e.clicked,artists:e.artists,track_names:e.track_names,images:e.images,previews:e.previews,play:!1,current:e.url,track_ids:e.track_ids,username:e.username,disabled:e.disabled,in_favorites:e.in_favorites,notif:!1}}))):(n.player.play(),n.setState((function(t){return{clicked:t.clicked,artists:t.artists,track_names:t.track_names,images:t.images,previews:t.previews,play:!0,current:e,track_ids:t.track_ids,username:t.username,disabled:t.disabled,in_favorites:t.in_favorites,notif:!1}})))))},n.saveTrack=function(e,t){var a=E.a.get("access_token");v.a.get("/api/track/save/".concat(e,"/").concat(n.state.username,"/").concat(a)).then((function(a){n.added[e]=!0;var r=n.state.disabled;r[t]=!0,n.setState((function(e){return{clicked:e.clicked,artists:e.artists,track_names:e.track_names,images:e.images,previews:e.previews,play:e.play,current:e.url,track_ids:e.track_ids,username:e.username,disabled:r,in_favorites:e.in_favorites,favorited:n.state.favorited,notif:!0}}))})).catch((function(e){console.log("error :(")}))},n.favoriteTrack=function(e,t){var a=E.a.get("access_token");v.a.get("/api/save_to_db/".concat(e,"/").concat(a)).then((function(a){n.added[e]=!1;var r=n.state.favorited;r[e]=!0;var s=n.state.disabled;s[t]=!0,n.setState((function(e){return{clicked:e.clicked,artists:e.artists,track_names:e.track_names,images:e.images,previews:e.previews,play:e.play,current:e.url,track_ids:e.track_ids,username:e.username,disabled:s,in_favorites:n.in_favorites,favorited:r,notif:!1}})),console.log(n.state.favorited)})).catch((function(e){console.log(e),console.log("error :((")}))},n.loadTracks=function(){var e=E.a.get("access_token");v.a.get("/api/fetch_fav_tracks/".concat(e)).then((function(e){fetch=e.data,console.log(e.data),n.state.favorited=new Array(fetch.artists.length).fill(!0),n.setState({clicked:!0,artists:fetch.artists,track_names:fetch.song_names,images:fetch.images,previews:fetch.previews,current:null,track_ids:fetch.ids,username:fetch.username,disabled:new Array(fetch.previews.length).fill(!1),notif:!1,in_favorites:fetch.in_favorites})})).catch((function(e){console.log("error :("),console.log(e)}))},n.handleDelete=function(e,t,a,r,s){var c=n.state.track_ids.filter((function(t){return t!==e})),l=n.state.track_names.filter((function(e){return e!==t})),i=n.state.artists.filter((function(e){return e!==a}));n.state.images.filter((function(e){return e!==r})),n.state.previews.filter((function(e){return e!==s}));n.setState({track_ids:c,track_names:l,artists:i})},n.unfavoriteTrack=function(e,t){var a=E.a.get("access_token");v.a.get("/api/delete_from_db/".concat(e,"/favorites/").concat(a)).then((function(a){n.added[e]=!1,n.state.favorited[e]=!1,n.handleDelete(n.state.track_ids[t],n.state.track_names[t],n.state.artists[t],n.state.images[t],n.state.previews[t]);var r=n.state.disabled;r[t]=!0,n.setState((function(e){return{clicked:e.clicked,artists:e.artists,track_names:e.track_names,images:e.images,previews:e.previews,play:e.play,current:e.url,track_ids:e.track_ids,username:e.username,disabled:r,in_favorites:n.in_favorites,notif:!1}}))})).catch((function(e){console.log("error :(")}))},n.handleClose=function(e,t){n.setState((function(e){return{clicked:e.clicked,artists:e.artists,track_names:e.track_names,images:e.images,previews:e.previews,play:!1,current:e.url,track_ids:e.track_ids,username:e.username,disabled:e.disabled,in_favorites:e.in_favorites,notif:!1}}))},console.log("mee"),n.added={},n.chartReference=r.a.createRef(),n.nextProps=n.props,n.state={value:"short_term",clicked:!1,data:null,artists:[],previews:[],images:[],play:!1,notif:!1,favorited:{},disabled:[]},n}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){E.a.get("access_token");this.props!=e&&(this.nextProps=e,this.componentDidMount())}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadTracks()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{marginLeft:"60px",backgroundColor:"white",overflow:"scroll"}},r.a.createElement("h2",{style:{fontSize:"35px",fontWeight:"80",marginTop:"20px",marginBottom:"0px"}},"Favorite Tracks"),r.a.createElement(Yt,null),r.a.createElement(Qe.a,null,this.state.clicked&&this.state.artists.map((function(t,a){return r.a.createElement(le.a,null,r.a.createElement(Ce.a,null,r.a.createElement(je.a,{alt:"Image",src:e.state.images[a]})),r.a.createElement(oe.a,{primary:e.state.track_names[a],secondary:e.state.artists[a]}),!e.state.favorited[e.state.track_ids[a]]&&r.a.createElement(x.a,{onClick:function(){return e.unfavoriteTrack(e.state.track_ids[a],a)}},r.a.createElement(Oe.a,null)),e.state.favorited[e.state.track_ids[a]]&&r.a.createElement(x.a,{onClick:function(){return e.favoriteTrack(e.state.track_ids[a],a)}},r.a.createElement(xt.a,null)),e.state.previews[a]&&r.a.createElement("div",null,r.a.createElement(x.a,{onClick:function(){return e.playTrack(e.state.previews[a],e.state.play)}},e.state.play&&e.state.current==e.state.previews[a]?"Stop":"Play")),e.state.username&&!e.state.disabled[a]&&r.a.createElement(x.a,{onClick:function(){return e.saveTrack(e.state.track_ids[a],a)}},"+"))}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("audio",{ref:function(t){return e.player=t}})),r.a.createElement(wt.a,{open:this.state.notif,autoHideDuration:2e3,onClose:this.handleClose},r.a.createElement(Kt,{onClose:this.handleClose,severity:"success"},"Track Added to library!")))}}]),a}(r.a.Component),$t=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(qe.a,{style:{maxHeight:"100vh"},className:"dist-box-albums",values:[{value:100,className:"fav-tracks",show:!0,data:r.a.createElement(Xt,this.state)}]},(function(e){return r.a.createElement(S.a,{className:e.className,pad:"small",fill:!0},e.show&&e.data)}))}}]),a}(r.a.Component),qt=(a(180),a(376),a(945),a(999));a(514);function Qt(e){console.log(e);var t=e.track_id,a=r.a.createRef();return Object(n.useEffect)((function(){a.current.scrollIntoView()})),r.a.createElement("div",{className:"albumList",style:{height:"81vh"}},r.a.createElement(Pt.a,{style:{background:"white",height:"100%"}},r.a.createElement(Tt.a,null,r.a.createElement(Dt.a,null,r.a.createElement(Ft.a,null,r.a.createElement(Mt.a,{size:"medium",className:"album-table-header",classes:"table-header",align:"left"},"Track Name"),r.a.createElement(Mt.a,{size:"medium",className:"album-table-header",classes:"table-header",align:"left"},"Duration"))),e.album&&e.album.map((function(e,n){return r.a.createElement(Ft.a,{ref:a,id:e.id,selected:e.id==t,key:e.name},r.a.createElement(Mt.a,{className:"table-results",component:"th",scope:"row"},r.a.createElement("h6",{className:"track-name"},e.name)),r.a.createElement(Mt.a,{className:"table-results",align:"center"},Math.trunc(e.duration_ms/6e4)+":"+(Math.trunc(60*(e.duration_ms/6e4-Math.trunc(e.duration_ms/6e4)))<10?"0"+Math.trunc(60*(e.duration_ms/6e4-Math.trunc(e.duration_ms/6e4))):Math.trunc(60*(e.duration_ms/6e4-Math.trunc(e.duration_ms/6e4))))))})))))}function Zt(e){var t=Object(n.useState)(0),a=Object(V.a)(t,2),s=a[0],c=a[1];return r.a.createElement("div",null,r.a.createElement(qt.a,{classes:"track-navbar",style:{position:"relative",background:"white",zIndex:"3"},className:"track-navbar"},r.a.createElement(dt.a,{value:s,onChange:function(e,t){e.preventDefault(),c(t),console.log(t)},indicatorColor:"primary",textColor:"primary","aria-label":"simple tabs example"},r.a.createElement(ht.a,{value:0,label:"Album Tracks"}),r.a.createElement(ht.a,{value:1,label:"Related Tracks"}))),0==s&&r.a.createElement(Qt,Object.assign({style:{height:"81vh"}},e,{album:e.album_track})),1==s&&r.a.createElement(Ut,Object.assign({style:{background:"white"}},e,{tableHeader:!0,header:!1,artist:e.artists[0]})))}var ea=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),n=t.call(this,e),console.log(e),n.state={track_id:e.id},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=E.a.get("access_token"),console.log(this.state.track_id),v.a.get("/api/trackPage/".concat(this.state.track_id,"/").concat(t,"/")).then((function(e){console.log(e.data),a.setState((function(t){return{track_id:t.track_id,track_info:e.data.track,artists:e.data.artists,album_track:e.data.album_tracks.items,album:e.data.album}})),console.log(e.data.track)})).catch((function(e){console.log("yo"),console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{style:{overflow:"hidden",marginTop:"3vh",marginLeft:"84px",width:"100%"}},r.a.createElement(Re.BrowserView,null,"artists"in this.state&&r.a.createElement(F.a,{style:{width:"calc(97% - 84px)"},container:!0,className:"grid-container",alignItems:"center",justify:"center",spacing:0},r.a.createElement(F.a,{item:!0,xs:12},r.a.createElement(Zt,Object.assign({},this.state,{album:this.state.album_track,artist:this.state.artists[0]}))))))}}]),a}(r.a.Component),ta=a(515);function aa(e){return console.log(e.recommended),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Pt.a,{style:{marginLeft:"10px"},component:Ee.a},r.a.createElement(Tt.a,{"aria-label":"simple table"},r.a.createElement(Dt.a,null,r.a.createElement(Ft.a,null,r.a.createElement(Mt.a,{size:"medium",className:"table-header",classes:"rec-table-header",align:"left"},"Track Name"),r.a.createElement(Mt.a,{size:"medium",className:"table-header",classes:"rec-table-header",align:"left"},"Artist"),r.a.createElement(Mt.a,{size:"medium",className:"table-header",classes:"rec-table-header",align:"right"},"Duration"),r.a.createElement(Mt.a,{size:"medium",className:"table-header",classes:"rec-table-header",align:"right"},"Popularity"))),"recommended"in e&&e.recommended&&e.recommended.map((function(e,t){return r.a.createElement(Ft.a,{key:e.name,component:"a",href:"/track/".concat(e.id)},r.a.createElement(Mt.a,{className:"table-results",component:"th",scope:"row"},r.a.createElement("div",{className:"avatar-head"},r.a.createElement(je.a,{className:"table-avatar",src:e.album.images.length>0?e.album.images[0].url:""}),"\u2003 ",r.a.createElement("h6",{className:"track-name"},e.name))),r.a.createElement(Mt.a,{className:"table-results",align:"left"},e.artists[0].name),r.a.createElement(Mt.a,{className:"table-results",align:"right"},Math.trunc(e.duration_ms/6e4)+":"+Math.trunc(60*(e.duration_ms/6e4-Math.trunc(e.duration_ms/6e4)))),r.a.createElement(Mt.a,{className:"table-results",align:"right"},e.popularity))}))))))}var na=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){n.getRecommendedTracks(n.mappings[t])},console.log(e),n.state={},n.getRecommendedTracks=n.getRecommendedTracks.bind(Object(ut.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=E.a.get("access_token"),v.a.get("/api/user_info/".concat(t,"/")).then((function(e){console.log(e.data),a.setState(Object(W.a)(Object(W.a)({},e.data[0]),{},{genres:[{value:0,label:e.data[0].long_term_genres[0],name:0},{value:25,label:e.data[0].long_term_genres[1],name:1},{value:50,label:e.data[0].long_term_genres[2],name:2},{value:75,label:e.data[0].long_term_genres[3],name:3},{value:100,label:e.data[0].long_term_genres[4],name:4}],selectedGenre:e.data[0].long_term_genres[0]})),a.mappings={0:e.data[0].long_term_genres[0],25:e.data[0].long_term_genres[1],50:e.data[0].long_term_genres[2],75:e.data[0].long_term_genres[3],100:e.data[0].long_term_genres[4]},a.getRecommendedTracks(e.data[0].long_term_genres[0])})).catch((function(e){console.log("yo"),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getRecommendedTracks",value:function(e){var t=this,a=E.a.get("access_token");v.a.get("/api/recommended_by_genre/".concat(e,"/").concat(a,"/")).then((function(a){console.log(a.data),t.setState((function(t){return{followers:t.followers,getTracks:t.getTracks,image_url:t.image_url,long_genre_scores:t.long_genre_scores,long_term_genres:t.long_term_genres,short_genre_scores:t.short_genre_scores,short_term_genres:t.short_term_genres,subscription:t.subscription,user_id:t.user_id,user_url:t.user_url,username:t.username,recommended:a.data.search.tracks.items,artist_info:a.data.artist_info,genres:t.genres,selectedGenre:e}}))})).catch((function(e){console.log("yo"),console.log(e)}))}},{key:"render",value:function(){return console.log(this.state),r.a.createElement("div",{style:{marginTop:"2vh",marginLeft:"84px",width:"92%"}},"long_term_genres"in this.state&&r.a.createElement("div",{style:{width:"60%",position:"relative",left:"15%"}},r.a.createElement(ta.a,{classes:{root:{backgroundColor:"green !important"},colorPrimary:{backgroundColor:"green !important",color:"green !important"}},defaultValue:0,getAriaValueText:"","aria-labelledby":"discrete-slider-always",step:25,color:"primary",marks:this.state.genres,valueLabelDisplay:"off",onChange:this.handleChange})),"recommended"in this.state&&r.a.createElement(Ye.a,{width:"100%",height:"100%",style:{backgroundColor:"white",overflow:"scroll"},className:"userinfo-card"},r.a.createElement(aa,Object.assign({key:this.state.selectedGenre},this.state))),!this.state.username&&r.a.createElement("div",{class:"loading"},r.a.createElement(it.a,null)))}}]),a}(r.a.Component),ra=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).search=function(e){console.log(n.state);var t="status"in n.state?n.state.status:null,a="userInfo"in n.state?n.state.userInfo:null;n.setState({status:t,userInfo:a,searchTerm:e},console.log("EMEMEMEMEM"+t+", "+a))},n.setUserInfo=function(e){return n.setState({userInfo:e})},console.log(e),n.state={status:"Not logged in"},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){v.a.get("/auth/user").then((function(t){return e(t.data)}),(function(e){return t(e)}))}));case 2:(t=e.sent)&&this.setUserInfo(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.userInfo;return console.log(t),r.a.createElement("div",{className:"App"},r.a.createElement("link",{rel:"stylesheet",href:"//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css"}),r.a.createElement(f.a,null,r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/login",component:function(a){return r.a.createElement(R,Object.assign({},a,{setUserInfo:e.setUserInfo,userInfo:t}))}}),r.a.createElement(p.a,{exact:!0,path:"/",component:function(a){return"Not logged in"==t||!t||"status"in t&&"Not logged in"==t.status?r.a.createElement(R,Object.assign({},a,{setUserInfo:e.setUserInfo,userInfo:t})):r.a.createElement("div",null,r.a.createElement(Be,{searchFunc:e.search,searchTerm:e.state.searchTerm,userInfo:t}),r.a.createElement(ot,{userInfo:t}))}}),r.a.createElement(p.a,{exact:!0,path:"/logout",component:function(e){return r.a.createElement(He,{userInfo:t})}}),r.a.createElement(p.a,{exact:!0,path:"/top_tracks"},r.a.createElement(Be,{searchFunc:this.search,searchTerm:this.state.searchTerm,userInfo:t}),r.a.createElement(Ht,null)),r.a.createElement(p.a,{exact:!0,path:"/graphs"},r.a.createElement(Be,{searchFunc:this.search,searchTerm:this.state.searchTerm,userInfo:t}),r.a.createElement(We,null)),r.a.createElement(p.a,{exact:!0,path:"/artist/:uri",render:function(a){return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Be,{searchFunc:e.search,searchTerm:e.state.searchTerm,userInfo:t}),r.a.createElement($e,{style:{height:"100%"},id:a.match.params}))}}),r.a.createElement(p.a,{exact:!0,path:"/search/:term",render:function(a){return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Be,{searchFunc:e.search,searchTerm:e.state.searchTerm,userInfo:t}),r.a.createElement(It,{style:{height:"100%"},id:a.match.params}))}}),r.a.createElement(p.a,{exact:!0,path:"/track/:uri",render:function(a){return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Be,{playback:!0,id:a.match.params,searchFunc:e.search,searchTerm:e.state.searchTerm,userInfo:t}),r.a.createElement(ea,{style:{height:"100%"},id:a.match.params.uri}))}}),r.a.createElement(p.a,{exact:!0,path:"/top_artists"},r.a.createElement(Be,{searchFunc:this.search,searchTerm:this.state.searchTerm,userInfo:t}),r.a.createElement(gt,null)),r.a.createElement(p.a,{exact:!0,path:"/top_albums"},r.a.createElement(Be,{searchFunc:this.search,searchTerm:this.state.searchTerm,userInfo:t}),r.a.createElement(St,null)),r.a.createElement(p.a,{exact:!0,path:"/dashboard"},r.a.createElement(Be,{searchFunc:this.search,searchTerm:this.state.searchTerm,userInfo:t}),r.a.createElement(ot,{userInfo:t})),r.a.createElement(p.a,{exact:!0,path:"/favorites"},r.a.createElement(Be,{userInfo:t}),r.a.createElement($t,{userInfo:t})),r.a.createElement(p.a,{exact:!0,path:"/recommended"},r.a.createElement(Be,{searchFunc:this.search,searchTerm:this.state.searchTerm,userInfo:t}),r.a.createElement(na,null))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(947);c.a.render(r.a.createElement(ra,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[580,1,2]]]);
//# sourceMappingURL=main.d9b901d3.chunk.js.map