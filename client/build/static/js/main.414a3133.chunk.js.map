{"version":3,"sources":["util/url.js","util/auth.js","components/common/Redirect.jsx","components/login/index.jsx","components/common/navbar/Navbar.js","components/sidebar/Sidebar.js","components/home/Home.js","components/logout/Logout.js","components/graphs/GenreMappings.js","components/graphs/GenreGraphs.js","components/artist/ArtistPage.js","components/dashboard/FetchDashTracks.js","components/dashboard/FetchUserWelcome.js","components/dashboard/FetchDashArtists.js","components/dashboard/GenreChart.js","components/dashboard/Dash.js","components/top_artists/FetchArtists.js","components/top_artists/ArtistPage.js","components/top_artists/TopArtists.js","components/top_albums/FetchAlbums.js","components/top_albums/AlbumGraph.js","components/top_albums/RelatedAlbums.js","components/top_albums/TopAlbums.js","components/top_albums/PopularityChart.js","components/search/SearchTracks.js","components/top_tracks/FetchTracks.js","components/top_tracks/RelatedTracks.js","components/top_tracks/TrackGraph.js","components/top_tracks/TopTracks.js","App.js","serviceWorker.js","index.js"],"names":["getUrlParams","vars","window","location","href","replace","m","key","value","config","headers","registerSpotify","code","Promise","resolve","reject","axios","post","split","then","res","data","err","logout","get","Redirect","props","console","log","url","LinearProgress","customTheme","global","font","alignContent","align","alignSelf","justify","gap","colors","text","dark","light","Login","redirectToSpotify","a","redirect","setState","redirectUrl","state","params","this","setUserInfo","history","userInfo","id","push","user","style","position","width","height","particles","number","density","enable","value_area","Box","elevation","className","fill","size","pad","Grommet","theme","animation","border","color","responsive","background","basis","round","Text","weight","Analytics","Button","primary","label","onClick","Component","React","useStyles","makeStyles","root","display","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","marginRight","paper","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","spacing","breakpoints","up","toolbar","alignItems","justifyContent","padding","right","mixins","customizeToolbar","minHeight","content","flexGrow","userLinks","action","variant","type","class","guestLinks","useStylesSearch","float","input","flex","iconButton","divider","margin","MiniDrawer","classes","classesSearch","useTheme","useState","open","setOpen","searchVal","searchTerm","searchValue","setSearchValue","hideDropdown","setHideDropdown","dropdown","setDropdown","icons","image","link","searchTracks","event","preventDefault","searchDropdown","keyword","token","cookie","oldState","tracks","search","items","artist_info","catch","onChange","useCallback","e","searchRedirect","CssBaseline","Drawer","clsx","Toolbar","backgroundColor","IconButton","aria-label","edge","direction","Divider","List","map","icon","index","ListItem","button","component","ListItemIcon","ListItemText","status","Paper","autocomplete","onSubmit","InputBase","placeholder","onKeyDown","toLowerCase","target","searchFunc","length","orientation","track","ListItemAvatar","Avatar","alt","src","secondary","name","Logout","useEffect","marginTop","fontFamily","Mappings","username","chartReference","createRef","scores","genreLabels","dataset","labels","datasets","Grid","container","item","xs","sm","ref","GenreGraphs","ArtistPage","onClose","artist_uri","uri","desktop","breakpoint","max","min","paritialVisibilityGutter","tablet","mobile","artist_data","album_info","albums","external_urls","spotify","followers","total","genres","images","popularity","genre_data","settings","autoplay","dots","infinite","slidesToShow","slidesToScroll","speed","autoplaySpeed","left","Card","handleClose","Icon","Typography","gutterBottom","options","rotation","Math","PI","circumference","title","scale","ticks","yAxis","pointLabels","fontSize","fontColor","legend","radius","album","tracks_page","FetchDashTracks","setTracks","top_tracks","track_name","artist","FetchUserWelcome","user_info","CardMedia","objectFit","image_url","CardContent","slice","toUpperCase","artists_page","FetchDashArtists","artists","setArtists","top_artists","artist_name","GenreChart","range","chart","angleLines","suggestedMin","suggestedMax","Dash","overflow","full","Distribution","values","CircularProgress","FetchArtists","isCardFunction","handleChange","spacer","clicked","nextProps","componentDidMount","fetch","info","borderRadius","boxShadow","join","TopArtists","artist_side","handleSubmit","new_value","bind","Tabs","indicatorColor","textColor","Tab","show","FetchAlbums","setAlbums","scroll","isMounted","md","lg","AlbumGraph","mounted","feature","names","borderColor","scales","yAxes","gridLines","drawBorder","plugins","filler","propagate","Alert","RelatedAlbums","playTrack","play","player","pause","album_name","popularities","track_names","previews","disabled","saveTrack","disabled_keys","current","reason","tracks_in_album","audio","Array","CardHeader","subheader","Snackbar","autoHideDuration","severity","TopAlbums","sidePane","render","changeTab","maxHeight","SearchTracks","term","sort_by","TableContainer","Table","TableHead","TableRow","TableCell","scope","trunc","FetchTracks","handleHover","bool","temp","k","hovering","prev","onMouseEnter","onMouseLeave","RelatedTracks","track_ids","added","notif","song_names","ids","fontWeight","marginBottom","TrackGraph","TopTracks","showGraph","graphTrack","App","currStatus","currInfo","rel","exact","path","match","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.414a3133.chunk.js","sourcesContent":["//returns access token\r\nexport function getUrlParams() {\r\n    const vars = {};\r\n    const parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, (m, key, value) => {\r\n      vars[key] = value;\r\n    });\r\n    return vars;\r\n  }\r\n  \r\n  export function removeHashParams(value) {\r\n    if (typeof value !== 'string') return '';\r\n    const split = value.split('#');\r\n    return split[0];\r\n  }\r\n  \r\n  export function getHashParams() {\r\n    const hashParams = {};\r\n    let e;\r\n    const r = /([^&;=]+)=?([^&;]*)/g;\r\n    const q = window.location.hash.substring(1);\r\n  \r\n    while (e = r.exec(q)) {\r\n      hashParams[e[1]] = decodeURIComponent(e[2]);\r\n    }\r\n    return hashParams;\r\n  }","import axios from 'axios';\r\nimport { removeHashParams } from './url';\r\nimport { getRequestOptions } from './general';\r\n\r\nconst config = { \r\n  headers: {  \r\n    'Content-Type': 'application/json',\r\n    'Access-Control-Allow-Origin': '*'\r\n  }\r\n}\r\n\r\nexport function getLoginRedirect() {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .get('/auth/redirect-spotify')\r\n      .then(res => resolve(res.data), err => reject(err));\r\n  });\r\n}\r\n\r\nexport function registerSpotify(code) {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .post('/auth/user', { code: removeHashParams(code) }, config)\r\n      .then(\r\n        res => resolve(res.data),\r\n        err => reject(err)\r\n      );\r\n  });\r\n}\r\n\r\nexport function getSpotifyUser() {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .get('/auth/user')\r\n      .then(\r\n        res => resolve(res.data),\r\n        err => reject(err),\r\n      );\r\n  });\r\n}\r\n\r\nexport function logout() {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .get('/auth/logout')\r\n      .then(\r\n        res => resolve(res),\r\n        err => reject(err)\r\n      );\r\n  });\r\n}","import React from 'react';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\n// const Redirect = (props) => window.location = props.url;\r\n\r\n\r\n// export default Redirect;\r\nexport default function Redirect(props) {\r\n    console.log(props.url);\r\n    window.location = props.url;\r\n    return (\r\n    <div>\r\n        <div>\r\n            <LinearProgress />Loading...\r\n        </div>\r\n\r\n    </div>\r\n\r\n    );\r\n\r\n}","import React, { Component } from 'react';\r\n//import Button from '@material-ui/core/Button';\r\nimport Redirect from '../common/Redirect';\r\nimport { getUrlParams } from '../../util/url';\r\nimport { getLoginRedirect, registerSpotify } from '../../util/auth';\r\nimport './login.css';\r\nimport Card from '@material-ui/core/Card';\r\nimport { Header } from 'semantic-ui-react';\r\nimport { Box, Grommet, Button, Text } from 'grommet';\r\nimport { Analytics } from 'grommet-icons';\r\nimport { Pie } from 'react-chartjs-2';\r\nimport Particles from 'react-particles-js';\r\n\r\nconst customTheme = {\r\n  global: {\r\n    font: 'Montserrat',\r\n    alignContent: 'center',\r\n    align: 'center',\r\n    alignSelf: 'center',\r\n    justify: 'center',\r\n    gap: 'large',\r\n    colors: {\r\n      // all colors could be either a string or a dark and light object\r\n      text: {\r\n        dark: '#DFE0E3',\r\n        light: '#DFE0E3',\r\n      },\r\n      // or simply as a string:\r\n      // text: \"#456789\",\r\n    },\r\n  },\r\n};\r\n\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { redirectUrl: '' }\r\n  }\r\n\r\n  redirectToSpotify = async () => {\r\n    const redirect = await getLoginRedirect();\r\n    this.setState({ redirectUrl: redirect });\r\n  }\r\n  \r\n\r\n  async componentDidMount() {\r\n    const params = getUrlParams();\r\n    const code = params.code || null;\r\n    const { setUserInfo, history, userInfo } = this.props;\r\n    console.log(code);\r\n    if (userInfo && userInfo.id) {\r\n      history.push('/');\r\n      return;\r\n    };\r\n    if (!code) return;\r\n\r\n    const user = await registerSpotify(code);\r\n    setUserInfo(user);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.redirectUrl) {\r\n      return <Redirect url={this.state.redirectUrl} />\r\n    }\r\n\r\n    return (\r\n        <div id='full-screen'>\r\n          <div style={{position: 'absolute', width:'100%', height:'100%'}}>\r\n                <Particles \r\n              params={{ \r\n                particles: { \r\n                  number: { \r\n                    value: 200, \r\n                    density: { \r\n                      enable: true, \r\n                      value_area: 1500, \r\n                    } \r\n                  }, \r\n                }, \r\n              }} \r\n            /> \r\n            </div>\r\n                      <Box elevation=\"large\" className=\"login-card\" fill=\"true\" size=\"medium\"\r\n              pad=\"small\" align='center' alignSelf='center' alignContent=\"center\" width=\"40%\" justify=\"center\"\r\n            >\r\n              <Grommet theme={customTheme}>\r\n            <Box animation=\"fadeIn\" border={{size: \"medium\", color: \"#DFE0E3\"}} responsive=\"true\" elevation=\"xlarge\" background={{color: '#1A1919'}} basis=\"medium\" round=\"none\" pad=\"medium\"  gap=\"medium\" alignContent=\"center\" justify=\"center\" alignSelf=\"center\" align=\"center\">\r\n            <Text size='300%'  color=\"#DFE0E3\" weight=\"bold\">Welcome to Spotipie</Text>\r\n            <Analytics size=\"28%\"  color=\"#DFE0E3\" justify=\"center\"></Analytics>\r\n            <Text size=\"100%\" color=\"#DFE0E3\">Explore your Spotify listening history and <br></br> gain insights about your habits by logging in below.</Text>\r\n            \r\n            <div id='login-button'>\r\n            <Button primary color=\"green\" label=\"Login with Spotify\" onClick={this.redirectToSpotify}></Button>\r\n            </div>\r\n            </Box>\r\n            </Grommet>\r\n            </Box>\r\n            \r\n            <particles/>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n \r\nexport default Login;\r\n\r\n\r\n","import React from \"react\";\r\nimport './Navbar.css';\r\nimport {Button, Navbar, Nav, NavDropdown, Form, FormControl} from 'react-bootstrap';\r\nimport {logout} from '../../../util/auth.js';\r\n\r\nclass NavBar extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n      }\r\n    render(){\r\n        const userLinks = (\r\n            <Nav.Link href= \"/logout\" onClick={logout}>Logout</Nav.Link>\r\n        );\r\n        const guestLinks = (\r\n            <Nav.Link href=\"/login\">Login</Nav.Link>\r\n        );\r\n        return(\r\n            <Navbar className=\"top-navbar\" bg=\"light\" expand=\"lg\">\r\n                <Navbar.Brand href=\"/\">Spotify-Viz</Navbar.Brand>\r\n                <Navbar.Toggle className=\"navBar-font\" aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse className=\"navBar-font\" id=\"basic-navbar-nav\">\r\n                {this.props.userInfo === `Not logged in` ? guestLinks : userLinks}\r\n                    <Nav className=\"mr-auto\">\r\n                    <NavDropdown title=\"Listening History\" className=\"navBar-font\" id=\"basic-nav-dropdown\">\r\n                        <NavDropdown.Item href=\"/top_tracks\">Top Tracks</NavDropdown.Item>\r\n                        <NavDropdown.Item href=\"/top_albums\">Top Albums</NavDropdown.Item>\r\n                        <NavDropdown.Item href=\"/top_artists\">Top Artists</NavDropdown.Item>\r\n                        <NavDropdown.Divider />\r\n                        {/*<NavDropdown.Item href=\"#action/3.4\">Separated link</NavDropdown.Item>*/}\r\n                    </NavDropdown>\r\n                    <NavDropdown title=\"Graphs\" className=\"navBar-font\" id=\"basic-nav-dropdown\">\r\n                        <NavDropdown.Item href=\"/graphs\">Artists</NavDropdown.Item>\r\n                        <NavDropdown.Item href=\"#action/3.2\">Albums</NavDropdown.Item>\r\n                        <NavDropdown.Item href=\"#action/3.3\">Playlists</NavDropdown.Item>\r\n                        <NavDropdown.Divider />\r\n                        <NavDropdown.Item href=\"#action/3.4\">My Listening</NavDropdown.Item>\r\n                    </NavDropdown>\r\n                    </Nav>\r\n                    <Form inline>\r\n                    <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" />\r\n                    <Button variant=\"outline-success\">Search</Button>\r\n                    </Form>\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport HomeIcon from'@material-ui/icons/Home';\r\nimport LibraryMusicIcon from '@material-ui/icons/LibraryMusic';\r\nimport AlbumIcon from '@material-ui/icons/Album';\r\nimport PersonOutlineIcon from '@material-ui/icons/PersonOutline';\r\nimport BarChartIcon from '@material-ui/icons/BarChart';\r\nimport Link from '@material-ui/core/Link';\r\nimport {logout} from '../../util/auth.js';\r\nimport './sidebar.css'\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Redirect from '../../components/common/Redirect.jsx';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\n\r\n\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  paper: {\r\n   background: 'red',   \r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n    whiteSpace: 'nowrap',\r\n  },\r\n  drawerOpen: {\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    background: 'rgba(21,21,21,1)',\r\n    color: '#DFE0E3'\r\n  },\r\n  drawerClose: {\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    overflowX: 'hidden',\r\n    width: theme.spacing(7) + 1,\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9) + 1,\r\n    },\r\n    background: 'rgba(21,21,21,1)',\r\n    color: '#DFE0E3'\r\n  },\r\n  toolbar: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: theme.spacing(0, 1),\r\n    position: 'absolute',\r\n    right: '0px',\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  customizeToolbar: {\r\n    minHeight: 64,\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nconst userLinks = (\r\n  <form action=\"/logout\">\r\n    <input variant=\"outlined\" type=\"submit\" class=\"logs-user\" value=\"Logout\" />\r\n</form>\r\n\r\n);\r\nconst guestLinks = (\r\n\r\n        <form action=\"/login\">\r\n    <input variant=\"outlined\" type=\"submit\" class=\"logs-user\" value=\"Login\" />\r\n        </form>\r\n\r\n);\r\n\r\nconst useStylesSearch = makeStyles((theme) => ({\r\n  root: {\r\n    padding: '2px 4px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    width: 400,\r\n    float: 'right',\r\n    marginRight: '3%'\r\n  },\r\n  input: {\r\n    marginLeft: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  iconButton: {\r\n    padding: 10,\r\n  },\r\n  divider: {\r\n    height: 28,\r\n    margin: 4,\r\n  },\r\n}));\r\n\r\n\r\nexport default function MiniDrawer(userInfo) {\r\n  const classes = useStyles();\r\n  const classesSearch = useStylesSearch();\r\n  const theme = useTheme();\r\n  const [open, setOpen] = React.useState(false);\r\n  let searchVal = 'searchTerm' in userInfo ? userInfo.searchTerm : '';\r\n  const [searchValue, setSearchValue] = React.useState(searchVal);\r\n  const [hideDropdown, setHideDropdown] = React.useState(true);\r\n  const [dropdown, setDropdown] = React.useState([]);\r\n\r\n\r\n  const icons = [{\r\n      text: \"Home\",\r\n      image: <HomeIcon style={{color: '#DFE0E3'}} />,\r\n      link: \"/dashboard\",\r\n  }, {\r\n      text: \"My Tracks\",\r\n      image: <LibraryMusicIcon style={{color: '#DFE0E3'}}/>,\r\n      link: \"/top_tracks\"\r\n  },{\r\n      text: \"My Albums\",\r\n      image: <AlbumIcon style={{color: '#DFE0E3'}}/>,\r\n      link: \"/top_albums\",\r\n  }, {\r\n      text: \"My Artists\",\r\n      image: <PersonOutlineIcon style={{color: '#DFE0E3'}}/>,\r\n      link: \"/top_artists\"\r\n  }\r\n    ]\r\n\r\n\r\n\r\n  const graph_icons = [<BarChartIcon style={{color: '#DFE0E3'}}/>]\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const getAllTracks = (event) => {\r\n    event.preventDefault();\r\n    console.log(searchValue);\r\n  }\r\n\r\n  const searchTracks = (event) => {\r\n    event.preventDefault();\r\n  }\r\n\r\n  const searchDropdown = (keyword) => {\r\n    console.log(keyword);\r\n    let token = cookie.get('access_token');\r\n    axios.get(`/api/track/search/${keyword}/${token}`)\r\n        .then(res => {\r\n            console.log(res.data)\r\n            setDropdown(oldState => ({\r\n                tracks: res.data.search['tracks'].items,\r\n                artist_info: res.data.artist_info\r\n            }));\r\n        })\r\n        .catch(err => {\r\n            console.log(\"error :(\")\r\n            console.log(err)\r\n        })\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  const searchKeyPress = (event) => {\r\n\r\n\r\n    if(event.key.toLowerCase() == \"enter\") {\r\n        setHideDropdown(true);\r\n        setSearchValue(event.target.value+event.key);\r\n        userInfo.searchFunc(searchValue)\r\n\r\n    } else if(event.key.toLowerCase() == \"backspace\") {\r\n        if(event.target.value.length <= 1) {\r\n            setHideDropdown(true);\r\n            setSearchValue('');\r\n        } else {\r\n            setHideDropdown(false);\r\n            searchDropdown(event.target.value)\r\n            setSearchValue(event.target.value);\r\n\r\n        }\r\n\r\n    }\r\n    else {\r\n        console.log(event.target.value)\r\n         if(event.target.value+event.key != '') {\r\n            searchDropdown(event.target.value+event.key)\r\n            setHideDropdown(false);\r\n         } else if(event.target.value == '') {\r\n            setHideDropdown(true);\r\n         } else {\r\n            searchDropdown(event.target.value+event.key)\r\n            setHideDropdown(false);\r\n         }\r\n\r\n         setSearchValue(event.target.value+event.key);\r\n    }\r\n\r\n  }\r\n\r\n  const searchRedirect = () => {\r\n    if(userInfo.searchTerm) {\r\n        return (<Redirect url={`/search/${userInfo.searchTerm}`} />);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  const onChange = React.useCallback(e => setDropdown(e.value), []);\r\n\r\n\r\n\r\n  return (\r\n\r\n\r\n\r\n    <div className={classes.root}>\r\n        <div>\r\n            {searchRedirect()}\r\n        </div>\r\n      <CssBaseline />\r\n\r\n      <Drawer\r\n        variant=\"permanent\"\r\n        className={clsx(classes.drawer, {\r\n          [classes.drawerOpen]: open,\r\n          [classes.drawerClose]: !open,\r\n        })}\r\n        classes={{\r\n          paper: clsx({\r\n            [classes.drawerOpen]: open,\r\n            [classes.drawerClose]: !open,\r\n          }),\r\n        }}\r\n      >\r\n      <Toolbar style={{backgroundColor: 'rgba(21,21,21,1)', color: '#DFE0E3'}} className={classes.customizeToolbar} >\r\n          {!open &&\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton, {\r\n              [classes.hide]: open,\r\n            })}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          }\r\n\r\n\r\n\r\n\r\n        <div className={classes.toolbar}>\r\n          {open && <IconButton onClick={handleDrawerClose}>\r\n            {theme.direction === 'rtl' ? <ChevronRightIcon style={{ color: \"white\" }} /> : <ChevronLeftIcon style={{ color: \"white\" }} />}\r\n          </IconButton>}\r\n        </div>\r\n         </Toolbar>\r\n\r\n\r\n        <Divider />\r\n        <List>\r\n          {icons.map((icon, index) => (\r\n            <ListItem button component=\"a\" href={icon.link} key={icon.text}>\r\n              <ListItemIcon>{icon.image}</ListItemIcon>\r\n              <ListItemText primary={icon.text} />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n        <Divider />\r\n\r\n\r\n              {open && ((userInfo.userInfo.status === `Not logged in` || userInfo.userInfo === null) ? guestLinks : userLinks)}\r\n      </Drawer>\r\n\r\n\r\n\r\n\r\n\r\n\r\n     <div class=\"search-bar\">\r\n        <Paper autocomplete=\"off\" component=\"form\" onSubmit={searchTracks} className={classesSearch.root}>\r\n            <InputBase\r\n                className={classesSearch.input}\r\n                placeholder={searchValue}\r\n                onKeyDown={searchKeyPress}\r\n              />\r\n\r\n          <Divider className={classesSearch.divider} orientation=\"vertical\" />\r\n          <IconButton onClick={searchTracks} className={classesSearch.iconButton} aria-label=\"search\">\r\n            <SearchIcon onClick={searchTracks} />\r\n          </IconButton>\r\n        </Paper>\r\n       <div onChange={onChange} style={{width: '100%', float: 'right', display: (!hideDropdown ? 'block' : 'none')}}>\r\n\r\n        <div className=\"autocomplete\" onChange={onChange}>\r\n\r\n            {'tracks' in dropdown && dropdown['tracks'].length > 0 &&\r\n                dropdown['tracks'].map((track, index) =>\r\n\r\n                    <Paper className=\"dropdown-container\">\r\n                        <List>\r\n                        <ListItem>\r\n                            <ListItemAvatar>\r\n                              <Avatar\r\n                                alt=\"Album Image\"\r\n                                src={track['album']['images'][0]['url']}\r\n                              />\r\n                            </ListItemAvatar>\r\n                            <ListItemText primary={track['name']} secondary={track['artists'][0].name} />\r\n\r\n                        </ListItem>\r\n                    </List>\r\n                    </Paper>\r\n\r\n                )\r\n\r\n\r\n            }\r\n\r\n        </div>\r\n       </div>\r\n\r\n      </div>\r\n\r\n\r\n\r\n\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { logout } from '../../util/auth';\r\nimport NavBar from '../common/navbar/Navbar';\r\nimport { Album } from 'react-spotify-api';\r\nimport { SpotifyApiContext} from 'react-spotify-api';\r\nimport Sidebar from '../sidebar/Sidebar';\r\nimport Login  from './../login/index.jsx';\r\n\r\nclass Home extends React.Component{\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(this.props);\r\n      }\r\n    async componentDidMount() {\r\n        const { userInfo, history } = this.props; \r\n    }\r\n    logout = async () => {\r\n        const res = await logout();\r\n            if (res.status === 200) {\r\n\r\n            }\r\n        }\r\n\r\n\r\n    render(){\r\n       if(this.props.userInfo == 'Not logged in' || (this.props.userInfo == null) || (this.props == null)) {\r\n           return (\r\n            <div>\r\n                <Login userInfo={this.props.userInfo}></Login>\r\n            </div>\r\n           );\r\n       } else {\r\n       console.log(this.props.userInfo);\r\n        return(\r\n            <div>\r\n            <Sidebar userInfo={this.props.userInfo}/>\r\n            <h1>Hello!\r\n            </h1>\r\n            </div>\r\n        );\r\n        }\r\n    }\r\n}\r\n\r\nexport default Home;","import {logout} from '../../util/auth.js';\r\nimport React, {useEffect, useState} from 'react';\r\n\r\n\r\nexport default function Logout(userInfo) {\r\n    console.log(userInfo);\r\n\r\n    useEffect(() => {\r\n        logout();\r\n\r\n\r\n    });\r\n\r\n\r\n    return(\r\n        <div style={{ marginTop: `64px`, marginLeft: '84px'}}>\r\n        <h1 style={{fontFamily: 'Montserrat !important'}}>You are now logged out.</h1>\r\n        <p><a style={{fontFamily: 'Montserrat !important'}} href=\"/\">Click here to return to the home page.</a></p>\r\n        </div>\r\n    );\r\n}\r\n","import React, {useEffect, useState, shouldComponentUpdate} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { Doughnut, Radar, Polar } from 'react-chartjs-2';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\nclass Mappings extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.username = props.data;\r\n        this.chartReference = React.createRef();\r\n        this.token = cookie.get('access_token');\r\n        this.state = {\r\n            scores: [],\r\n            genreLabels: [],\r\n            dataset: [],\r\n            data: []\r\n        };\r\n\r\n    }\r\n    shouldComponentUpdate() {\r\n        if(this.state[\"data\"].length == 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    async componentDidMount()  {\r\n        axios.get(`/api/graphs/short_term/${this.token}`)\r\n        .then(res => {\r\n            this.setState({\r\n                scores: res.data.scores,\r\n                genreLabels: res.data.labels,\r\n                dataset: {\r\n                  data:res.data.scores,\r\n                  label:\"User Data\",\r\n                  backgroundColor: res.data.colors\r\n                },\r\n\r\n                data: [{\r\n                    labels: res.data.labels,\r\n                    datasets: [{\r\n                          data:res.data.scores,\r\n                          label:\"User Data\",\r\n                          backgroundColor: res.data.colors\r\n                    }]\r\n                }]\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        if(this.state[\"data\"].length > 0) {\r\n                return (\r\n\r\n\r\n          <Grid container className=\"grid-container\">\r\n            <Grid item xs={12} sm={6}>\r\n              <div style={{ backgroundColor:'none', border:'1px solid black' }}>\r\n                <Doughnut ref={this.chartReference}\r\n                data={this.state.data[0]} />\r\n              </div>\r\n           </Grid>\r\n           <Grid item xs={12} sm={6}>\r\n              <div style={{ backgroundColor:'white' }}>\r\n                <Polar ref={this.chartReference}\r\n                data={this.state.data[0]} />\r\n              </div>\r\n           </Grid>\r\n      </Grid>\r\n);\r\n       } else {\r\n       return (<div></div>)\r\n       }\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default Mappings;","import React from \"react\";\r\nimport {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { logout } from '../../util/auth';\r\nimport NavBar from '../common/navbar/Navbar';\r\nimport { Album } from 'react-spotify-api';\r\nimport { SpotifyApiContext} from 'react-spotify-api';\r\nimport Mappings from './GenreMappings'\r\n\r\n\r\n\r\n\r\nclass GenreGraphs extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n      }\r\n    async componentDidMount() {\r\n        const { userInfo, history } = this.props;\r\n                console.log(this.props);\r\n\r\n    }\r\n    logout = async () => {\r\n        const res = await logout();\r\n            if (res.status === 200) {\r\n            }\r\n        }\r\n\r\n    render(){\r\n        const labels = <Mappings data={this.token}/>;\r\n        return(\r\n            <div>\r\n            <h1>Graphs</h1>\r\n            {labels}\r\n            </div>\r\n\r\n        );\r\n\r\n    }\r\n}\r\n\r\nexport default GenreGraphs;\r\n","import React, { useState, useEffect, Component, setState } from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { useParams } from \"react-router-dom\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\nimport Carousel from 'react-material-ui-carousel'\r\nimport 'react-multi-carousel/lib/styles.css';\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport Slider from \"react-slick\";\r\nimport './artist.css'\r\nimport Card from '@material-ui/core/Card';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Doughnut, Radar } from 'react-chartjs-2';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ItemsCarousel from 'react-items-carousel';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n//import \"font-awesome/css/font-awesome.css\";\r\nimport Icon from '@material-ui/core/Icon';\r\n\r\n\r\n\r\n\r\nclass ArtistPage extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {};\r\n        this.chartReference = React.createRef();\r\n        console.log(this.props);\r\n        this.onClose = this.props.onClose;\r\n        console.log(this.props.onClose);\r\n        this.artist_uri = this.props.id.uri;\r\n        this.token = cookie.get('access_token');\r\n\r\n\r\n        this.responsive = {\r\n          desktop: {\r\n    breakpoint: { max: 3000, min: 1024 },\r\n    items: 3,\r\n    paritialVisibilityGutter: 60\r\n  },\r\n  tablet: {\r\n    breakpoint: { max: 1024, min: 464 },\r\n    items: 2,\r\n    paritialVisibilityGutter: 50\r\n  },\r\n  mobile: {\r\n    breakpoint: { max: 464, min: 0 },\r\n    items: 1,\r\n    paritialVisibilityGutter: 30\r\n  }\r\n        };\r\n\r\n\r\n    }\r\n\r\n    async componentDidMount()  {\r\n        axios.get(`/api/artist/${this.artist_uri}/${this.token}`)\r\n        .then(res => {\r\n            console.log(res.data);\r\n            var artist_data = res.data.artist_info;\r\n            var album_info = res.data.albums;\r\n            console.log({\r\n                'external_url':artist_data.external_urls.spotify,\r\n                'followers': artist_data.followers.total,\r\n                'genres': artist_data.genres,\r\n                'images':artist_data.images,\r\n                'name': artist_data.name,\r\n                'popularity':artist_data.popularity,\r\n                'albums':album_info.items,\r\n                'genre_data':res.data.genre_data,\r\n                'dataset': {\r\n                    data: res.data.genre_data.scores,\r\n                    labels: res.data.genre_data.labels,\r\n                    backgroundColor: res.data.genre_data.colors\r\n                },\r\n                'data': [{\r\n                    labels: res.data.genre_data.labels,\r\n                    datasets: [{\r\n                        'data': res.data.genre_data.scores,\r\n                        'labels': res.data.genre_data.labels,\r\n                        'backgroundColor': res.data.genre_data.colors\r\n                    }]\r\n                }]\r\n\r\n            });\r\n            this.setState({\r\n                'external_url':artist_data.external_urls.spotify,\r\n                'followers': artist_data.followers.total,\r\n                'genres': artist_data.genres,\r\n                'images':artist_data.images,\r\n                'name': artist_data.name,\r\n                'popularity':artist_data.popularity,\r\n                'albums':album_info.items,\r\n                'genre_data':res.data.genre_data,\r\n                'dataset': {\r\n                    data: res.data.genre_data.scores,\r\n                    labels: res.data.genre_data.labels,\r\n                    backgroundColor: ['rgba(0,0,0,0.5)']\r\n                },\r\n                'data': [{\r\n                    labels: res.data.genre_data.labels,\r\n                    datasets: [{\r\n                        'data': res.data.genre_data.scores,\r\n                        'labels': res.data.genre_data.labels,\r\n                        'backgroundColor': ['rgba(90,240,159,0.5)']\r\n                    }]\r\n                }]\r\n\r\n            });\r\n            console.log(this.state);\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    handleClose() {\r\n        this.onClose();\r\n\r\n    }\r\n\r\n\r\n    render(){\r\n\r\n\r\n        const breakPoints = [\r\n          { width: 1, itemsToShow: 1 },\r\n          { width: 550, itemsToShow: 2 },\r\n          { width: 768, itemsToShow: 3 },\r\n          { width: 1200, itemsToShow: 4 }\r\n        ];\r\n\r\n        if('external_url' in this.state) {\r\n\r\n            var settings = {\r\n              autoplay: true,\r\n              dots: false,\r\n              infinite: true,\r\n              slidesToShow: 5,\r\n              slidesToScroll: 1,\r\n              speed: 2000,\r\n              autoplaySpeed: 0\r\n\r\n            };\r\n\r\n\r\n            return(\r\n            <>\r\n            <BrowserView style={{height:'100%'}}>\r\n                <Grid style={{height:'100%', position:'relative', left:'0px', width:'100%'}} container className=\"grid-container\">\r\n                <Grid style={{height:'100%'}} item sm={10}>\r\n                    <Card className=\"artist-card\">\r\n                      <Grid container className='artist-top-container'>\r\n                        <Grid style={{height:'100%'}} item sm={6}>\r\n                           <div style={{height:'100%'}} className=\"artist-img-container\">\r\n                                <a href={this.state['external_url']}>\r\n                                    <img className=\"artist-img\" src={this.state['images'][0]['url']}  />\r\n                                </a>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid style={{height:'100%'}} item sm={6}>\r\n                             <div className=\"artist-info\">\r\n                            <IconButton className=\"exit-artist-modal\" onClick={() => this.handleClose()}>\r\n                                <Icon onClick={() => this.handleClose()} className=\"fa fa-times\" />\r\n                            </IconButton>\r\n                            <div className=\"artist-name-container\">\r\n                                <Typography className=\"artist-name\" style={{fontFamily: 'Montserrat'}}\r\n                                        gutterBottom variant=\"h3\" component=\"h3\">{this.state['name']}</Typography>\r\n                            </div>\r\n                            <div className=\"genre-doughnut\">\r\n                                <Radar ref={this.chartReference}\r\n                                data={this.state.data[0]} options={{\r\n                                    rotation: Math.PI,\r\n                                    circumference: Math.PI,\r\n                                       title: {\r\n                                            display: true,\r\n                                            position: \"center\",\r\n                                            text: 'Upcoming Meetings' },\r\n                                        scale: {\r\n                        ticks: {\r\n                            display: false\r\n                        },\r\n                        yAxis: {\r\n                            display: false\r\n                        },\r\n                        pointLabels: {\r\n                            fontSize: 16,\r\n                            fontColor: '#111111',\r\n                            fontFamily: \"'Montserrat','Roboto'\"\r\n                        }\r\n                    },\r\n                    legend: {\r\n                        display: false\r\n                    },\r\n                    radius: {\r\n                        fontSize: 24\r\n                    }\r\n                                }} />\r\n                            </div>\r\n                        </div>\r\n                        </Grid>\r\n                      </Grid>\r\n                      <Grid container alignItems=\"center\" justify=\"center\" >\r\n                        <Grid style={{height:'100%'}} item sm={11}>\r\n                            <div>\r\n                                <Paper className='carousel-bgd' elevation={3}>\r\n                                    <Slider {...settings}>\r\n\r\n                                    {\r\n\r\n                                        this.state.albums.map((album) =>\r\n                                            <img className=\"album-carousel-item\" src={album.images[0].url}\r\n                                                  />\r\n\r\n                                        )\r\n\r\n\r\n                                    }\r\n                                    </Slider>\r\n                                </Paper>\r\n                            </div>\r\n                        </Grid>\r\n                      </Grid>\r\n                 </Card>\r\n               </Grid>\r\n               </Grid>\r\n\r\n\r\n            </BrowserView>\r\n\r\n\r\n            <MobileView>\r\n                <Grid container className=\"grid-container\">\r\n                <Grid item xs={12}>\r\n                    <div className=\"artist-img\">\r\n                        <a href={this.state['external_url']}>\r\n                            <img src={this.state['images'][0]['url']} height={this.state['images'][1]['height']} width={this.state['images'][1]['width']} />\r\n                        </a>\r\n                    </div>\r\n               </Grid>\r\n               <p>{this.state['followers']}</p>\r\n               </Grid>\r\n            </MobileView>\r\n\r\n         </>\r\n\r\n\r\n\r\n            );\r\n        }\r\n        else {\r\n            return (<p></p>);\r\n        }\r\n    }\r\n}\r\n\r\nexport default ArtistPage;\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image, Button } from 'semantic-ui-react';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport './userinfo.css';\r\n\r\nfunction tracks_page(e) {\r\n  e.preventDefault();\r\n  window.location = '/top_tracks';\r\n}\r\n\r\nexport function FetchDashTracks(data) {\r\n    console.log(data.data)\r\n    const [tracks, setTracks] = useState([]);\r\n    let token = cookie.get('access_token');\r\n    useEffect(() => {\r\n        axios.get(`/api/user/${data.data}/${token}/15/`)\r\n        .then(res => {\r\n            console.log(res.data.top_tracks)\r\n            setTracks(res.data.top_tracks)\r\n        })\r\n        .catch(err => {\r\n            console.log('yo')\r\n            console.log(err)\r\n        })\r\n    }, [data.data])\r\n    return(\r\n        <div>\r\n        <h2 class=\"list-title\" style={{marginTop: '10px'}}>Top Tracks</h2>\r\n        <List size=\"mini\">\r\n            {\r\n                tracks.map(track =>\r\n        <ListItem>\r\n           <ListItemAvatar>\r\n               <Avatar alt=\"Image\" src={track.image}/>\r\n          </ListItemAvatar>\r\n\r\n            <ListItemText\r\n                                primary={track.track_name}\r\n                            secondary={track.artist}\r\n                             />\r\n        </ListItem>)\r\n                }\r\n        </List>\r\n        <Button primary content=\"View more...\" onClick={tracks_page} />\r\n        </div>\r\n    );\r\n}\r\n\r\n","import cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport React, {useEffect, useState} from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport './userinfo.css';\r\nimport { Typography } from '@material-ui/core';\r\nimport { Box } from '@material-ui/core';\r\nimport {FetchCurrentlyPlaying} from './FetchCurrentlyPlaying';\r\n\r\n\r\n\r\nexport default function FetchUserWelcome(data) {\r\n    let user_info = data.data;\r\n    let token = cookie.get('access_token');\r\n\r\n\r\n    console.log(user_info);\r\n\r\n    return(\r\n                <div class=\"list-title\" style={{height: '100%'}}>\r\n                    <CardMedia\r\n                      component=\"img\"\r\n                      alt=\"ProfileImage\"\r\n                      height=\"300\"\r\n                      style={{objectFit: 'cover', height: '80%'}}\r\n                      image={user_info.image_url}\r\n                      title={user_info.username}\r\n                    />\r\n                    <CardContent>\r\n                      <Typography gutterBottom variant=\"h5\" component=\"h2\" class=\"list-title\">\r\n                        {user_info.username.slice(0,1).toUpperCase() + user_info.username.slice(1)}\r\n                      </Typography>\r\n\r\n                      <Typography component=\"p\" class=\"list-title\">\r\n                        Followers: {user_info['followers']['total']}\r\n                      </Typography>\r\n                    </CardContent>\r\n                </div>\r\n\r\n    );\r\n}","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image, Button } from 'semantic-ui-react';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport './userinfo.css';\r\n\r\nfunction artists_page(e) {\r\n    e.preventDefault();\r\n    window.location = '/top_artists';\r\n  }\r\n\r\nexport function FetchDashArtists(data) {\r\n    console.log(data.data)\r\n    const [artists, setArtists] = useState([]);\r\n    let token = cookie.get('access_token');\r\n    useEffect(() => {\r\n        axios.get(`/api/user_artists/${data.data}/${token}/15/`)\r\n        .then(res => {\r\n            console.log(res.data)\r\n            setArtists(res.data.top_artists)\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }, [data.data])\r\n    return(\r\n        <div>\r\n        <h2 class=\"list-title\"  style={{marginTop: '10px'}}>Top Artists</h2>\r\n        <List size=\"mini\">\r\n            {\r\n                artists.map(artist =>\r\n                    <ListItem>\r\n                       <ListItemAvatar>\r\n                           <Avatar alt=\"Image\" src={artist.image}/>\r\n                      </ListItemAvatar>\r\n\r\n                        <ListItemText\r\n                                            primary={artist.artist_name}\r\n                                         />\r\n                    </ListItem>)\r\n                }\r\n        </List>\r\n        <Button primary content=\"View more...\" onClick={artists_page} />\r\n        </div>\r\n    );\r\n}\r\n","import cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport React, {useEffect, useState} from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport './userinfo.css';\r\nimport { Typography } from '@material-ui/core';\r\nimport { Box } from '@material-ui/core';\r\nimport {FetchCurrentlyPlaying} from './FetchCurrentlyPlaying';\r\nimport { Doughnut,Radar } from 'react-chartjs-2';\r\n\r\n\r\nexport default function GenreChart(data) {\r\n    let genre_info = data.data;\r\n    let range = data.range;\r\n    let chart = data.chart;\r\n    let chartReference = React.createRef();\r\n    let mobile = data.mobile;\r\n\r\n//    'data': [{\r\n//                    labels: fetch.labels,\r\n//                    datasets: [{\r\n//                        'data': fetch.scores,\r\n//                        'labels': fetch.labels,\r\n//                        'backgroundColor': fetch.colors\r\n//                    }]\r\n//                }]\r\n//long_genre_scores: (5) [76, 61, 51, 47, 41]\r\n//long_term_genres:\r\n//\r\n    if(data.range == \"short\") {\r\n        var data = [{\r\n            labels: data.data['short_term_genres'].slice(0,5),\r\n            datasets: [{\r\n                data: data.data['short_genre_scores'].slice(0,5),\r\n                labels: data.data['short_term_genres'].slice(0,5),\r\n                backgroundColor: chart == \"doughnut\" ? ['#f1a5ba', '#f5b565', '#fbd981', '#93dcdc', '#6cb8ee'] : 'rgba(108, 184, 238,0.6)'\r\n            }]\r\n        }]\r\n    }\r\n    else if(data.range == \"long\") {\r\n        var data = [{\r\n            labels: data.data['long_term_genres'].slice(0,5),\r\n            datasets: [{\r\n                data: data.data['long_genre_scores'].slice(0,5),\r\n                labels:  data.data['long_term_genres'].slice(0,5),\r\n                 backgroundColor: chart == \"doughnut\" ? ['#f1a5ba', '#f5b565', '#fbd981', '#93dcdc', '#6cb8ee'] : 'rgba(108, 184, 238,0.6)'\r\n            }],\r\n        }]\r\n    }\r\n    let token = cookie.get('access_token');\r\n    var titles = {\r\n        'short': 'Most Recent Genres',\r\n        'long': 'All Time Genres'\r\n    }\r\n    var title = titles[range];\r\n\r\n    return(\r\n                <div style={{height: '25vh'}}>\r\n                { chart == \"doughnut\" &&\r\n                    <Doughnut style={{height: '25vh'}} ref={chartReference}\r\n                                    data={data[0]} options={{\r\n                                        title: {\r\n                                            display: true,\r\n                                            text: title,\r\n                                            fontFamily: 'Montserrat',\r\n                                            fontSize: '18'\r\n                                        },\r\n                                        legend: {\r\n                                            display:  mobile ? false : true,\r\n                                        },\r\n                                         responsive:  mobile ? false : true,\r\n\r\n                                    }} />\r\n\r\n                }\r\n                { chart == \"radar\" &&\r\n                     <Radar style={{height: '25vh'}} ref={chartReference}\r\n                                    data={data[0]} options={{\r\n                                    scale: {\r\n                                        angleLines: {\r\n                                            display: false\r\n                                        },\r\n                                        ticks: {\r\n                                            suggestedMin: 0,\r\n                                            suggestedMax: 0,\r\n                                            display: false\r\n                                        }\r\n                                    },\r\n                                    title: {\r\n                                            display: true,\r\n                                            text: title,\r\n                                            fontFamily: 'Montserrat',\r\n                                            fontSize: '18'\r\n                                        },\r\n                                    legend: {\r\n                                        position: \"bottom\",\r\n                                        display: false\r\n                                    },\r\n                                    responsive: mobile ? false : true\r\n                                    }\r\n\r\n                                    } />\r\n\r\n                }\r\n\r\n                </div>\r\n\r\n    );\r\n}","import React from \"react\";\r\nimport NavBar from '../common/navbar/Navbar';\r\nimport { Grommet, Distribution, Box, Text, grommet } from 'grommet';\r\nimport {FetchDashTracks} from './FetchDashTracks';\r\nimport FetchUserWelcome from './FetchUserWelcome';\r\nimport {FetchDashAlbums} from './FetchDashAlbums';\r\nimport {FetchDashArtists} from './FetchDashArtists';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport './userinfo.css';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport GenreChart from './GenreChart.js';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {\r\n  BrowserView,\r\n  MobileView,\r\n  isBrowser,\r\n  isMobile\r\n} from \"react-device-detect\";\r\n\r\nclass Dash extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n\r\n  }\r\n\r\n\r\n\r\n    async componentDidMount() {\r\n            let token = cookie.get('access_token');\r\n        axios.get(`/api/user_info/${token}/`)\r\n        .then(res => {\r\n            console.log(res.data);\r\n            this.setState(res.data[0]);\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log('yo')\r\n            console.log(err)\r\n        })\r\n    }\r\n  \r\n\r\n    render(){\r\n      const user_info = this.props.userInfo;\r\n        return(\r\n        <div style={{ overflow: 'hidden', marginTop: `2vh`, marginLeft: '84px', width: '92%'}}>\r\n           <BrowserView>\r\n            {this.state['username'] &&\r\n            <Grommet style={{overflow: 'hidden', width: '100%',backgroundColor: \"#EBEBEB\"}} full>\r\n            <Distribution style={{overflow: 'hidden'}} margin=\"xsmall\" gap=\"none\"\r\n              fill\r\n              values={[\r\n                { value: 30, color: \"white\", overflow: false, title: \"Short term genres\", data: <GenreChart mobile={false} data={this.state} chart=\"doughnut\" range=\"short\" /> },\r\n                { value: 30, color: \"white\", overflow: false, title: \"Long term genres\", data: <GenreChart mobile={false} data={this.state} chart=\"radar\" range=\"long\" /> },\r\n                { value: 30, color: \"white\", overflow: false, title: \"\", data: <FetchUserWelcome data={this.state} /> },\r\n                { value: 25, color: \"white\", overflow: true, data: <FetchDashTracks data=\"long_term\" /> },\r\n                { value: 25, color: \"white\", overflow: true, data: <FetchDashArtists data=\"long_term\"/> }\r\n              ]}\r\n            >\r\n              {value => (\r\n\r\n                    <Card width=\"100%\" height=\"100%\" style={{backgroundColor: \"white\", overflow: value.overflow ? 'scroll': 'hidden'}} className=\"userinfo-card\">\r\n                        {value.data}\r\n                    </Card>\r\n\r\n              )}\r\n            </Distribution>\r\n          </Grommet>}\r\n          {!this.state['username'] &&\r\n          <div class=\"loading\">\r\n            <CircularProgress/>\r\n          </div>\r\n          }\r\n\r\n           </BrowserView>\r\n           <MobileView>\r\n            {this.state['username'] &&\r\n               <div style={{width: '80%'}}>\r\n                    <Card style={{backgroundColor: \"white\"}} className=\"userinfo-card\">\r\n                               <FetchUserWelcome data={this.state} />\r\n                    </Card>\r\n                    <Card height='25vh' style={{backgroundColor: \"white\", height: '25vh'}} className=\"userinfo-card\">\r\n                                <GenreChart height='25vh' mobile={true}  style={{height: '25vh'}} data={this.state} chart=\"doughnut\" range=\"short\" />\r\n                    </Card>\r\n                     <Card style={{backgroundColor: \"white\"}} className=\"userinfo-card\">\r\n                                <GenreChart data={this.state} mobile={true}  chart=\"radar\" range=\"long\" />\r\n                    </Card>\r\n\r\n\r\n               </div>\r\n             }\r\n\r\n           </MobileView>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Dash;\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './artists.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\nexport function FetchArtists(data) {\r\n    console.log(data.data)\r\n    const [artists, setArtists] = useState([]);\r\n    const isCardFunction = (data.handleChange != null);\r\n        const spacer = data.clicked ? 3 : 2;\r\n\r\n\r\n\r\n    let token = cookie.get('access_token');\r\n    useEffect(() => {\r\n        axios.get(`/api/user_artists/${data.data}/${token}/50/`)\r\n        .then(res => {\r\n            console.log(res.data)\r\n            setArtists(res.data.top_artists)\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }, [data.data])\r\n\r\n\r\n    return(\r\n\r\n<div>\r\n    <Grid container className=\"grid-container\"\r\n  alignItems=\"center\"\r\n  justify=\"center\" spacing={0}>\r\n\r\n         {\r\n        artists.map((artist,index) =>\r\n            <Grid item xs={6} sm={spacer}>\r\n            {isCardFunction &&\r\n            <Card onClick={() => data.handleChange(artist)} className=\"topartists-card\">\r\n                    <CardMedia className=\"topartists-img\" image={artist.image}></CardMedia>\r\n                    <CardContent className=\"topartists-info\">\r\n                        <Typography className=\"music-title\" gutterBottom variant=\"h6\" component=\"h6\">{index+1}. {artist.artist_name}</Typography>\r\n                    </CardContent>\r\n            </Card>\r\n            }\r\n         </Grid>\r\n        )}\r\n\r\n      </Grid>\r\n      </div>\r\n    );\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './artists.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport PropTypes from 'prop-types'\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport 'react-circular-progressbar/dist/styles.css';\r\nimport { CircularProgressbar, buildStyles } from 'react-circular-progressbar';\r\nimport Slider from \"react-slick\";\r\n\r\n\r\n\r\n\r\n\r\nclass ArtistPage extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.chartReference = React.createRef();\r\n        this.nextProps = this.props;\r\n        this.state = {value: 'short_term', clicked: false,\r\n                            data: [], artist:this.props.artist};\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n            let token = cookie.get('access_token');\r\n\r\n        if(this.props != nextProps) {\r\n            this.nextProps = nextProps;\r\n            this.componentDidMount();\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n        console.log(this.nextProps)\r\n        axios.get(`/api/artist/${this.nextProps.artist.uri}/${token}`)\r\n        .then(res => {\r\n            fetch = res.data;\r\n                this.setState(oldState => ({\r\n                    'clicked': true,\r\n                    'artist_info':fetch.info,\r\n                    'albums':fetch.albums.items\r\n                }));\r\n\r\n\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n            render() {\r\n\r\n\r\n            var settings = {\r\n              autoplay: true,\r\n              dots: false,\r\n              infinite: true,\r\n              slidesToShow: 3,\r\n              slidesToScroll: 1,\r\n              speed: 2000,\r\n              autoplaySpeed: 0\r\n\r\n            };\r\n\r\n           if(this.state.artist_info) {\r\n                       const genres = this.state.artist_info.genres;\r\n\r\n            return(\r\n\r\n        <div style={{backgroundColor: 'white'}}>\r\n            <Card>\r\n                <CardContent>\r\n\r\n                        <img style={{height:'250px',width:'250px', borderRadius: '100%', boxShadow:'2px 2px 5px 0.1px black'}} src={this.state.artist_info.images[0].url} />\r\n                    <h1>{this.state.artist_info.name.toUpperCase()}</h1>\r\n                    <Grid container className=\"artist-grid-container\">\r\n                        <Grid item sm={12}>\r\n                            <div class=\"genre-container\">\r\n                                <h4>Genres:</h4>\r\n                                <p>&nbsp;{genres.slice(0,Math.min(genres.length,4)).join(\", \")}</p>\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item sm={12}>\r\n                             <div class=\"genre-container\" style={{backgroundColor: 'white'}}>\r\n                                <h4>Popularity: </h4>\r\n                                <p>&nbsp;{this.state.artist_info.popularity}</p>\r\n                              </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Slider {...settings}>\r\n\r\n                                    {\r\n\r\n                                        this.state.albums.map((album) =>\r\n                                            <Card>\r\n                                            <img className=\"album-carousel-item\" src={album.images[0].url}\r\n                                                  />\r\n                                            </Card>\r\n\r\n                                        )\r\n\r\n\r\n                                    }\r\n                    </Slider>\r\n                </CardContent>\r\n\r\n            </Card>\r\n\r\n              </div>\r\n            );\r\n\r\n            }\r\n            return (<div><h4>Loading...</h4></div>);\r\n            }\r\n\r\n}\r\n\r\nexport default ArtistPage;\r\n//                                {genres.slice(0,Math.min(genres.length,4)).map((genre) => {genre[0].toUpperCase() + genre.substr(1)})}\r\n//\r\n","import React, { useState, useEffect, Component, setState } from 'react';\r\nimport cookie from 'js-cookie';\r\nimport {FetchArtists} from './FetchArtists.js';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport './artists.css'\r\nimport {Distribution, Box, Text} from 'grommet';\r\nimport { BrowserView,MobileView,isBrowser,isMobile} from \"react-device-detect\";\r\nimport ArtistPage from './ArtistPage.js'\r\n\r\nclass TopArtists extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {value: 'short_term', artist_side: 100};\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.value = 'short_term'\r\n    }\r\n    handleChange = (artist) => {\r\n        console.log(artist)\r\n        if(this.state.artist != artist) {\r\n            this.setState(oldState => ({\r\n                value: oldState.value,\r\n                clicked: true,\r\n                artist: artist,\r\n                artist_side: 70\r\n            }));\r\n        }\r\n\r\n\r\n\r\n      }\r\n    handleSubmit = (event, new_value) => {\r\n\r\n        this.setState({value: new_value, clicked: false, artist_side: 100});\r\n    }\r\n\r\n\r\n     async componentDidMount() {\r\n      }\r\n\r\n    render(){\r\n        const artist_list = <FetchArtists data={this.state.value}/>;\r\n\r\n        return(\r\n        <div style={{marginLeft: '30px'}} >\r\n        <BrowserView>\r\n            <div class=\"browser-container\" style={{ marginLeft: '0px'}}>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <label>\r\n                        <Tabs\r\n                            value={this.state[\"value\"]}\r\n                            indicatorColor=\"primary\"\r\n                            textColor=\"primary\"\r\n                            onChange={this.handleSubmit}\r\n                            aria-label=\"disabled tabs example\"\r\n                          >\r\n                                <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\r\n                                <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\r\n                                <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\r\n                          </Tabs>\r\n                    </label>\r\n                    </form>\r\n\r\n\r\n                    {this.state['clicked'] && <Distribution\r\n                  values={[\r\n                    { value: this.state.artist_side, className:\"top-tracks\", show: true, data: <FetchArtists clicked={this.state['clicked']} handleChange={this.handleChange} data={this.state.value} /> },\r\n                    { value: 100-this.state.artist_side, className:\"track-graph\", show: (this.state.clicked && (this.state.artist)), data: <ArtistPage handleChange={this.handleChange} {...this.state} /> }\r\n\r\n                  ]}\r\n                >\r\n                  {value => (\r\n                    <Box className={value.className} pad=\"small\" fill>\r\n                      {value.show && value.data}\r\n                    </Box>\r\n                  )}\r\n                </Distribution>}\r\n\r\n                {!this.state['clicked'] && <Distribution\r\n                  values={[\r\n                    { value: 100, className:\"top-tracks\", show: true, data: <FetchArtists clicked={this.state['clicked']} handleChange={this.handleChange} data={this.state.value} /> },\r\n                  ]}\r\n                >\r\n                  {value => (\r\n                    <Box className={value.className} pad=\"small\" fill>\r\n                      {value.show && value.data}\r\n                    </Box>\r\n                  )}\r\n                </Distribution>}\r\n\r\n\r\n            </div>\r\n            </BrowserView>\r\n\r\n\r\n        <MobileView>\r\n            <div style={{ marginTop: `0px`, marginLeft: '30px'}}>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <label>\r\n                    <Tabs\r\n                        value={this.state[\"value\"]}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        onChange={this.handleChange}\r\n                        aria-label=\"disabled tabs example\"\r\n                      >\r\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\r\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\r\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\r\n                      </Tabs>\r\n                </label>\r\n                </form>\r\n                <Distribution\r\n                  values={[\r\n                    { value: 100, className:\"top-tracks\", show: true, data: <FetchArtists clicked={this.state['clicked']} handleChange={this.handleChange} data={this.state.value} /> },\r\n                  ]}\r\n                >\r\n                  {value => (\r\n                    <Box className={value.className} pad=\"small\" fill>\r\n                      {value.show && value.data}\r\n                    </Box>\r\n                  )}\r\n                </Distribution>\r\n\r\n\r\n            </div>\r\n            </MobileView>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TopArtists;","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './topalbums.css'\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\nexport function FetchAlbums(data) {\r\n    const [albums, setAlbums] = useState([]);\r\n    const isCardFunction = (data.handleChange != null);\r\n    const scroll = data.scroll ? 'scroll' : 'hidden';\r\n    const spacer = data.scroll ? 3 : 2;\r\n\r\n\r\n    let token = cookie.get('access_token');\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        axios.get(`/api/user_albums/${data.data}/${token}/50`)\r\n        .then(res => {\r\n            if(isMounted) {\r\n                console.log(res.data)\r\n                setAlbums(res.data.albums)\r\n            }\r\n\r\n        })\r\n\r\n        return () => { isMounted = false };\r\n    }, [data.data])\r\n\r\n\r\n\r\n    return(\r\n\r\n<div style={{overflow: scroll, height: 'auto'}}>\r\n\r\n            <Grid container className=\"grid-container\"\r\n          alignItems=\"center\"\r\n          justify=\"center\" spacing={0}>\r\n\r\n                 {\r\n                albums.map((album,index) =>\r\n                    <Grid item xs={6} sm={spacer} md={spacer} lg={spacer}>\r\n                    {isCardFunction &&\r\n                        <Card onClick={() => data.handleChange(album)} className=\"track-card\">\r\n                            <CardMedia className=\"topalbums-img\" image={album.images[0].url}></CardMedia>\r\n                            <CardContent className=\"topalbums-info\">\r\n                                <Typography className=\"music-title\" gutterBottom variant=\"h6\" component=\"h6\">{index+1}. {album.name} by {album.artists[0].name}</Typography>\r\n                            </CardContent>\r\n                    </Card>\r\n                    }\r\n\r\n                 </Grid>\r\n                )}\r\n\r\n              </Grid>\r\n\r\n\r\n      </div>\r\n    );\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './topalbums.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport TopAlbums from './TopAlbums.js';\r\nimport PropTypes from 'prop-types'\r\nimport { Line } from 'react-chartjs-2';\r\n\r\n\r\n\r\n\r\n\r\nclass AlbumGraph extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(this.props);\r\n        this.nextProps = this.props;\r\n            this.chartReference = React.createRef();\r\n            this.mounted = false;\r\n            this.state = {value: 'short_term', clicked: false,\r\n                            data: [], artist:this.props.artist, feature:'valence'};\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n     componentWillReceiveProps(nextProps) {\r\n\r\n        let token = cookie.get('access_token');\r\n\r\n        if(this.props.artist.uri != nextProps.artist.uri) {\r\n            this.nextProps = nextProps;\r\n            this.componentDidMount();\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n        this.mounted = true;\r\n        axios.get(`/api/album/${this.nextProps.artist.uri}/${token}`)\r\n        .then(res => {\r\n            if(this.mounted){\r\n                fetch = res.data;\r\n                this.chartReference = React.createRef();\r\n                if(fetch.scores[this.state.feature].length > 1) {\r\n                    this.setState(oldState => ({\r\n                        'clicked': true,\r\n                        'album_info':fetch.album_info,\r\n                        'data': [{\r\n                            labels: fetch.names,\r\n                            'datasets': [{\r\n                                'data': fetch.scores[oldState.feature],\r\n                                'labels': oldState.feature,\r\n                                fill: true,\r\n                                backgroundColor: \"rgba(75,192,192,0.2)\",\r\n                                borderColor: \"rgba(75,192,192,1)\"\r\n                            }\r\n                            ]\r\n                        }]\r\n\r\n\r\n                    }));\r\n                }\r\n                else {\r\n                    this.setState(oldState => ({\r\n                        'clicked': true,\r\n                        'album_info':fetch.album_info,\r\n                        'data': null\r\n\r\n\r\n\r\n                    }));\r\n                }\r\n\r\n            }\r\n            console.log(this.state);\r\n                    return () => { this.mounted = false };\r\n\r\n\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n\r\n    }\r\n\r\n\r\n            render() {\r\n           if(this.state.data) {\r\n            return(\r\n\r\n        <div style={{backgroundColor: 'white'}}>\r\n        <Card>\r\n            {this.state.clicked && (this.state.data[0]['datasets'][0]['data'].length > 1) &&\r\n                <Line ref={this.chartReference}\r\n                                data={this.state.data[0]} options={{\r\n            title:{\r\n              display:true,\r\n              text:`Positivity Score by Track`,\r\n              fontSize:20,\r\n              fontFamily: 'Montserrat'\r\n            },\r\n            legend:{\r\n              display:false\r\n            },\r\n            scales: {\r\n                yAxes: [{\r\n                  gridLines: {\r\n                    drawBorder: false,\r\n                  },\r\n                  display: false\r\n                }]\r\n              },\r\n            plugins: {\r\n            filler: {\r\n                propagate: true\r\n            }\r\n        }\r\n          }} />\r\n\r\n\r\n           }\r\n\r\n             </Card>\r\n              </div>\r\n            );\r\n\r\n            }\r\n            var info = this.state.album_info;\r\n            return (<Card><CardContent><p>Cannot construct graph for songs in {info.name}</p></CardContent></Card>);\r\n            }\r\n\r\n}\r\n\r\nexport default AlbumGraph;\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './topalbums.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport ArtistPage from '../artist/ArtistPage.js'\r\nimport TopAlbums from './TopAlbums.js';\r\nimport PropTypes from 'prop-types'\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\n\r\nclass Alert extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.props = props\r\n    }\r\n\r\n    render() {\r\n        return <MuiAlert elevation={6} variant=\"filled\" {...this.props} />;\r\n\r\n    }\r\n }\r\n\r\n\r\n\r\n\r\nclass RelatedAlbums extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(this.props);\r\n        this.nextProps = this.props;\r\n        this.mounted = false;\r\n        this.state = {value: 'short_term', clicked: false,\r\n                            data: null, artist:this.props.artist};\r\n        console.log(\"WEEEEE2222E\");\r\n\r\n\r\n    }\r\n\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n\r\n        let token = cookie.get('access_token');\r\n\r\n        if(this.props != nextProps) {\r\n            this.nextProps = nextProps;\r\n            this.componentDidMount();\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n        this.mounted = true;\r\n        console.log(this.nextProps.artist.artist)\r\n        axios.get(`/api/album_track_info/${this.nextProps.artist.id}/${token}`)\r\n        .then(res => {\r\n            fetch = res.data;\r\n            if(this.mounted) {\r\n                this.setState(oldState => ({\r\n                    'clicked':true,\r\n                    'album_name':fetch.album_name,\r\n                    'album_info':fetch.tracks_in_album,\r\n                    'popularities':fetch.popularities,\r\n                    'track_names':fetch.track_names,\r\n                    'previews':fetch.audio,\r\n                    'current':null,\r\n                    'username':fetch.username,\r\n                    'disabled':new Array(fetch.audio.length).fill(false),\r\n                    'notif': false\r\n                 }));\r\n            }\r\n            return () => {this.mounted = false}\r\n        })\r\n\r\n\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n\r\n    }\r\n\r\n     componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n\r\n    playTrack = (url, play) => {\r\n        if(url) {\r\n            if(url != this.state['current'] && this.state['current']) {\r\n                this.player.pause();\r\n                this.player.src = url;\r\n                this.setState(oldState => ({\r\n                    'clicked':true,\r\n                    'album_name':oldState.album_name,\r\n                    'album_info':oldState.album_info,\r\n                    'popularities':oldState.popularities,\r\n                    'track_names':oldState.track_names,\r\n                    'previews':oldState.previews,\r\n                    'play':true,\r\n                    'current':url,\r\n                    'username':oldState.username,\r\n                    'disabled':oldState.disabled,\r\n                    'notif': false\r\n                }));\r\n                this.player.play();\r\n            }\r\n            else {\r\n              this.player.src = url;\r\n              if(!play) {\r\n                  this.player.play()\r\n                   this.setState(oldState => ({\r\n                        'clicked':true,\r\n                        'album_name':oldState.album_name,\r\n                        'album_info':oldState.album_info,\r\n                        'popularities':oldState.popularities,\r\n                        'track_names':oldState.track_names,\r\n                        'previews':oldState.previews,\r\n                        'play':true,\r\n                        'current':url,\r\n                        'username':oldState.username,\r\n                        'disabled':oldState.disabled,\r\n                        'notif': false\r\n                    }));\r\n                }\r\n                else {\r\n                    this.player.pause();\r\n                    this.setState(oldState => ({\r\n                        'clicked':true,\r\n                        'album_name':oldState.album_name,\r\n                        'album_info':oldState.album_info,\r\n                        'popularities':oldState.popularities,\r\n                        'track_names':oldState.track_names,\r\n                        'previews':oldState.previews,\r\n                        'play': false,\r\n                        'current':url,\r\n                        'username':oldState.username,\r\n                        'disabled':oldState.disabled,\r\n                        'notif': false\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    saveTrack = (track,index) => {\r\n        console.log(track);\r\n        let token = cookie.get('access_token');\r\n        axios.get(`/api/track/save/${track['id']}/${this.state['username']}/${token}`)\r\n                    .then(res => {\r\n\r\n                        var disabled_keys = this.state['disabled'];\r\n                        console.log(disabled_keys)\r\n                        disabled_keys[index] = true\r\n                        this.setState(oldState => ({\r\n                            'clicked':true,\r\n                            'album_name':oldState.album_name,\r\n                            'album_info':oldState.album_info,\r\n                            'popularities':oldState.popularities,\r\n                            'track_names':oldState.track_names,\r\n                            'previews':oldState.previews,\r\n                            'play': oldState.play,\r\n                            'current':oldState.current,\r\n                            'username':oldState.username,\r\n                            'disabled': disabled_keys,\r\n                            'notif': true\r\n                        }));\r\n\r\n\r\n\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err);\r\n                        console.log(\"error :(\");\r\n                    })\r\n    }\r\n\r\n\r\n        handleClose = (event, reason) => {\r\n                 this.setState(oldState => ({\r\n                            'clicked':true,\r\n                            'album_name':oldState.album_name,\r\n                            'album_info':oldState.album_info,\r\n                            'popularities':oldState.popularities,\r\n                            'track_names':oldState.track_names,\r\n                            'previews':oldState.previews,\r\n                            'play': oldState.play,\r\n                            'current':oldState.current,\r\n                            'username':oldState.username,\r\n                            'disabled': oldState.disabled,\r\n                            'notif': false\r\n                  }));\r\n\r\n\r\n            };\r\n\r\n\r\n            render() {\r\n\r\n            var player_on = !this.state['play'] ? \"Play\" : \"Stop\"\r\n\r\n            if(this.state.album_info) {\r\n\r\n\r\n            return(\r\n\r\n        <div style={{backgroundColor: 'white', overflow: 'scroll'}}>\r\n        <Card>\r\n        <CardHeader style={{fontFamily: 'Montserrat !important'}} title={this.state.album_name} subheader=\"Tracks in Album\" />\r\n        <CardContent>\r\n        <List>\r\n            {this.state.clicked &&\r\n                this.state.previews.map((name, index) =>\r\n                    <div>\r\n                    <ListItem>\r\n                        <ListItemText\r\n                            primary={this.state.track_names[index]}\r\n\r\n                         />\r\n                            {this.state['previews'][index] &&\r\n                             <div>\r\n                             <Button onClick={() => this.playTrack(this.state['previews'][index], this.state['play'])}>\r\n                                    {(!(this.state['play'] && (this.state['current'] == this.state['previews'][index]))) ? \"Play\" : \"Stop\"}</Button>\r\n                             </div>\r\n                             }\r\n                             {\r\n                             this.state['username']  && !this.state['disabled'][index] &&\r\n                                <Button onClick={() => this.saveTrack(this.state['album_info'][index], index)}>+</Button>\r\n                              }\r\n                    </ListItem>\r\n                    <Divider />\r\n                    </div>\r\n                )\r\n            }\r\n            </List>\r\n        </CardContent>\r\n            </Card>\r\n\r\n                    <>\r\n                        <audio ref={ref => this.player = ref} />\r\n                    </>\r\n\r\n                 <Snackbar open={this.state['notif']} autoHideDuration={2000} onClose={this.handleClose}>\r\n                    <Alert onClose={this.handleClose} severity=\"success\">\r\n                      Track Added to library!\r\n                    </Alert>\r\n                  </Snackbar>\r\n\r\n\r\n\r\n              </div>\r\n            );\r\n\r\n            }\r\n            return (<div>Loading...</div>);\r\n            }\r\n\r\n\r\n}\r\n\r\nexport default RelatedAlbums;\r\n\r\n","import React, { useState, useEffect, Component, setState } from 'react';\r\nimport cookie from 'js-cookie';\r\nimport {FetchAlbums} from './FetchAlbums.js';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport './topalbums.css'\r\nimport {Distribution, Box, Text} from 'grommet';\r\nimport AlbumGraph from './AlbumGraph.js';\r\nimport RelatedAlbums from './RelatedAlbums.js';\r\nimport { BrowserView,MobileView,isBrowser,isMobile} from \"react-device-detect\";\r\nimport PopularityChart from './PopularityChart.js';\r\n\r\n\r\nclass TopAlbums extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {value: 'short_term', sidePane: 100};\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.value = 'short_term'\r\n        console.log(\"YEEEEEE\");\r\n    }\r\n\r\n   handleChange = (artist) => {\r\n\r\n\r\n        if(!(this.state.artist) || this.state.artist.id != artist.id) {\r\n            this.setState(oldState => ({\r\n                value: oldState.value,\r\n                clicked: true,\r\n                artist: artist,\r\n                sidePane: 50\r\n            }));\r\n            this.render();\r\n        }\r\n        else {\r\n            this.setState(oldState => ({\r\n                value: oldState.value,\r\n                clicked: true,\r\n                artist: artist,\r\n                sidePane: 50\r\n            }));\r\n        }\r\n\r\n\r\n      }\r\n\r\n    changeTab = (event, new_value) => {\r\n        event.preventDefault();\r\n        this.setState({value: new_value});\r\n    }\r\n\r\n    handleSubmit = (event, new_value) => {\r\n        console.log(event);\r\n        console.log(new_value);\r\n        event.preventDefault();\r\n        this.setState({value: new_value});\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n        const track_list = <FetchAlbums data={this.state.value}/>;\r\n\r\n\r\n        return(\r\n            <div style={{marginLeft: '30px'}} class=\"browser-container\">\r\n                <BrowserView>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <label>\r\n                    <Tabs\r\n                        value={this.state[\"value\"]}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        onChange={this.handleSubmit}\r\n                        aria-label=\"disabled tabs example\"\r\n                      >\r\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\r\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\r\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\r\n                      </Tabs>\r\n                </label>\r\n                </form>\r\n\r\n                <div>\r\n\r\n                {this.state['sidePane'] != 100 &&\r\n                    <Distribution style={{maxHeight:'100vh'}} className=\"dist-box-albums\"\r\n                  values={[\r\n                    { value: 50, className:\"top-albums\", show: true, data: <FetchAlbums scroll={this.state['sidePane'] != 100} handleChange={this.handleChange} data={this.state.value} /> },\r\n                    { value: 25, className:\"album-graph\", show: (this.state.clicked && this.state.artist), data: <AlbumGraph style={{maxHeight: '35vh'}} {...this.state} artist={this.state.artist} /> },\r\n                    { value: 25, className:\"related-albums\", show: (this.state.clicked && (this.state.artist)), data: <RelatedAlbums style={{maxHeight: '35vh'}} {...this.state} /> }\r\n                  ]} >\r\n                  {value => (\r\n                <Box className={value.className} pad=\"small\" fill>\r\n                  {value.show && value.data}\r\n                </Box>\r\n              )}\r\n            </Distribution>\r\n              }\r\n\r\n                {this.state['sidePane'] == 100 &&\r\n                    <Distribution style={{maxHeight:'100vh'}} className=\"dist-box-albums\"\r\n                  values={[\r\n                    { value: this.state['sidePane'], className:\"top-albums\", show: true, data: <FetchAlbums handleChange={this.handleChange} data={this.state.value} /> } ]}>\r\n                    {value => (\r\n                <Box className={value.className} pad=\"small\" fill>\r\n                  {(value.show) && value.data}\r\n                </Box>\r\n              )}\r\n            </Distribution>\r\n                }\r\n\r\n\r\n\r\n\r\n\r\n                </div>\r\n            </BrowserView>\r\n\r\n            <MobileView>\r\n            <form onSubmit={this.handleSubmit}>\r\n                    <label>\r\n                    <Tabs\r\n                        value={this.state[\"value\"]}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        onChange={this.handleSubmit}\r\n                        aria-label=\"disabled tabs example\"\r\n                      >\r\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\r\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\r\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\r\n                      </Tabs>\r\n                </label>\r\n                </form>\r\n             <FetchAlbums handleChange={this.handleChange} data={this.state.value} />\r\n            </MobileView>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TopAlbums;","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './topalbums.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport TopAlbums from './TopAlbums.js';\r\nimport PropTypes from 'prop-types'\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport { CircularProgressbar } from 'react-circular-progressbar';\r\nimport 'react-circular-progressbar/dist/styles.css';\r\n\r\n\r\n\r\n\r\n\r\nclass PopularityChart extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n         this.nextProps = this.props;\r\n            this.chartReference = React.createRef();\r\n\r\n            this.state = {value: 'short_term', clicked: false,\r\n                            data: [], artist:this.props.artist, feature:'valence'};\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n            let token = cookie.get('access_token');\r\n\r\n        if(this.props.artist.uri != nextProps.artist.uri) {\r\n            this.nextProps = nextProps;\r\n            this.componentDidMount();\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n        console.log(this.nextProps.artist.artist)\r\n        axios.get(`/api/album/${this.nextProps.artist.uri}/${token}`)\r\n        .then(res => {\r\n            fetch = res.data;\r\n            console.log(fetch);\r\n                this.setState(oldState => ({\r\n                    'clicked': true,\r\n                    'album_info':fetch.album_info,\r\n\r\n\r\n\r\n                }));\r\n\r\n\r\n\r\n\r\n\r\n            console.log(this.state);\r\n\r\n\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n            render() {\r\n\r\n\r\n           if(this.state.album_info) {\r\n            return(\r\n\r\n        <div style={{backgroundColor: 'white'}}>\r\n\r\n        <h6>Popularity</h6>\r\n<CircularProgressbar value={this.state.album_info.popularity} text={`${this.state.album_info.popularity}`} strokeWidth={12} />;\r\n\r\n              </div>\r\n            );\r\n\r\n            }\r\n            return (<div><h4>Loading...</h4></div>);\r\n            }\r\n\r\n}\r\n\r\nexport default PopularityChart;\r\n","import React, { useState, useEffect, Component, setState } from 'react';\r\nimport cookie from 'js-cookie';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport {Distribution, Box, Text} from 'grommet';\r\nimport {\r\n  BrowserView,\r\n  MobileView,\r\n  isBrowser,\r\n  isMobile\r\n} from \"react-device-detect\";\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport axios from 'axios';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport List from '@material-ui/core/List';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport './search.css';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\n\r\nclass SearchTracks extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(props.id.term);\r\n        this.state = {id: props.id.term, tracks: [], sort_by: 'track'};\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n\r\n        axios.get(`/api/track/search/${this.state['id']}/${token}`)\r\n        .then(res => {\r\n            console.log(res.data)\r\n            this.setState(oldState => ({\r\n                id: oldState.id,\r\n                tracks: res.data.search['tracks'].items,\r\n                artist_info: res.data.artist_info\r\n            }));\r\n        })\r\n        .catch(err => {\r\n            console.log(\"error :(\")\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div style={{position: 'relative', marginLeft: '84px', width:'90%'}}>\r\n                <h1 className=\"search-header\">Search Results</h1>\r\n                <TableContainer style={{marginLeft: '10px'}} component={Paper}>\r\n                  <Table aria-label=\"simple table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell size=\"medium\" className=\"table-header\" classes=\"table-header\" align=\"left\">Track Name</TableCell>\r\n                        <TableCell size=\"medium\" className=\"table-header\" classes=\"table-header\" align=\"left\">Artist</TableCell>\r\n                        <TableCell size=\"medium\" className=\"table-header\" classes=\"table-header\" align=\"right\">Duration</TableCell>\r\n                        <TableCell size=\"medium\" className=\"table-header\" classes=\"table-header\" align=\"right\">Popularity</TableCell>\r\n                        <TableCell size=\"medium\" className=\"table-header\" classes=\"table-header\" align=\"center\">Genre</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n\r\n                    {this.state['tracks'] && this.state['tracks'].map((track,index) =>\r\n                        <TableRow key={track['name']}>\r\n              <TableCell className=\"table-results\" component=\"th\" scope=\"row\">\r\n                <div className=\"avatar-head\">\r\n                    <Avatar className=\"table-avatar\" src={track['album']['images'].length > 0 ? track['album']['images'][0]['url'] : \"\"} />&emsp; <h6 className=\"track-name\">{track.name}</h6>\r\n                </div>\r\n              </TableCell>\r\n              <TableCell className=\"table-results\" align=\"left\">{track['artists'][0]['name']}</TableCell>\r\n              <TableCell className=\"table-results\" align=\"right\">{Math.trunc(track['duration_ms']/60000) + \":\" +\r\n                        Math.trunc((track['duration_ms']/60000-Math.trunc(track['duration_ms']/60000))*60)}</TableCell>\r\n              <TableCell className=\"table-results\" align=\"right\">{track['popularity']}</TableCell>\r\n              <TableCell className=\"table-results\" align=\"center\">{this.state['artist_info'][index]['genres'].join(\", \")}</TableCell>\r\n            </TableRow>\r\n\r\n\r\n\r\n\r\n                     )}\r\n\r\n               </Table>\r\n               </TableContainer>\r\n\r\n\r\n            </div>\r\n\r\n        );\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default SearchTracks;\r\n","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './tracks.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport ArtistPage from '../artist/ArtistPage.js'\r\nimport TopTracks from './TopTracks.js';\r\nimport PropTypes from 'prop-types';\r\nimport PlayCircleOutlineIcon from '@material-ui/icons/PlayCircleOutline';\r\nimport PlayCircleFilledIcon from '@material-ui/icons/PlayCircleFilled';\r\nimport Fab from '@material-ui/core/Fab';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass FetchTracks extends React.Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(props);\r\n//        const [tracks, setTracks] = useState([]);\r\n//        const [track, setTrack] = useState([]);\r\n//        const [artistId, setArtistId] = useState([]);\r\n        this.k = 50;\r\n        this.data = this.props.data;\r\n         this.state = {value: this.props.data, clicked: this.props.clicked, hovering: new Array(this.k).fill(false)};\r\n        this.isCardFunction = (this.props.handleChange != null);\r\n        this.spacer = this.props.clicked ? 4 : 2;\r\n        this.scroll = this.props.clicked ? 'scroll' : 'hidden';\r\n        this.hovering = false;\r\n    }\r\n\r\n\r\n    async componentDidMount() {\r\n\r\n        let token = cookie.get('access_token');\r\n            axios.get(`/api/user/${this.props.data}/${token}/${this.k}`)\r\n            .then(res => {\r\n                this.setState(oldState => ({\r\n                    'value':  this.state['value'],\r\n                    'tracks': res.data.top_tracks,\r\n                    'hovering':oldState.hovering\r\n                }));\r\n            })\r\n            .catch(err => {\r\n                console.log('error :(')\r\n                console.log(err)\r\n            })\r\n    }\r\n    async componentDidUpdate(prev) {\r\n\r\n        if(prev.value != this.props['value']) {\r\n\r\n            let token = cookie.get('access_token');\r\n                axios.get(`/api/user/${this.props.data}/${token}/${this.k}`)\r\n                .then(res => {\r\n                    this.setState(oldState => ({\r\n                        'value':  oldState.value,\r\n                        'tracks': res.data.top_tracks,\r\n                        'hovering':oldState.hovering\r\n                    }));\r\n                })\r\n                .catch(err => {\r\n                    console.log('error :(')\r\n                    console.log(err)\r\n                })\r\n\r\n        }\r\n\r\n     }\r\n\r\n\r\n        handleHover = (index, bool) => {\r\n            var temp = this.state['hovering'];\r\n            temp[index] = bool;\r\n            this.setState(oldState => ({\r\n                'value':  oldState.value,\r\n                'tracks': oldState.tracks,\r\n                'hovering':temp\r\n            }));\r\n\r\n        }\r\n        render() {\r\n\r\n            if('tracks' in this.state) {\r\n                return(\r\n\r\n                <div style={{height: 'auto', overflow: this.scroll}}>\r\n                    <Grid container className=\"grid-container\"\r\n                  alignItems=\"center\"\r\n                  justify=\"center\" spacing={0}>\r\n\r\n                         {\r\n                        this.state['tracks'].map((track,index) =>\r\n                            <Grid item xs={6} sm={this.spacer} md={this.spacer} lg={this.spacer}>\r\n                            {this.isCardFunction &&\r\n                                <Card onMouseEnter={() => this.handleHover(index, true)} onMouseLeave={() => this.handleHover(index, false)}\r\n                                        onClick={() => this.props.handleChange(track)} className=\"track-card\">\r\n\r\n                                <CardMedia className=\"track-img\" image={track.image}></CardMedia>\r\n\r\n\r\n\r\n\r\n\r\n                            </Card>\r\n                            }\r\n\r\n                         </Grid>\r\n                        )}\r\n\r\n                      </Grid>\r\n                      </div>\r\n                    );\r\n            }\r\n            else {\r\n                return (<div>Loading...</div>);\r\n            }\r\n\r\n\r\n\r\n            }\r\n\r\n}\r\nexport default FetchTracks;\r\n//\r\n//           <CardContent className=\"track-info\">\r\n//                                        <Typography className=\"music-title\" gutterBottom variant=\"h6\" component=\"h6\">{index+1}. {track.track_name} by {track.artist}</Typography>\r\n//                                    </CardContent>","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './tracks.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport ArtistPage from '../artist/ArtistPage.js'\r\nimport TopTracks from './TopTracks.js';\r\nimport PropTypes from 'prop-types'\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\n\r\nclass Alert extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.props = props\r\n    }\r\n\r\n    render() {\r\n        return <MuiAlert elevation={6} variant=\"filled\" {...this.props} />;\r\n\r\n    }\r\n }\r\n\r\n\r\n\r\nclass RelatedTracks extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(\"MEEEEEE\");\r\n            this.added = {};\r\n            this.chartReference = React.createRef();\r\n            this.nextProps = this.props;\r\n            this.state = {value: 'short_term', clicked: false,\r\n                            data: null, artist:this.props.artist, play: false, notif: false};\r\n\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n            let token = cookie.get('access_token');\r\n\r\n        if(this.props != nextProps) {\r\n            this.nextProps = nextProps\r\n            this.componentDidMount();\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n        axios.get(`/api/related_tracks/${this.nextProps.artist.id}/${token}`)\r\n        .then(res => {\r\n            fetch = res.data;\r\n            this.setState({\r\n                'clicked':true,\r\n                'artists':fetch.artists,\r\n                'track_names':fetch.song_names,\r\n                'images':fetch.images,\r\n                'previews':fetch.audio,\r\n                'current':null,\r\n                'track_ids':fetch.ids,\r\n                'username':fetch.username,\r\n                'disabled':new Array(fetch.audio.length).fill(false),\r\n                'notif': false\r\n            })\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n\r\n\r\n    }\r\n\r\n     playTrack = (url, play) => {\r\n        if(url) {\r\n            if(url != this.state['current'] && this.state['current']) {\r\n                this.player.pause();\r\n                this.player.src = url;\r\n                this.setState(oldState => ({\r\n                    'clicked':oldState.clicked,\r\n                    'artists':oldState.artists,\r\n                    'track_names':oldState.track_names,\r\n                    'images':oldState.images,\r\n                    'previews':oldState.previews,\r\n                    'play':true,\r\n                    'current':url,\r\n                    'track_ids':oldState.track_ids,\r\n                    'username':oldState.username,\r\n                    'disabled':oldState.disabled,\r\n                    'notif': false\r\n\r\n                }));\r\n                this.player.play();\r\n            }\r\n            else {\r\n              this.player.src = url;\r\n              if(!play) {\r\n                  this.player.play()\r\n                   this.setState(oldState => ({\r\n                        'clicked':oldState.clicked,\r\n                        'artists':oldState.artists,\r\n                        'track_names':oldState.track_names,\r\n                        'images':oldState.images,\r\n                        'previews':oldState.previews,\r\n                        'play':true,\r\n                        'current':url,\r\n                        'track_ids':oldState.track_ids,\r\n                        'username':oldState.username,\r\n                        'disabled':oldState.disabled,\r\n                        'notif': false\r\n                    }));\r\n\r\n                }\r\n                else {\r\n                    this.player.pause();\r\n                    this.setState(oldState => ({\r\n                        'clicked':oldState.clicked,\r\n                        'artists':oldState.artists,\r\n                        'track_names':oldState.track_names,\r\n                        'images':oldState.images,\r\n                        'previews':oldState.previews,\r\n                        'play':false,\r\n                        'current':oldState.url,\r\n                        'track_ids':oldState.track_ids,\r\n                        'username':oldState.username,\r\n                        'disabled':oldState.disabled,\r\n                        'notif':false\r\n                    }));\r\n\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n        saveTrack = (track, index) => {\r\n            let token = cookie.get('access_token');\r\n\r\n            axios.get(`/api/track/save/${track}/${this.state['username']}/${token}`)\r\n                    .then(res => {\r\n                        this.added[track] = true;\r\n                        var disabled_keys = this.state['disabled'];\r\n                        disabled_keys[index] = true\r\n                        this.setState(oldState => ({\r\n                        'clicked':oldState.clicked,\r\n                        'artists':oldState.artists,\r\n                        'track_names':oldState.track_names,\r\n                        'images':oldState.images,\r\n                        'previews':oldState.previews,\r\n                        'play':oldState.play,\r\n                        'current':oldState.url,\r\n                        'track_ids':oldState.track_ids,\r\n                        'username':oldState.username,\r\n                        'disabled':disabled_keys,\r\n                        'notif': true\r\n                    }));\r\n\r\n\r\n\r\n                    })\r\n                    .catch(err => {\r\n\r\n                        console.log(\"error :(\");\r\n                    })\r\n\r\n    }\r\n\r\n            handleClose = (event, reason) => {\r\n                 this.setState(oldState => ({\r\n                        'clicked':oldState.clicked,\r\n                        'artists':oldState.artists,\r\n                        'track_names':oldState.track_names,\r\n                        'images':oldState.images,\r\n                        'previews':oldState.previews,\r\n                        'play':false,\r\n                        'current':oldState.url,\r\n                        'track_ids':oldState.track_ids,\r\n                        'username':oldState.username,\r\n                        'disabled':oldState.disabled,\r\n                        'notif': false\r\n                  }));\r\n\r\n\r\n            };\r\n\r\n\r\n\r\n\r\n            render() {\r\n\r\n\r\n\r\n            return(\r\n\r\n        <div style={{backgroundColor: 'white', overflow: 'scroll'}}>\r\n\r\n            <h2 style={{fontWeight: '300', marginTop: '20px', marginBottom: '0px'}}>Related Tracks</h2>\r\n            <List>\r\n                {this.state.clicked &&\r\n                    this.state.artists.map((artist, index) =>\r\n                        <ListItem>\r\n                            <ListItemAvatar>\r\n                                <Avatar alt=\"Image\" src={this.state.images[index]} />\r\n                            </ListItemAvatar>\r\n                            <ListItemText\r\n                                primary={this.state.track_names[index]}\r\n                            secondary={this.state.artists[index]}\r\n                             />\r\n\r\n                             {this.state['previews'][index] &&\r\n                             <div>\r\n                             <Button onClick={() => this.playTrack(this.state['previews'][index], this.state['play'])}>\r\n                             {(!(this.state['play'] && (this.state['current'] == this.state['previews'][index]))) ? \"Play\" : \"Stop\"}\r\n                             </Button>\r\n                             </div>\r\n                             }\r\n                             {\r\n                             this.state['username']  && !this.state['disabled'][index] &&\r\n                             <Button onClick={() => this.saveTrack(this.state['track_ids'][index], index)}>+</Button>\r\n                               }\r\n\r\n                        </ListItem>\r\n\r\n                    )\r\n                }\r\n            </List>\r\n\r\n                        <>\r\n                        <audio ref={ref => this.player = ref} />\r\n                        </>\r\n\r\n                <Snackbar open={this.state['notif']} autoHideDuration={2000} onClose={this.handleClose}>\r\n                    <Alert onClose={this.handleClose} severity=\"success\">\r\n                      Track Added to library!\r\n                    </Alert>\r\n                  </Snackbar>\r\n\r\n\r\n              </div>\r\n            );\r\n\r\n            }\r\n\r\n}\r\n\r\nexport default RelatedTracks;","import React, {useEffect, useState} from 'react';\r\nimport cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { List, Image } from 'semantic-ui-react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport './tracks.css'\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport ArtistPage from '../artist/ArtistPage.js'\r\nimport TopTracks from './TopTracks.js';\r\nimport PropTypes from 'prop-types'\r\nimport { Doughnut, Radar, HorizontalBar } from 'react-chartjs-2';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport RelatedTracks from './RelatedTracks.js';\r\n\r\n\r\n\r\n\r\n\r\nclass TrackGraph extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(this.props);\r\n\r\n            this.chartReference = React.createRef();\r\n            this.nextProps = this.props;\r\n            this.state = {value: 'short_term', clicked: false,\r\n                            data: null, artist:this.props.artist};\r\n\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n            let token = cookie.get('access_token');\r\n\r\n//        console.log(nextProps.artist);\r\n//        console.log(this.props.artist);\r\n\r\n        if(this.props != nextProps) {\r\n            this.nextProps = nextProps\r\n            this.componentDidMount();\r\n\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let token = cookie.get('access_token');\r\n        console.log(this.nextProps.artist.artist)\r\n        axios.get(`/api/track/${this.nextProps.artist.uri}/${token}`)\r\n        .then(res => {\r\n            fetch = res.data;\r\n            console.log(fetch);\r\n            this.setState({\r\n                'clicked': true,\r\n                'dataset': {\r\n                    data: fetch.scores,\r\n                    labels: fetch.labels,\r\n                    backgroundColor: fetch.colors\r\n                },\r\n                'data': [{\r\n                    labels: fetch.labels,\r\n                    datasets: [{\r\n                        'data': fetch.scores,\r\n                        'labels': fetch.labels,\r\n                        'backgroundColor': fetch.colors\r\n                    }]\r\n                }]\r\n\r\n            });\r\n            this.render();\r\n\r\n\r\n        })\r\n        .catch(err => {\r\n            console.log('error :(')\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n            render() {\r\n            return(\r\n\r\n        <div>\r\n\r\n\r\n\r\n\r\n        <div style={{backgroundColor: 'white'}}>\r\n\r\n        <Card>\r\n            {this.state.clicked &&\r\n            <Card class=\"track-chart-container\">\r\n\r\n                    <HorizontalBar ref={this.chartReference}\r\n                                    data={this.state.data[0]} options={{\r\n                                        legend: {\r\n                                            display: false\r\n                                        },\r\n                                        title: {\r\n                                            display: true,\r\n                                            text: 'Feature Scores',\r\n                                            fontFamily: 'Montserrat',\r\n                                            fontSize: '18'\r\n                                        }\r\n\r\n\r\n                                    }}  />\r\n            </Card>\r\n            }\r\n\r\n\r\n\r\n             </Card>\r\n              </div>\r\n             </div>\r\n            );\r\n\r\n            }\r\n\r\n}\r\n\r\nexport default TrackGraph;","import React, { useState, useEffect, Component, setState } from 'react';\r\nimport cookie from 'js-cookie';\r\nimport FetchTracks from './FetchTracks.js';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport './tracks.css'\r\nimport {Distribution, Box, Text} from 'grommet';\r\nimport TrackGraph from './TrackGraph.js';\r\nimport RelatedTracks from './RelatedTracks.js';\r\nimport {\r\n  BrowserView,\r\n  MobileView,\r\n  isBrowser,\r\n  isMobile\r\n} from \"react-device-detect\";\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\n\r\n\r\nclass TopTracks extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {value: 'short_term', clicked: false};\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.onClick = this.props.onClick;\r\n        this.showGraph = false;\r\n        this.graphTrack =  null;\r\n    }\r\n    handleChange = (artist) => {\r\n        if(this.state.artist != artist) {\r\n            this.setState(oldState => ({\r\n                value: oldState.value,\r\n                clicked: true,\r\n                artist: artist\r\n            }), () => console.log(this.state.artist.artist));\r\n\r\n        }\r\n\r\n\r\n\r\n      }\r\n\r\n\r\n    handleSubmit = (event, new_value) => {\r\n        this.setState(oldState => ({\r\n                value: new_value,\r\n                clicked: oldState.clicked,\r\n                artist: oldState.artist\r\n            }));\r\n\r\n    }\r\n\r\n\r\n\r\n     async componentDidMount() {\r\n      }\r\n\r\n    render(){\r\n\r\n        return(\r\n\r\n            <div style={{marginLeft: '30px'}} class=\"browser-container\">\r\n            <BrowserView>\r\n                <form>\r\n                    <label>\r\n                    <Tabs\r\n                        value={this.state[\"value\"]}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        onChange={this.handleSubmit}\r\n                        aria-label=\"disabled tabs example\"\r\n                      >\r\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\r\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\r\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\r\n                      </Tabs>\r\n                </label>\r\n                </form>\r\n\r\n                {this.state['clicked'] && this.state['value'] && <Distribution style={{maxHeight:'100vh'}} className=\"dist-box-tracks\"\r\n              values={[\r\n                { value: 50, className:\"top-tracks\", show: true, data: <FetchTracks clicked={this.state['clicked']} {...this.state} handleChange={this.handleChange} data={this.state['value']} /> },\r\n                { value: 25, className:\"related-tracks\", show: (this.state.clicked && (this.state.artist)), data: <RelatedTracks {...this.state} artist={this.state.artist} /> },\r\n                { value: 25, className:\"track-graph\", show: (this.state.clicked && (this.state.artist)), data: <TrackGraph {...this.state} artist={this.state.artist} /> }\r\n              ]}\r\n            >\r\n              {value =>\r\n                <Box className={value.className} pad=\"small\" fill>\r\n                  {value.show && value.data}\r\n                </Box>\r\n              }\r\n            </Distribution>\r\n            }\r\n            {!this.state['clicked'] && this.state['value'] && <Distribution style={{maxHeight:'100vh'}} className=\"dist-box-tracks\"\r\n              values={[\r\n                { value: 100, className:\"top-tracks\", show: true, data: <FetchTracks clicked={this.state['clicked']} handleChange={this.handleChange} {...this.state} data={this.state['value']}  /> }\r\n              ]}\r\n            >\r\n              {value =>\r\n                <Box className={value.className} pad=\"small\" fill>\r\n                  {value.show && value.data}\r\n                </Box>\r\n              }\r\n            </Distribution>\r\n            }\r\n\r\n\r\n            </BrowserView>\r\n\r\n            <MobileView>\r\n            <form>\r\n                    <label>\r\n                    <Tabs\r\n                        value={this.state[\"value\"]}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        onChange={this.handleSubmit}\r\n                        aria-label=\"disabled tabs example\"\r\n                      >\r\n                            <Tab className=\"track-tab\" value=\"short_term\" label=\"Week\" />\r\n                            <Tab className=\"track-tab\" value=\"medium_term\" label=\"Month\" />\r\n                            <Tab className=\"track-tab\" value=\"long_term\" label=\"All Time\" />\r\n                      </Tabs>\r\n                </label>\r\n                </form>\r\n             <FetchTracks handleChange={this.handleChange} {...this.state} data={this.state['value']}  />\r\n            </MobileView>\r\n\r\n            </div>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default TopTracks;","import React, { useState, useEffect, Component } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { getSpotifyUser } from './util/auth';\r\nimport Login from './components/login';\r\nimport Home from './components/home/Home';\r\nimport NavBar from './components/common/navbar/Navbar';\r\nimport Logout from './components/logout/Logout';\r\nimport './App.css';\r\nimport {logout} from './util/auth';\r\nimport { User } from 'react-spotify-api';\r\nimport GenreGraphs from './components/graphs/GenreGraphs';\r\nimport GenreMappings from './components/graphs/GenreMappings';\r\nimport ArtistPage from './components/artist/ArtistPage';\r\nimport Dash from './components/dashboard/Dash';\r\nimport TopArtists from './components/top_artists/TopArtists';\r\nimport TopAlbums from './components/top_albums/TopAlbums';\r\nimport SearchTracks from './components/search/SearchTracks';\r\nimport TopTracks from './components/top_tracks/TopTracks';\r\nimport { Nav } from 'react-bootstrap';\r\nimport Sidebar from './components/sidebar/Sidebar';\r\nimport Redirect from './components/common/Redirect.jsx'\r\n\r\nclass App extends Component{\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props);\r\n    this.state =  {status: 'Not logged in'};\r\n  }\r\n\r\n  search = (term) => {\r\n    console.log(this.state)\r\n    let currStatus = ('status' in this.state ? this.state['status'] : null);\r\n    let currInfo = 'userInfo' in this.state ? this.state['userInfo'] : null;\r\n    this.setState({\r\n        status: currStatus,\r\n        userInfo: currInfo,\r\n        searchTerm: term\r\n    },console.log(\"EMEMEMEMEM\"+currStatus+\", \"+currInfo));\r\n\r\n  }\r\n\r\n\r\n  setUserInfo = (userInfo) => this.setState({ userInfo });\r\n\r\n  async componentDidMount() {\r\n    const userInfo = await getSpotifyUser();\r\n    if (userInfo) {\r\n      this.setUserInfo(userInfo);\r\n    }\r\n  }\r\n  render(){\r\n    const { userInfo } = this.state;\r\n    console.log(userInfo);\r\n    return (\r\n      <div className=\"App\">\r\n        <link rel=\"stylesheet\" href=\"//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css\" />\r\n        <Router>\r\n          <div style={{height:'100%'}}>\r\n            <Switch>\r\n              <Route exact path=\"/login\" component={(props) =>\r\n                <Login {...props} setUserInfo={this.setUserInfo} userInfo={userInfo} />\r\n              }/>\r\n              <Route exact path=\"/\" component={(props) =>\r\n                (userInfo == 'Not logged in') || !(userInfo) || ('status' in userInfo && userInfo['status'] == 'Not logged in') ?\r\n                 <Login {...props} setUserInfo={this.setUserInfo} userInfo={userInfo} />\r\n                 : <div>\r\n                <Sidebar searchFunc={this.search} searchTerm={this.state['searchTerm']} userInfo={userInfo}/>\r\n                 <Dash userInfo={userInfo}/>\r\n                 </div>\r\n              }/>\r\n              <Route exact path=\"/logout\" component={(props) =>\r\n                 <Logout userInfo={userInfo} />\r\n               }/>\r\n\r\n              <Route exact path=\"/top_tracks\">\r\n                <Sidebar searchFunc={this.search} searchTerm={this.state['searchTerm']} userInfo={userInfo}/>\r\n                <TopTracks/>\r\n              </Route>\r\n              <Route exact path=\"/graphs\">\r\n                <Sidebar searchFunc={this.search} searchTerm={this.state['searchTerm']} userInfo={userInfo}/>\r\n                <GenreGraphs />\r\n              </Route>\r\n              <Route exact path=\"/artist/:uri\" render={(props) =>\r\n                <div style={{height:'100%'}}>\r\n                <Sidebar searchFunc={this.search} searchTerm={this.state['searchTerm']} userInfo={userInfo}/>\r\n                <ArtistPage style={{height:'100%'}} id={props.match.params} />\r\n                </div>\r\n               } />\r\n               <Route exact path=\"/search/:term\" render={(props) =>\r\n                <div style={{height:'100%'}}>\r\n                <Sidebar searchFunc={this.search} searchTerm={this.state['searchTerm']} userInfo={userInfo}/>\r\n                <SearchTracks style={{height:'100%'}} id={props.match.params} />\r\n                </div>\r\n               } />\r\n               <Route exact path=\"/top_artists\">\r\n               <Sidebar searchFunc={this.search} searchTerm={this.state['searchTerm']} userInfo={userInfo}/>\r\n                <TopArtists/>\r\n               </Route>\r\n               <Route exact path=\"/top_albums\">\r\n                 <Sidebar searchFunc={this.search} searchTerm={this.state['searchTerm']} userInfo={userInfo}/>\r\n                 <TopAlbums/>\r\n               </Route>\r\n               <Route exact path=\"/dashboard\">\r\n                 <Sidebar searchFunc={this.search} searchTerm={this.state['searchTerm']} userInfo={userInfo}/>\r\n                 <Dash userInfo={userInfo}/>\r\n               </Route>\r\n            </Switch>\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { SpotifyApiAxiosContext, SpotifyApiContext } from 'react-spotify-api';\r\nimport axios from 'axios';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();"],"sourceRoot":""}